<!DOCTYPE html>





<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.4.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.4.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="容器1.基本概念_Collection_Set_List 接口介绍1.1 集合数组：  一旦创建长度不能更改 局限性 只能存 引用数据类型 1.2 容器框架 1.3 各接口的特点底层数据结构不同  LinkedList底层数据结构是链表，删除和添加数据元素的效率高，数据结构复杂 ArrayList底层数据结构是数组，删除和添加数据元素的效率低 Collection 接口存储一组不唯一，无序的对象">
<meta name="keywords" content="java">
<meta property="og:type" content="article">
<meta property="og:title" content="容器container">
<meta property="og:url" content="http://zwer.xyz/2018/11/08/Java/20181104 容器/index.html">
<meta property="og:site_name" content="zwer 的博客空间">
<meta property="og:description" content="容器1.基本概念_Collection_Set_List 接口介绍1.1 集合数组：  一旦创建长度不能更改 局限性 只能存 引用数据类型 1.2 容器框架 1.3 各接口的特点底层数据结构不同  LinkedList底层数据结构是链表，删除和添加数据元素的效率高，数据结构复杂 ArrayList底层数据结构是数组，删除和添加数据元素的效率低 Collection 接口存储一组不唯一，无序的对象">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://www.zwer.xyz/Collection0.png">
<meta property="og:image" content="http://www.zwer.xyz/ListedList.png">
<meta property="og:image" content="http://www.zwer.xyz/%E5%8F%8C%E9%93%BE%E8%A1%A8.png">
<meta property="og:image" content="http://www.zwer.xyz/HashMap.jpg">
<meta property="og:image" content="http://www.zwer.xyz/Itetator.png">
<meta property="og:image" content="http://www.zwer.xyz/CollectionAndMap.png">
<meta property="og:image" content="http://www.zwer.xyz/CollectionAndMap%20of%20Summary.jpg">
<meta property="og:updated_time" content="2019-09-08T11:49:00.896Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="容器container">
<meta name="twitter:description" content="容器1.基本概念_Collection_Set_List 接口介绍1.1 集合数组：  一旦创建长度不能更改 局限性 只能存 引用数据类型 1.2 容器框架 1.3 各接口的特点底层数据结构不同  LinkedList底层数据结构是链表，删除和添加数据元素的效率高，数据结构复杂 ArrayList底层数据结构是数组，删除和添加数据元素的效率低 Collection 接口存储一组不唯一，无序的对象">
<meta name="twitter:image" content="http://www.zwer.xyz/Collection0.png">
  <link rel="canonical" href="http://zwer.xyz/2018/11/08/Java/20181104 容器/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>容器container | zwer 的博客空间</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">zwer 的博客空间</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">上善若水 自强不息</p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>
  </ul>

    

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
      <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block post">
    <link itemprop="mainEntityOfPage" href="http://zwer.xyz/2018/11/08/Java/20181104 容器/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zwer">
      <meta itemprop="description" content="记录学习的日常">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zwer 的博客空间">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">容器container

          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2018-11-08 22:00:35" itemprop="dateCreated datePublished" datetime="2018-11-08T22:00:35+08:00">2018-11-08</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-09-08 19:49:00" itemprop="dateModified" datetime="2019-09-08T19:49:00+08:00">2019-09-08</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="容器"><a href="#容器" class="headerlink" title="容器"></a>容器</h2><h4 id="1-基本概念-Collection-Set-List-接口介绍"><a href="#1-基本概念-Collection-Set-List-接口介绍" class="headerlink" title="1.基本概念_Collection_Set_List 接口介绍"></a>1.基本概念_Collection_Set_List 接口介绍</h4><h5 id="1-1-集合"><a href="#1-1-集合" class="headerlink" title="1.1 集合"></a>1.1 集合</h5><p>数组：  一旦创建长度不能更改 局限性</p>
<p><strong>只能存 引用数据类型</strong></p>
<h5 id="1-2-容器框架"><a href="#1-2-容器框架" class="headerlink" title="1.2 容器框架"></a>1.2 容器框架</h5><p><img src="http://www.zwer.xyz/Collection0.png" alt="1541292931739"></p>
<h5 id="1-3-各接口的特点"><a href="#1-3-各接口的特点" class="headerlink" title="1.3 各接口的特点"></a>1.3 各接口的特点</h5><p>底层数据结构不同 </p>
<p>LinkedList底层数据结构是链表，删除和添加数据元素的效率高，数据结构复杂</p>
<p>ArrayList底层数据结构是数组，删除和添加数据元素的效率低</p>
<p>Collection 接口存储一组不唯一，无序的对象</p>
<p>List接口存储一组不唯一，<strong>有序</strong>（索引顺序）的对象</p>
<p>Set接口存储一组唯一，<strong>无序的</strong>对象</p>
<h4 id="2-List接口ArrayList用法详解"><a href="#2-List接口ArrayList用法详解" class="headerlink" title="2. List接口ArrayList用法详解"></a>2. List接口<code>ArrayList</code>用法详解</h4><h5 id="2-1ArrayList-实现类-用法"><a href="#2-1ArrayList-实现类-用法" class="headerlink" title="2.1ArrayList 实现类 用法"></a>2.1ArrayList 实现类 用法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.TestListarray;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ListIterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestListArray</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//创建List接口的实现类ArrayList</span></span><br><span class="line">		List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//1. add方法</span></span><br><span class="line">		list.add(<span class="string">"HelloArray"</span>);</span><br><span class="line">		list.add(<span class="number">123</span>);<span class="comment">//自动装箱  Integer.valueOf(123);</span></span><br><span class="line">		list.add(<span class="keyword">new</span> Scanner(System.in));</span><br><span class="line">		System.out.println(<span class="string">"list: "</span>+list);</span><br><span class="line">		List list2 = <span class="keyword">new</span> ArrayList();</span><br><span class="line">		list2.add(<span class="string">"HelloArray"</span>);</span><br><span class="line">		list2.add(<span class="number">123</span>);</span><br><span class="line">		System.out.println(<span class="string">"list2: "</span>+list2);</span><br><span class="line">		<span class="comment">//2. addAll</span></span><br><span class="line">		list.addAll(list2);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//3.remove</span></span><br><span class="line">		list.remove(<span class="string">"HelloArray"</span>);</span><br><span class="line">		<span class="comment">//list.remove(123);//123被认为是索引，而非元素内容</span></span><br><span class="line">		list.remove(<span class="keyword">new</span> Integer(<span class="number">123</span>));</span><br><span class="line">		list.remove(<span class="number">0</span>);<span class="comment">//根据索引删除元素</span></span><br><span class="line">		System.out.println(<span class="string">"list: "</span>+list);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//4.removeAll</span></span><br><span class="line">		list.add(<span class="string">"zwz"</span>);</span><br><span class="line">		<span class="comment">//list.removeAll(list2);</span></span><br><span class="line">		list.retainAll(list2);</span><br><span class="line">		System.out.println(<span class="string">"list: "</span>+list);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//5. 判断</span></span><br><span class="line">		System.out.println(<span class="string">"list中元素的个数: "</span>+list.size());</span><br><span class="line">		System.out.println(<span class="string">"list中元素是否为空: "</span>+list.isEmpty());</span><br><span class="line">		System.out.println(<span class="string">"判断list中的元素HelloAray是否存在 "</span>+list.contains(<span class="string">"HelloArray"</span>));</span><br><span class="line">		System.out.println(<span class="string">"判断list是否包含list2 "</span>+list.containsAll(list2));</span><br><span class="line">		<span class="comment">//contains  containsAll</span></span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//6. 插入元素</span></span><br><span class="line">		list.set(<span class="number">1</span>, <span class="string">"set"</span>);</span><br><span class="line">		list.add(<span class="number">0</span>, <span class="string">"add"</span>);</span><br><span class="line">		System.out.println(<span class="string">"list: "</span>+list);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//7. 获得元素</span></span><br><span class="line">		System.out.println(<span class="string">"获得索引位置为1上的元素："</span>+list.get(<span class="number">1</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//8. 查找元素</span></span><br><span class="line">		System.out.println(<span class="string">"查找set元素 ："</span>+list.indexOf(<span class="string">"set"</span>));<span class="comment">// return 2</span></span><br><span class="line">		System.out.println(<span class="string">"查找Hello元素 ： "</span>+list.indexOf(<span class="string">"Hello"</span>));<span class="comment">//return -1</span></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//9. 遍历list</span></span><br><span class="line">		System.out.println(<span class="string">"\n使用增强for循环遍历\n"</span>);</span><br><span class="line">		<span class="keyword">for</span>(Object obj:list)&#123;</span><br><span class="line">			System.out.println(obj);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">"\n使用for循环遍历\n"</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;list.size();i++)&#123;</span><br><span class="line">			System.out.println(list.get(i));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">"\n使用迭代器遍历\n"</span>);</span><br><span class="line">		System.out.println(<span class="string">" interator 正向遍历"</span>);</span><br><span class="line">		Iterator iter =  list.iterator();</span><br><span class="line">		<span class="keyword">while</span>(iter.hasNext())&#123;</span><br><span class="line">			System.out.println(iter.next());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		ListIterator interator =  list.listIterator();</span><br><span class="line">		System.out.println(<span class="string">"正向遍历"</span>);</span><br><span class="line">		<span class="keyword">while</span>(interator.hasNext())&#123;<span class="comment">//判断下一个元素是否存在</span></span><br><span class="line">			System.out.println(interator.next());</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"反向遍历"</span>);</span><br><span class="line">		<span class="keyword">while</span>(interator.hasPrevious())&#123;</span><br><span class="line">			System.out.println(interator.previous());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">list: [HelloArray, 123, java.util.Scanner[delimiters=\p&#123;javaWhitespace&#125;+][position=0][match valid=false][need input=false][source closed=false][skipped=false][group separator=\,][decimal separator=\.][positive prefix=][negative prefix=\Q-\E][positive suffix=][negative suffix=][NaN string=\Q?\E][infinity string=\Q∞\E]]</span><br><span class="line">list2: [HelloArray, 123]</span><br><span class="line">list: [HelloArray, 123]</span><br><span class="line">list: [HelloArray, 123]</span><br><span class="line">list中元素的个数: 2</span><br><span class="line">list中元素是否为空: false</span><br><span class="line">判断list中的元素HelloAray是否存在 true</span><br><span class="line">判断list是否包含list2 true</span><br><span class="line">list: [add, HelloArray, set]</span><br><span class="line">获得索引位置为1上的元素：HelloArray</span><br><span class="line">查找set元素 ：2</span><br><span class="line">查找Hello元素 ： -1</span><br><span class="line"></span><br><span class="line">使用增强for循环遍历</span><br><span class="line"></span><br><span class="line">add</span><br><span class="line">HelloArray</span><br><span class="line">set</span><br><span class="line"></span><br><span class="line">使用for循环遍历</span><br><span class="line"></span><br><span class="line">add</span><br><span class="line">HelloArray</span><br><span class="line">set</span><br><span class="line"></span><br><span class="line">使用迭代器遍历</span><br><span class="line"></span><br><span class="line"> interator 正向遍历</span><br><span class="line">add</span><br><span class="line">HelloArray</span><br><span class="line">set</span><br><span class="line">正向遍历</span><br><span class="line">add</span><br><span class="line">HelloArray</span><br><span class="line">set</span><br><span class="line">反向遍历</span><br><span class="line">set</span><br><span class="line">HelloArray</span><br><span class="line">add</span><br></pre></td></tr></table></figure>

<h4 id="3-ArrayList-JDK源码分析"><a href="#3-ArrayList-JDK源码分析" class="headerlink" title="3  ArrayList_JDK源码分析"></a>3  <code>ArrayList</code>_JDK源码分析</h4><h5 id="3-1-源码分析"><a href="#3-1-源码分析" class="headerlink" title="3.1 源码分析"></a>3.1 源码分析</h5><p>1 构造方法</p>
<p>2 添加方法</p>
<p>3 扩容的原理  <strong>重点</strong></p>
<p>获得当前List对象的容量，检测容量够不够使用，然后跟数组的长度做比较，若小于数组的长度，则使用<code>ArrayList</code>默认的长度，否则进行扩容。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.arraylist;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestArrayList</span> </span>&#123;</span><br><span class="line">	<span class="comment">/**ArrayList源码分析</span></span><br><span class="line"><span class="comment">	 * (1)无参构造方法</span></span><br><span class="line"><span class="comment">	 *       this.elementData 是一个Object类型的数组</span></span><br><span class="line"><span class="comment">	 *       DEFAULTCAPACITY_EMPTY_ELEMENTDATA;也是一个Object类型的数组</span></span><br><span class="line"><span class="comment">	 *       DEFAULTCAPACITY_EMPTY_ELEMENTDATA=&#123;&#125;;默认长度为0</span></span><br><span class="line"><span class="comment">	 *     public ArrayList() &#123;</span></span><br><span class="line"><span class="comment">               this.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;</span></span><br><span class="line"><span class="comment">               //相当于this.elementData=&#123;&#125;;</span></span><br><span class="line"><span class="comment">          &#125;</span></span><br><span class="line"><span class="comment">        (2)带参构造方法</span></span><br><span class="line"><span class="comment">            </span></span><br><span class="line"><span class="comment">         public ArrayList(int initialCapacity) &#123;</span></span><br><span class="line"><span class="comment">	        if (initialCapacity &gt; 0) &#123;</span></span><br><span class="line"><span class="comment">	            this.elementData = new Object[initialCapacity];</span></span><br><span class="line"><span class="comment">	            //this.elementData=new Object[20];</span></span><br><span class="line"><span class="comment">	        &#125; </span></span><br><span class="line"><span class="comment">    	&#125;</span></span><br><span class="line"><span class="comment">    	(3)添加方法 add(Object obj)</span></span><br><span class="line"><span class="comment">    	 public boolean add(E e) &#123;</span></span><br><span class="line"><span class="comment">    	        //检测空间容量是否够用</span></span><br><span class="line"><span class="comment">		        ensureCapacityInternal(size + 1);  // Increments modCount!!</span></span><br><span class="line"><span class="comment">		        //添加元素    elementData[size]=e; size++;</span></span><br><span class="line"><span class="comment">		        elementData[size++] = e;</span></span><br><span class="line"><span class="comment">		        return true;</span></span><br><span class="line"><span class="comment">    	&#125;</span></span><br><span class="line"><span class="comment">    	(4)检测空间容量是否够用</span></span><br><span class="line"><span class="comment">    	private void ensureCapacityInternal(int minCapacity) &#123;</span></span><br><span class="line"><span class="comment">        	ensureExplicitCapacity(calculateCapacity(elementData, minCapacity));</span></span><br><span class="line"><span class="comment">    	&#125;</span></span><br><span class="line"><span class="comment">    	首先调用执行 ,计算容量</span></span><br><span class="line"><span class="comment">         calculateCapacity(elementData, minCapacity)</span></span><br><span class="line"><span class="comment">         </span></span><br><span class="line"><span class="comment">         //calculateCapacity方法定义</span></span><br><span class="line"><span class="comment">         private static int calculateCapacity(Object[] elementData, int minCapacity) &#123;</span></span><br><span class="line"><span class="comment">		            //以下代码相当于elementData==&#123;&#125;</span></span><br><span class="line"><span class="comment">		        if (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123;  //true</span></span><br><span class="line"><span class="comment">		                   //Math.max(10,1);</span></span><br><span class="line"><span class="comment">		            return Math.max(DEFAULT_CAPACITY, minCapacity);</span></span><br><span class="line"><span class="comment">		        &#125;</span></span><br><span class="line"><span class="comment">        return minCapacity;  //执行完之后的结果为  10</span></span><br><span class="line"><span class="comment">       &#125;</span></span><br><span class="line"><span class="comment">        //容量计算完毕后，执行ensureExplicitCapacity方法    ensureExplicitCapacity(10)</span></span><br><span class="line"><span class="comment">         ensureExplicitCapacity方法定义</span></span><br><span class="line"><span class="comment">         </span></span><br><span class="line"><span class="comment">         private void ensureExplicitCapacity(int minCapacity) &#123;  //10</span></span><br><span class="line"><span class="comment">	        modCount++;</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	        // overflow-conscious code</span></span><br><span class="line"><span class="comment">	         * 10-0 &gt;0  true</span></span><br><span class="line"><span class="comment">	        if (minCapacity - elementData.length &gt; 0)</span></span><br><span class="line"><span class="comment">	            grow(minCapacity);</span></span><br><span class="line"><span class="comment">	    &#125;</span></span><br><span class="line"><span class="comment">	    (5)扩充容量</span></span><br><span class="line"><span class="comment">	      private void grow(int minCapacity) &#123;    //10</span></span><br><span class="line"><span class="comment">	        // overflow-conscious code</span></span><br><span class="line"><span class="comment">	        int oldCapacity = elementData.length;        //int oldCapactiy=0;</span></span><br><span class="line"><span class="comment">	        </span></span><br><span class="line"><span class="comment">	        int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);   //int newCapacity=0+0&gt;&gt;1  结果为0</span></span><br><span class="line"><span class="comment">	      </span></span><br><span class="line"><span class="comment">	        if (newCapacity - minCapacity &lt; 0)       // 0-10&lt;0    true</span></span><br><span class="line"><span class="comment">	        </span></span><br><span class="line"><span class="comment">	            newCapacity = minCapacity;           //newCapacity=10;</span></span><br><span class="line"><span class="comment">	            </span></span><br><span class="line"><span class="comment">	      </span></span><br><span class="line"><span class="comment">	        elementData = Arrays.copyOf(elementData, newCapacity); //数组拷贝 elementData的长度就是 10</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">	 * */</span></span><br><span class="line">       </span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ArrayList list=<span class="keyword">new</span> ArrayList();</span><br><span class="line">		<span class="comment">//第一次调用添加方法时，完成Object类型数组的初始化容量 ，10</span></span><br><span class="line">		list.add(<span class="string">"hello"</span>);</span><br><span class="line">		list.add(<span class="string">"world"</span>);</span><br><span class="line">		list.add(<span class="string">"hello"</span>);</span><br><span class="line">		list.add(<span class="string">"world"</span>);</span><br><span class="line">		list.add(<span class="string">"hello"</span>);</span><br><span class="line">		list.add(<span class="string">"world"</span>);</span><br><span class="line">		list.add(<span class="string">"hello"</span>);</span><br><span class="line">		list.add(<span class="string">"world"</span>);</span><br><span class="line">		list.add(<span class="string">"hello"</span>);</span><br><span class="line">		list.add(<span class="string">"world"</span>);<span class="comment">//10个元素对象</span></span><br><span class="line">		<span class="comment">/**当添加第11个元素时，所需容量为11，而数组的长度为10，已经无法容纳元素了，这个时候需要扩容，</span></span><br><span class="line"><span class="comment">		 * 原始容量+原始容量&gt;&gt;1   得到新容量</span></span><br><span class="line"><span class="comment">		 * 10+10&gt;&gt;1           15*/</span></span><br><span class="line">		</span><br><span class="line">		list.add(<span class="string">"hello"</span>);<span class="comment">//当添加第11个元素对象时 怎么办？</span></span><br><span class="line">		</span><br><span class="line">		Object [] obj=&#123;&#125;;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3-2-源码分析2"><a href="#3-2-源码分析2" class="headerlink" title="3.2 源码分析2"></a>3.2 源码分析2</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.arraylist.source;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestArrayList</span> </span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * ArrayList源码分析_2</span></span><br><span class="line"><span class="comment">	 * (1)add(int index,Object obj)</span></span><br><span class="line"><span class="comment">	 *  public void add(int index, E element) &#123;</span></span><br><span class="line"><span class="comment">	       </span></span><br><span class="line"><span class="comment">	                        //源数组              ,源数组开始位置  ,新数组            ,新数组开始位置</span></span><br><span class="line"><span class="comment">	        System.arraycopy(elementData, index,  elementData, index + 1,</span></span><br><span class="line"><span class="comment">	                         size - index);  //size-index ，拷贝的元素的个数</span></span><br><span class="line"><span class="comment">	                         </span></span><br><span class="line"><span class="comment">	        elementData[index] = element;//将元素添加到索引为 index的位置上</span></span><br><span class="line"><span class="comment">	        size++;            //元素的个数+1</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">     (2)get(int index)根据索引获取元素对象</span></span><br><span class="line"><span class="comment">        public E get(int index) &#123;</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">            return elementData(index);  //调用了elementData()的方法</span></span><br><span class="line"><span class="comment">       &#125;</span></span><br><span class="line"><span class="comment">         //elementData方法的定义</span></span><br><span class="line"><span class="comment">        E elementData(int index) &#123;</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        return (E) elementData[index];   //在Object类型的数组中根据索引取出元素对象</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    (3)size()</span></span><br><span class="line"><span class="comment">       public int size() &#123;</span></span><br><span class="line"><span class="comment">        return size;   //用于记录集合中元素的个数</span></span><br><span class="line"><span class="comment">      &#125;</span></span><br><span class="line"><span class="comment">    (4)isEmpty()</span></span><br><span class="line"><span class="comment">       public boolean isEmpty() &#123;</span></span><br><span class="line"><span class="comment">        return size == 0;  //集合中一个元素都没有的时候，集合就是空的</span></span><br><span class="line"><span class="comment">       &#125;</span></span><br><span class="line"><span class="comment">    (5)set(int index, Object obj)</span></span><br><span class="line"><span class="comment">	    public E set(int index, E element) &#123;</span></span><br><span class="line"><span class="comment">	        </span></span><br><span class="line"><span class="comment">	        E oldValue = elementData(index);   //根据索引在数组中获取元素</span></span><br><span class="line"><span class="comment">	        </span></span><br><span class="line"><span class="comment">	        elementData[index] = element;  //将新元素设置到数组中索引为index的位置上</span></span><br><span class="line"><span class="comment">	        </span></span><br><span class="line"><span class="comment">	        return oldValue;        //返回原始元素对象</span></span><br><span class="line"><span class="comment">	    &#125;</span></span><br><span class="line"><span class="comment">	  (6)remove(int index)</span></span><br><span class="line"><span class="comment">	  </span></span><br><span class="line"><span class="comment">		  public E remove(int index) &#123;</span></span><br><span class="line"><span class="comment">	         </span></span><br><span class="line"><span class="comment">	        E oldValue = elementData(index);//根据索引获取原始元素对象</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	        int numMoved = size - index - 1;   //拷贝的元素的个数</span></span><br><span class="line"><span class="comment">	        </span></span><br><span class="line"><span class="comment">	        if (numMoved &gt; 0)</span></span><br><span class="line"><span class="comment">	            System.arraycopy(elementData, index+1, elementData, index,</span></span><br><span class="line"><span class="comment">	                             numMoved);</span></span><br><span class="line"><span class="comment">	                             </span></span><br><span class="line"><span class="comment">	        elementData[--size] = null; //   将最后一个位置设置为null</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	        return oldValue;        //返回原始元素对象</span></span><br><span class="line"><span class="comment">     &#125;</span></span><br><span class="line"><span class="comment">      (7)clear()</span></span><br><span class="line"><span class="comment">        public void clear() &#123;</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        // clear to let GC do its work</span></span><br><span class="line"><span class="comment">        for (int i = 0; i &lt; size; i++)</span></span><br><span class="line"><span class="comment">            elementData[i] = null;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        size = 0;</span></span><br><span class="line"><span class="comment">     &#125;</span></span><br><span class="line"><span class="comment">      (8)iterator()</span></span><br><span class="line"><span class="comment">	 * */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//创建ArrayList集合对象</span></span><br><span class="line">		ArrayList list=<span class="keyword">new</span> ArrayList();</span><br><span class="line">		list.add(<span class="string">"hello"</span>);</span><br><span class="line">		list.add(<span class="string">"world"</span>);</span><br><span class="line">		list.add(<span class="number">0</span>, <span class="string">"java"</span>);<span class="comment">//在索引为0的位置上添加"java"</span></span><br><span class="line">		System.out.println(list);</span><br><span class="line">		System.out.println(list.get(<span class="number">1</span>));</span><br><span class="line">		System.out.println(list.size());</span><br><span class="line">		System.out.println(list.isEmpty());</span><br><span class="line">		System.out.println(list.set(<span class="number">2</span>, <span class="string">"sql"</span>));</span><br><span class="line">		System.out.println(list);</span><br><span class="line">		list.remove(<span class="number">1</span>);</span><br><span class="line">		list.clear();</span><br><span class="line">		Iterator ite= list.iterator();</span><br><span class="line">		<span class="keyword">while</span>(ite.hasNext())&#123;</span><br><span class="line">			Object obj=ite.next();</span><br><span class="line">			System.out.println(obj);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-LinkedList的特点-链表-JDK源码分析"><a href="#4-LinkedList的特点-链表-JDK源码分析" class="headerlink" title="4 LinkedList的特点_链表_JDK源码分析"></a>4 <code>LinkedList</code>的特点_链表_JDK源码分析</h4><h5 id="4-1LinkedList概念"><a href="#4-1LinkedList概念" class="headerlink" title="4.1LinkedList概念"></a>4.1<code>LinkedList</code>概念</h5><p><img src="http://www.zwer.xyz/ListedList.png" alt="1541416351640"></p>
<p>​        </p>
<h5 id="4-2-JDK源码分析"><a href="#4-2-JDK源码分析" class="headerlink" title="4.2 JDK源码分析"></a>4.2 JDK源码分析</h5><p><code>LinkedList</code>底层数据结构是链表,删除和添加元素的效率比较高，数据结构复杂<br><code>ArrayList</code> 底层数据结构是数组， 删除和添加元素效率比较低</p>
<ol>
<li><code>add(Object obj)</code></li>
<li><code>addFirst()</code></li>
<li><code>removeFirst()</code></li>
<li><code>removeLast()</code></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.linkedlist;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestLinkedList</span> </span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * LinkedList底层数据结构是链表,删除和添加元素的效率比较高，数据结构复杂</span></span><br><span class="line"><span class="comment">	 * ArrayList底层数据结构是数组， 删除和添加元素效率比较低</span></span><br><span class="line"><span class="comment">	 * LinkedList底层源码分析</span></span><br><span class="line"><span class="comment">	 * (1)构造方法</span></span><br><span class="line"><span class="comment">	 * public LinkedList() &#123;</span></span><br><span class="line"><span class="comment">       &#125;</span></span><br><span class="line"><span class="comment">       (2)添加方法</span></span><br><span class="line"><span class="comment">      public boolean add(E e) &#123;</span></span><br><span class="line"><span class="comment">        linkLast(e);</span></span><br><span class="line"><span class="comment">        return true;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">      </span></span><br><span class="line"><span class="comment">	 * */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		LinkedList list=<span class="keyword">new</span> LinkedList();</span><br><span class="line">		<span class="comment">//添加元素</span></span><br><span class="line">		list.add(<span class="string">"hello"</span>);</span><br><span class="line">		list.addFirst(<span class="string">"java"</span>);</span><br><span class="line">		list.addLast(<span class="string">"world"</span>);</span><br><span class="line">		<span class="comment">//删头，删尾</span></span><br><span class="line">		<span class="comment">//list.removeLast();</span></span><br><span class="line">		<span class="comment">//list.removeFirst();</span></span><br><span class="line">		System.out.println(list);</span><br><span class="line">		<span class="comment">//遍历</span></span><br><span class="line">		<span class="keyword">for</span>(Object obj:list)&#123;</span><br><span class="line">			System.out.println(obj);</span><br><span class="line">		&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="4-3-作业"><a href="#4-3-作业" class="headerlink" title="4.3  作业"></a>4.3  作业</h5><p><strong>项目目标</strong></p>
<p>手写 LinkedList，并实现 add 、remove 、get 方法</p>
<p><strong>项目代码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.AbstractSequentialList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Deque;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 手写 LinkList，并实现 add 、remove 、get方法</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestLinkedList</span>&lt;<span class="title">E</span>&gt; </span>&#123;	</span><br><span class="line">	 <span class="keyword">int</span> size = <span class="number">0</span>;  <span class="comment">//节点的个数</span></span><br><span class="line">	 Node&lt;E&gt; first; <span class="comment">//前驱</span></span><br><span class="line">	 Node&lt;E&gt; last;  <span class="comment">//后继</span></span><br><span class="line">	  </span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">TestLinkedList</span><span class="params">()</span> </span>&#123;<span class="comment">//无参构造方法</span></span><br><span class="line">		</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;<span class="comment">//添加元素</span></span><br><span class="line">        linkLast(e);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">linkLast</span><span class="params">(E e)</span> </span>&#123;<span class="comment">//在链尾添加新的元素</span></span><br><span class="line">        <span class="keyword">final</span> Node&lt;E&gt; l = last;       <span class="comment">//指向前面的指针 元素的值 指向后面的指针 </span></span><br><span class="line">        <span class="keyword">final</span> Node&lt;E&gt; newNode = <span class="keyword">new</span> Node&lt;&gt;(l, e, <span class="keyword">null</span>);<span class="comment">//新的节点对象</span></span><br><span class="line">        last = newNode;</span><br><span class="line">        <span class="keyword">if</span> (l == <span class="keyword">null</span>) &#123;<span class="comment">//最开始没有元素的情况下，即没有前继</span></span><br><span class="line">            first = newNode;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            l.next = newNode;</span><br><span class="line">        &#125;</span><br><span class="line">        size++;<span class="comment">//节点的个数加 1</span></span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//根据 元素 移除 节点</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="keyword">null</span>; x = x.next) &#123;</span><br><span class="line">                <span class="keyword">if</span> (x.item == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    unlink(x);</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="keyword">null</span>; x = x.next) &#123;</span><br><span class="line">                <span class="keyword">if</span> (o.equals(x.item)) &#123;</span><br><span class="line">                    unlink(x);</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="function">E <span class="title">unlink</span><span class="params">(Node&lt;E&gt; x)</span> </span>&#123; <span class="comment">//去除节点</span></span><br><span class="line">        <span class="keyword">final</span> E element = x.item; <span class="comment">// 保存被去除节点元素的值</span></span><br><span class="line">        <span class="keyword">final</span> Node&lt;E&gt; next = x.next;</span><br><span class="line">        <span class="keyword">final</span> Node&lt;E&gt; prev = x.prev;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (prev == <span class="keyword">null</span>) &#123;</span><br><span class="line">            first = next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            prev.next = next;</span><br><span class="line">            x.prev = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (next == <span class="keyword">null</span>) &#123;</span><br><span class="line">            last = prev;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            next.prev = prev;</span><br><span class="line">            x.next = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        x.item = <span class="keyword">null</span>;</span><br><span class="line">        size--; <span class="comment">//节点的个数 减一</span></span><br><span class="line">        <span class="keyword">return</span> element; <span class="comment">// 返回被移除节点的值</span></span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">	 <span class="keyword">public</span> Object[] toArray() &#123;<span class="comment">//遍历双链表，返回节点的值</span></span><br><span class="line">	        Object[] result = <span class="keyword">new</span> Object[size];</span><br><span class="line">	        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">	        <span class="comment">//将首指针 first 赋给节点 x ，用 x 遍历 双链表，从头到尾</span></span><br><span class="line">	        <span class="keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="keyword">null</span>; x = x.next) &#123;</span><br><span class="line">	            result[i++] = x.item;</span><br><span class="line">	        	<span class="comment">//System.out.println("指针x："+x.item);</span></span><br><span class="line">	        &#125;</span><br><span class="line">	        <span class="keyword">return</span> result;</span><br><span class="line">	  &#125;</span><br><span class="line">	 <span class="comment">// 根据 索引 获的 元素</span></span><br><span class="line">	 <span class="function"><span class="keyword">public</span> E <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">	        checkElementIndex(index);<span class="comment">//检查元素是否越界</span></span><br><span class="line">	        <span class="keyword">return</span> node(index).item;</span><br><span class="line">	    &#125;</span><br><span class="line">	 <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">checkElementIndex</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">	        <span class="keyword">if</span> (!isElementIndex(index))</span><br><span class="line">	            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(outOfBoundsMsg(index));</span><br><span class="line">	    &#125;</span><br><span class="line">	 <span class="function"><span class="keyword">private</span> String <span class="title">outOfBoundsMsg</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">	        <span class="keyword">return</span> <span class="string">"Index: "</span>+index+<span class="string">", Size: "</span>+size;</span><br><span class="line">	    &#125;</span><br><span class="line">	 <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isElementIndex</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">	        <span class="keyword">return</span> index &gt;= <span class="number">0</span> &amp;&amp; index &lt; size;</span><br><span class="line">	    &#125;</span><br><span class="line">	 <span class="function">Node&lt;E&gt; <span class="title">node</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;<span class="comment">//根据索引获的对应的节点元素的值</span></span><br><span class="line">	        <span class="keyword">if</span> (index &lt; (size &gt;&gt; <span class="number">1</span>)) &#123;</span><br><span class="line">	            Node&lt;E&gt; x = first;</span><br><span class="line">	            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; index; i++)</span><br><span class="line">	                x = x.next;</span><br><span class="line">	            <span class="keyword">return</span> x;</span><br><span class="line">	        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	            Node&lt;E&gt; x = last;</span><br><span class="line">	            <span class="keyword">for</span> (<span class="keyword">int</span> i = size - <span class="number">1</span>; i &gt; index; i--)</span><br><span class="line">	                x = x.prev;</span><br><span class="line">	            <span class="keyword">return</span> x;</span><br><span class="line">	        &#125;</span><br><span class="line">	    &#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//静态内部类  节点类  双链表结构</span></span><br><span class="line">	 <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">	        E item; <span class="comment">// 元素的值</span></span><br><span class="line">	        Node&lt;E&gt; next;<span class="comment">//指向后一个节点 前驱</span></span><br><span class="line">	        Node&lt;E&gt; prev;<span class="comment">//指向前一个节点 后继</span></span><br><span class="line"></span><br><span class="line">	        Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;</span><br><span class="line">	            <span class="keyword">this</span>.item = element;</span><br><span class="line">	            <span class="keyword">this</span>.next = next;</span><br><span class="line">	            <span class="keyword">this</span>.prev = prev;</span><br><span class="line">	        &#125;</span><br><span class="line">	    &#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">			TestLinkedList&lt;String&gt; t = <span class="keyword">new</span> TestLinkedList&lt;String&gt;();</span><br><span class="line">			System.out.println(<span class="string">"1 通过 add 方法添加节点元素："</span>);</span><br><span class="line">			t.add(<span class="string">"HelloWorld"</span>);</span><br><span class="line">			t.add(<span class="string">"XML"</span>);</span><br><span class="line">			t.add(<span class="string">"Schema"</span>);</span><br><span class="line">			t.add(<span class="string">"Mysql"</span>);</span><br><span class="line">			t.add(<span class="string">"Struct of Data"</span>);</span><br><span class="line">			System.out.println(Arrays.toString(t.toArray())+<span class="string">"\n"</span>);</span><br><span class="line">			</span><br><span class="line">			System.out.println(<span class="string">"2 通过 remove 方法删除节点元素 XML ："</span>);</span><br><span class="line">			System.out.println(Arrays.toString(t.toArray())+<span class="string">"\n"</span>);</span><br><span class="line">			</span><br><span class="line">			System.out.println(<span class="string">"3 通过 get方法 获取元素 HelloWorld"</span>);</span><br><span class="line">			System.out.println(<span class="string">"调用 get方法 获的: "</span>+t.get(<span class="number">0</span>)+<span class="string">"\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>项目运行结果</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> 通过 add 方法添加节点元素：</span><br><span class="line">[HelloWorld, XML, Schema, Mysql, Struct of Data]</span><br><span class="line"></span><br><span class="line"><span class="number">2</span> 通过 remove 方法删除节点元素 XML ：</span><br><span class="line">[HelloWorld, XML, Schema, Mysql, Struct of Data]</span><br><span class="line"></span><br><span class="line"><span class="number">3</span> 通过 get方法 获取元素 HelloWorld</span><br><span class="line">调用 get方法 获的: HelloWorld</span><br></pre></td></tr></table></figure>

<p><strong>项目心得</strong></p>
<p>  首先明确 Java 中的 LinkedList 的底层数据结构是链表，而且是双链表结构，也就是<br><br>  每个双链表中的节点都有一个前驱和一个后继，并且可以正向遍历，也可以反向遍历。</p>
<ul>
<li>1 add 方法编写，先判断是否存在节点，若不存在节点，则第一个放入的元素当做首节点，<br>  若存在节点，则将最后的节点指向新节点的前驱，并将新节点的后继设为 null，最后<pre><code>节点的个数加 1.</code></pre></li>
<li>2 remove 方法编写，先将整个双链表遍历，找到与要移除值相等的节点，然后将其移除，<br>  最后节点的个数减 1。</li>
<li>3 get方法的编写，是根据索引获的对应位置的节点中的值。先将双链表遍历，找到索引元素所在的<br>  位置，然后将其取出并返回。</li>
</ul>
<h4 id="5-Vector-用法和ArrayList区别"><a href="#5-Vector-用法和ArrayList区别" class="headerlink" title="5 Vector 用法和ArrayList区别"></a>5 Vector 用法和<code>ArrayList</code>区别</h4><h5 id="5-1-Vector-用法"><a href="#5-1-Vector-用法" class="headerlink" title="5.1 Vector 用法"></a>5.1 Vector 用法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.collection.vector;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestVector</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Vector vector = <span class="keyword">new</span> Vector();</span><br><span class="line">		System.out.println(<span class="string">"vector初始容量"</span>+vector.capacity()+<span class="string">"\tvector中元素的个数"</span>+vector.size());</span><br><span class="line">		vector.add(<span class="string">"Hello"</span>);</span><br><span class="line">		vector.addElement(<span class="string">"World!"</span>);</span><br><span class="line">		vector.add(<span class="string">"真好"</span>);</span><br><span class="line">		vector.add(<span class="string">"Hello"</span>);</span><br><span class="line">		vector.addElement(<span class="string">"World!"</span>);</span><br><span class="line">		vector.add(<span class="string">"真好"</span>);</span><br><span class="line">		vector.add(<span class="string">"Hello"</span>);</span><br><span class="line">		vector.addElement(<span class="string">"World!"</span>);</span><br><span class="line">		vector.add(<span class="string">"真好"</span>);</span><br><span class="line">		vector.add(<span class="string">"Hello"</span>);</span><br><span class="line">		vector.addElement(<span class="string">"World!"</span>);</span><br><span class="line">		vector.add(<span class="string">"真好"</span>);</span><br><span class="line">		System.out.println(<span class="string">"vector初始容量"</span>+vector.capacity()+<span class="string">"\tvector中元素的个数"</span>+vector.size());</span><br><span class="line">		System.out.println(vector);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//vector.remove(1);</span></span><br><span class="line">		<span class="comment">//vector.remove("真好");</span></span><br><span class="line">		<span class="comment">//vector.clear();</span></span><br><span class="line">		<span class="comment">//vector.removeElement(1);</span></span><br><span class="line">		System.out.println(vector);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">"使用增强for循环遍历"</span>);</span><br><span class="line">		<span class="keyword">for</span>(Object obj: vector)&#123;</span><br><span class="line">			System.out.println(obj);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">"使用迭代器遍历 推荐使用for循环，省内存空间，用完对象即消除"</span>);</span><br><span class="line">		<span class="keyword">for</span>(Iterator ite = vector.iterator();ite.hasNext();)&#123;</span><br><span class="line">				System.out.println(ite.next());</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"使用while遍历"</span>);</span><br><span class="line">		Iterator ite = vector.iterator();</span><br><span class="line">		<span class="keyword">while</span>(ite.hasNext())&#123;</span><br><span class="line">			System.out.println(ite.next());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="5-2-Vector-与-ArrayList-的区别"><a href="#5-2-Vector-与-ArrayList-的区别" class="headerlink" title="5.2 Vector 与 ArrayList 的区别"></a>5.2 Vector 与 <code>ArrayList</code> 的区别</h5><p>相同：底层数据结构相同，都是Object类型的数组</p>
<p>区别：同步  扩容  初始化容量 安全 效率 </p>
<p>1 Vector的add()方法是<strong>同步</strong>方法，而<code>ArrayList</code>方法add()方法是非同步方法</p>
<p>2 Vector扩容每次扩充<strong>1倍</strong>，<code>ArrayList</code>扩容每次扩充<strong>0.5倍</strong></p>
<p>3 Vector 是在<strong>调用构造方法</strong>时，直接初始化容量为10，<code>ArrayList</code>是在第一次<strong>调用添加方法时</strong>，初始化容量为10     </p>
<p>4 Vector的版本是JDK1.0，而<code>ArraryList</code>的版本是JDK1.2</p>
<p>5 Vector 是线程同步的，安全性高，效率低</p>
<p>  <code>ArrayList</code>是线程非同步的，安全性低，效率高</p>
<h4 id="6-Map接口-HashMap-Hashtable"><a href="#6-Map接口-HashMap-Hashtable" class="headerlink" title="6 Map接口  HashMap _Hashtable"></a>6 Map接口  <code>HashMap</code> _<code>Hashtable</code></h4><h5 id="6-1-Map接口"><a href="#6-1-Map接口" class="headerlink" title="6.1 Map接口"></a>6.1 Map接口</h5><p>1 实现Map接口的类用来存储键(key)值(value)对</p>
<p>2 Map接口的实现类有 <code>HashMap</code>和<code>TreeMap</code>等</p>
<p>3 Map 类中存储的键-值对通过键来标识，所以<strong>键值不能重复</strong>,否则后者的值会覆盖前者</p>
<h5 id="6-2-Map用法"><a href="#6-2-Map用法" class="headerlink" title="6.2 Map用法"></a>6.2 Map用法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.collection.map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestHashMap</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		HashMap  h   = <span class="keyword">new</span> HashMap();</span><br><span class="line">		<span class="comment">//放入</span></span><br><span class="line">		h.put(<span class="number">1</span>,<span class="string">"HelloWorld"</span>);</span><br><span class="line">		h.put(<span class="number">2</span>,<span class="string">"Java"</span>);</span><br><span class="line">		h.put(<span class="number">3</span>,<span class="string">"key3"</span>);</span><br><span class="line">		h.put(<span class="number">3</span>,<span class="string">"key4"</span>);</span><br><span class="line">		System.out.println(<span class="string">"集合中元素是否为空:"</span>+h.isEmpty());</span><br><span class="line">		System.out.println(<span class="string">"集合汇总元素的个数为:"</span>+h.size());</span><br><span class="line">		System.out.println(h);</span><br><span class="line">		<span class="comment">//移除</span></span><br><span class="line">		System.out.println(<span class="string">"移除键值为1的值："</span>+h.remove(<span class="number">1</span>));</span><br><span class="line">		System.out.println(h);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//判断</span></span><br><span class="line">		System.out.println(<span class="string">"判断键是否存在"</span>+h.containsKey(<span class="number">1</span>)+<span class="string">"\t"</span>+h.containsKey(<span class="string">"2"</span>));</span><br><span class="line">		System.out.println(<span class="string">"判断值是否存在"</span>+h.containsValue(<span class="string">"love"</span>) +<span class="string">"\t"</span>+h.containsValue(<span class="string">"Java"</span>));</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//获取</span></span><br><span class="line">		System.out.println(h.get(<span class="number">1</span>));</span><br><span class="line">		System.out.println(h.get(<span class="number">2</span>));</span><br><span class="line">		</span><br><span class="line">		Set keyset = h.keySet();</span><br><span class="line">		System.out.println(<span class="string">"获得所有的键:"</span>+keyset);</span><br><span class="line">		</span><br><span class="line">		Collection col = h.values();</span><br><span class="line">		System.out.println(<span class="string">"获得所有的值："</span>+col);</span><br><span class="line">		</span><br><span class="line">		Set entryset = h.entrySet();</span><br><span class="line">		System.out.println(<span class="string">"获得所有的键值对："</span>+entryset);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*结果：</span></span><br><span class="line"><span class="comment">    集合中元素是否为空:false</span></span><br><span class="line"><span class="comment">    集合汇总元素的个数为:3</span></span><br><span class="line"><span class="comment">    &#123;1=HelloWorld, 2=Java, 3=key4&#125;</span></span><br><span class="line"><span class="comment">    移除键值为1的值：HelloWorld</span></span><br><span class="line"><span class="comment">    &#123;2=Java, 3=key4&#125;</span></span><br><span class="line"><span class="comment">    判断键是否存在false	false</span></span><br><span class="line"><span class="comment">    判断值是否存在false	true</span></span><br><span class="line"><span class="comment">    null</span></span><br><span class="line"><span class="comment">    Java</span></span><br><span class="line"><span class="comment">    获得所有的键:[2, 3]</span></span><br><span class="line"><span class="comment">    获得所有的值：[Java, key4]</span></span><br><span class="line"><span class="comment">    获得所有的键值对：[2=Java, 3=key4]*/</span></span><br></pre></td></tr></table></figure>

<h5 id="6-3-HashMap与Hashtable区别"><a href="#6-3-HashMap与Hashtable区别" class="headerlink" title="6.3 HashMap与Hashtable区别"></a>6.3 <code>HashMap</code>与<code>Hashtable</code>区别</h5><p>区别：</p>
<p>1 版本不同<code>HashMap</code> JDK1.2      <code>Hashtable</code> JDK1.0</p>
<p>2 <code>Hashmap</code>继承了<code>AbstractMap</code> ，实现了Map接口，<code>Hashtable</code>继承了<code>Directionary</code>实现了Map接口</p>
<p>3 <code>HashMap</code>允许null值和null键，但是null作为key值允许一个，<code>Hashtable</code>非null键和值</p>
<p>4 <code>HashMap</code>是线程不同步的（效率高，安全性低）</p>
<p>   <code>Hashtable</code>是线程同步的（安全性高，效率低）</p>
<h4 id="7-HashMap-的底层原理"><a href="#7-HashMap-的底层原理" class="headerlink" title="7 HashMap 的底层原理"></a>7 HashMap 的底层原理</h4><p>7.1 </p>
<p>概念： Hashtable 也叫 散列表</p>
<p>特点： 炒鸡快</p>
<p>结构： 结构有多种  </p>
<p>最流行+最容易理解：<strong>顺序表+链表</strong></p>
<p>主结构：顺序表</p>
<p>每个顺序表的节点在单独引出一个链表</p>
<p><img src="http://www.zwer.xyz/%E5%8F%8C%E9%93%BE%E8%A1%A8.png" alt="双链表"></p>
<p><img src="http://www.zwer.xyz/HashMap.jpg" alt="HashMap的存储原理"></p>
<h4 id="8-二叉树与红黑树"><a href="#8-二叉树与红黑树" class="headerlink" title="8 二叉树与红黑树"></a>8 二叉树与红黑树</h4><h5 id="8-1-二叉树"><a href="#8-1-二叉树" class="headerlink" title="8.1 二叉树"></a>8.1 二叉树</h5><h5 id="8-2-二叉查询树"><a href="#8-2-二叉查询树" class="headerlink" title="8.2 二叉查询树"></a>8.2 二叉查询树</h5><h5 id="8-3-红黑树（二叉平衡树）"><a href="#8-3-红黑树（二叉平衡树）" class="headerlink" title="8.3 红黑树（二叉平衡树）"></a>8.3 红黑树（二叉平衡树）</h5><h5 id="9-TreeMap的使用和底层实现"><a href="#9-TreeMap的使用和底层实现" class="headerlink" title="9 TreeMap的使用和底层实现"></a>9 <code>TreeMap</code>的使用和底层实现</h5><h5 id="9-1-TreeMap-的用法"><a href="#9-1-TreeMap-的用法" class="headerlink" title="9.1 TreeMap 的用法"></a>9.1 <code>TreeMap</code> 的用法</h5><p><code>TreeMap</code>中键是<strong>有序的**</strong>，而且是<strong>升序的**</strong></p>
<p>底层数据结构：<strong>红黑树</strong></p>
<p><code>HashMap</code>中键是无序的</p>
<h5 id="9-2-TreeMap的底层实现"><a href="#9-2-TreeMap的底层实现" class="headerlink" title="9.2 TreeMap的底层实现"></a>9.2 T<code>reeMap</code>的底层实现</h5><p>如果使用<code>TreeMap</code>存储自定义对象作为key时，要求必须</p>
<p>具备<strong>比较规则</strong>，否则运行报错。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.treemap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeMap;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestTreeMap</span> </span>&#123;</span><br><span class="line">	<span class="comment">/***</span></span><br><span class="line"><span class="comment">	 * TreeMap的底层实现</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 *  private final Comparator&lt;? super K&gt; comparator;  外部比较器，用于比较大小的</span></span><br><span class="line"><span class="comment">	 *  private transient Entry&lt;K,V&gt; root;   //代表的是树根</span></span><br><span class="line"><span class="comment">	 * public TreeMap() &#123;</span></span><br><span class="line"><span class="comment">        comparator = null;</span></span><br><span class="line"><span class="comment">       &#125;</span></span><br><span class="line"><span class="comment">       public V put(K key, V value) &#123;</span></span><br><span class="line"><span class="comment">        Entry&lt;K,V&gt; t = root;   //指向树根</span></span><br><span class="line"><span class="comment">        if (t == null) &#123;</span></span><br><span class="line"><span class="comment">              //比较大小</span></span><br><span class="line"><span class="comment">            compare(key, key); // type (and possibly null) check</span></span><br><span class="line"><span class="comment">            //创建一个根节点</span></span><br><span class="line"><span class="comment">            root = new Entry&lt;&gt;(key, value, null);</span></span><br><span class="line"><span class="comment">            </span></span><br><span class="line"><span class="comment">            size = 1;   //个数++</span></span><br><span class="line"><span class="comment">            modCount++;</span></span><br><span class="line"><span class="comment">            return null;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        int cmp;</span></span><br><span class="line"><span class="comment">        Entry&lt;K,V&gt; parent;   //父节点</span></span><br><span class="line"><span class="comment">        // split comparator and comparable paths</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">        Comparator&lt;? super K&gt; cpr = comparator;   //null</span></span><br><span class="line"><span class="comment">         //如果外部比较器不等于null,说明外部比较器存在</span></span><br><span class="line"><span class="comment">        if (cpr != null) &#123;</span></span><br><span class="line"><span class="comment">            do &#123;</span></span><br><span class="line"><span class="comment">                parent = t;   //把root赋给父节点</span></span><br><span class="line"><span class="comment">                </span></span><br><span class="line"><span class="comment">                cmp = cpr.compare(key, t.key);  //调用外部比较器的比较方法开始比大小,结果是一个int类型的值</span></span><br><span class="line"><span class="comment">                </span></span><br><span class="line"><span class="comment">                if (cmp &lt; 0)</span></span><br><span class="line"><span class="comment">                    t = t.left;   //在左子树上查找</span></span><br><span class="line"><span class="comment">                else if (cmp &gt; 0)   //在右子树上查找</span></span><br><span class="line"><span class="comment">                    t = t.right;</span></span><br><span class="line"><span class="comment">                else</span></span><br><span class="line"><span class="comment">                    return t.setValue(value);   //找到了，值进行覆盖</span></span><br><span class="line"><span class="comment">            &#125; while (t != null);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        else &#123;  //外部比较器不存在，使用内部比较器进行比较</span></span><br><span class="line"><span class="comment">            if (key == null)</span></span><br><span class="line"><span class="comment">                throw new NullPointerException();</span></span><br><span class="line"><span class="comment">            <span class="doctag">@SuppressWarnings</span>("unchecked")</span></span><br><span class="line"><span class="comment">                Comparable&lt;? super K&gt; k = (Comparable&lt;? super K&gt;) key;</span></span><br><span class="line"><span class="comment">            do &#123;</span></span><br><span class="line"><span class="comment">                parent = t;    //root赋给父节点</span></span><br><span class="line"><span class="comment">                cmp = k.compareTo(t.key);  //调用内部比较器的比较大小的方法，比较结果为int类型</span></span><br><span class="line"><span class="comment">                if (cmp &lt; 0)   </span></span><br><span class="line"><span class="comment">                    t = t.left;     //在左子树上查找</span></span><br><span class="line"><span class="comment">                else if (cmp &gt; 0)   //在右子树上查找</span></span><br><span class="line"><span class="comment">                    t = t.right;</span></span><br><span class="line"><span class="comment">                else</span></span><br><span class="line"><span class="comment">                    return t.setValue(value);   找到了值的覆盖</span></span><br><span class="line"><span class="comment">            &#125; while (t != null);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">         //创建一个节点</span></span><br><span class="line"><span class="comment">        Entry&lt;K,V&gt; e = new Entry&lt;&gt;(key, value, parent);</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        if (cmp &lt; 0)</span></span><br><span class="line"><span class="comment">            parent.left = e;   //添加到左子树</span></span><br><span class="line"><span class="comment">        else</span></span><br><span class="line"><span class="comment">            parent.right = e;    //添加到右子树</span></span><br><span class="line"><span class="comment">        fixAfterInsertion(e);</span></span><br><span class="line"><span class="comment">        size++;      </span></span><br><span class="line"><span class="comment">        modCount++;</span></span><br><span class="line"><span class="comment">        return null;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//创建集合对象</span></span><br><span class="line">		<span class="comment">//TreeMap treeMap=new TreeMap();</span></span><br><span class="line">		<span class="comment">//创建外部比较器对象,定义比较规则</span></span><br><span class="line">		Comparator comLength=<span class="keyword">new</span> CompareLength();</span><br><span class="line">		TreeMap treeMap=<span class="keyword">new</span> TreeMap(comLength);</span><br><span class="line">		<span class="comment">//添加数据</span></span><br><span class="line">		treeMap.put(<span class="string">"hello"</span>, <span class="number">123</span>);</span><br><span class="line">		treeMap.put(<span class="string">"world1"</span>, <span class="number">456</span>);</span><br><span class="line">		treeMap.put(<span class="string">"hello11"</span>, <span class="number">789</span>);</span><br><span class="line">		treeMap.put(<span class="string">"java"</span>, <span class="number">1000</span>);</span><br><span class="line">		System.out.println(<span class="string">"集合中元素的个数:"</span>+treeMap.size());</span><br><span class="line">		System.out.println(treeMap);</span><br><span class="line">		System.out.println(treeMap.containsKey(<span class="string">"hello"</span>)+<span class="string">"\t"</span>+treeMap.containsKey(<span class="string">"sql"</span>));</span><br><span class="line">		System.out.println(treeMap.containsValue(<span class="number">789</span>)+<span class="string">"\t"</span>+treeMap.containsValue(<span class="number">1002</span>));</span><br><span class="line">		System.out.println(treeMap.get(<span class="string">"java"</span>));</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>编写一个外部比较器的实现类，用于实现根据英文字母的个数进行升序比较</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.treemap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="comment">//编写一个外部比较器的实现类，用于实现根据英文字母的个数进行升序比较</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CompareLength</span> <span class="keyword">implements</span> <span class="title">Comparator</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//向下类型转换</span></span><br><span class="line">		String s1=(String)o1;</span><br><span class="line">		String s2=(String)o2;</span><br><span class="line">		<span class="keyword">return</span> s1.length()-s2.length();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="10-Set接口-HashSet的用法"><a href="#10-Set接口-HashSet的用法" class="headerlink" title="10 Set接口_HashSet的用法"></a>10 Set接口_<code>HashSet</code>的用法</h4><h4 id="10-1-Set接口"><a href="#10-1-Set接口" class="headerlink" title="10.1 Set接口"></a>10.1 Set接口</h4><p> Set接口的特点：唯一、无序</p>
<h5 id="10-2-HashSet用法"><a href="#10-2-HashSet用法" class="headerlink" title="10.2 HashSet用法"></a>10.2 <code>HashSet</code>用法</h5><p> //Student类 JavaBean</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.collection.set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">		<span class="keyword">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"hashCode()"</span>);</span><br><span class="line">		<span class="keyword">final</span> <span class="keyword">int</span> prime = <span class="number">31</span>;</span><br><span class="line">		<span class="keyword">int</span> result = <span class="number">1</span>;</span><br><span class="line">		result = prime * result + age;</span><br><span class="line">		result = prime * result + ((name == <span class="keyword">null</span>) ? <span class="number">0</span> : name.hashCode());</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"equals()"</span>);</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">this</span> == obj)</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		<span class="keyword">if</span> (obj == <span class="keyword">null</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		<span class="keyword">if</span> (getClass() != obj.getClass())</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		Student other = (Student) obj;</span><br><span class="line">		<span class="keyword">if</span> (age != other.age)</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		<span class="keyword">if</span> (name == <span class="keyword">null</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (other.name != <span class="keyword">null</span>)</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (!name.equals(other.name))</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"Student [name="</span> + name + <span class="string">", age="</span> + age + <span class="string">"]"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    //测试类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.collection.set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestStudent</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		HashSet hs = <span class="keyword">new</span> HashSet();</span><br><span class="line">		</span><br><span class="line">		Student s1 = <span class="keyword">new</span> Student(<span class="string">"Jack"</span>,<span class="number">18</span>);</span><br><span class="line">		Student s2 = <span class="keyword">new</span> Student(<span class="string">"Tom"</span>,<span class="number">24</span>);</span><br><span class="line">		Student s3 = <span class="keyword">new</span> Student(<span class="string">"Jack"</span>,<span class="number">18</span>);</span><br><span class="line">		Student s4 = <span class="keyword">new</span> Student(<span class="string">"Marry"</span>,<span class="number">20</span>);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		hs.add(s1);</span><br><span class="line">		hs.add(s2);</span><br><span class="line">		hs.add(s3);</span><br><span class="line">		hs.add(s4);</span><br><span class="line">		</span><br><span class="line">		System.out.println(hs);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">	hashCode()</span></span><br><span class="line"><span class="comment">    hashCode()</span></span><br><span class="line"><span class="comment">    hashCode()</span></span><br><span class="line"><span class="comment">    equals()</span></span><br><span class="line"><span class="comment">    hashCode()</span></span><br><span class="line"><span class="comment">    [Student [name=Marry, age=20], Student [name=Tom, age=24], Student [name=Jack, age=18]]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h5 id="10-3-HashSet底层源码分析"><a href="#10-3-HashSet底层源码分析" class="headerlink" title="10.3 HashSet底层源码分析"></a>10.3 <code>HashSet</code>底层源码分析</h5><p><code>HashSet</code>底层数组结构使用的是hash表  ,主结构数组, +链表</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.hashset;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestHashSet</span> </span>&#123;</span><br><span class="line">	<span class="comment">/***</span></span><br><span class="line"><span class="comment">	 * HashSet底层源码分析</span></span><br><span class="line"><span class="comment">	 *  private transient HashMap&lt;E,Object&gt; map;</span></span><br><span class="line"><span class="comment">	 *   private static final Object PRESENT = new Object();</span></span><br><span class="line"><span class="comment">	 *  public HashSet() &#123;</span></span><br><span class="line"><span class="comment">             map = new HashMap&lt;&gt;();//创建HashSet时，底层创建的是一个HashMap对象</span></span><br><span class="line"><span class="comment">     &#125;</span></span><br><span class="line"><span class="comment">     public boolean add(E e) &#123;</span></span><br><span class="line"><span class="comment">                     key--&gt;e ,value--&gt;PRESENT ,是一个Object类型的对象</span></span><br><span class="line"><span class="comment">                     map集合中的所有value都是统一的Object类型对象</span></span><br><span class="line"><span class="comment">        return map.put(e, PRESENT)==null;</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">     &#125;</span></span><br><span class="line"><span class="comment">     public int size() &#123;</span></span><br><span class="line"><span class="comment">        return map.size();</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">     public boolean contains(Object o) &#123;</span></span><br><span class="line"><span class="comment">        return map.containsKey(o);  //在map集合中判断key是否存在</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    public Iterator&lt;E&gt; iterator() &#123;</span></span><br><span class="line"><span class="comment">          //获取map集合中所有的key的集合，再得到迭代器对象</span></span><br><span class="line"><span class="comment">        return map.keySet().iterator();</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    HashSet使用了HashMap的数据结构，</span></span><br><span class="line"><span class="comment">         底层都是哈希表 (顺序表+链表)</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//HashSet底层数组结构使用的是hash表  ,主结构数组, +链表</span></span><br><span class="line">		<span class="comment">//创建集合对象</span></span><br><span class="line">		HashSet hs=<span class="keyword">new</span> HashSet();</span><br><span class="line">		hs.add(<span class="string">"hello"</span>);</span><br><span class="line">		hs.add(<span class="string">"world"</span>);</span><br><span class="line">		hs.add(<span class="string">"java"</span>);</span><br><span class="line">		System.out.println(hs.add(<span class="string">"world"</span>));</span><br><span class="line">		System.out.println(<span class="string">"集合中元素的个数:"</span>+hs.size());</span><br><span class="line">		System.out.println(hs);</span><br><span class="line">		System.out.println(hs.contains(<span class="string">"java"</span>)+<span class="string">"\t"</span>+hs.contains(<span class="string">"sql"</span>));</span><br><span class="line">		<span class="comment">//使用迭代器遍历元素</span></span><br><span class="line">		Iterator ite=hs.iterator();</span><br><span class="line">		<span class="keyword">while</span>(ite.hasNext())&#123;</span><br><span class="line">			System.out.println(ite.next());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="11-TreeSet-用法和底层源码"><a href="#11-TreeSet-用法和底层源码" class="headerlink" title="11 TreeSet  用法和底层源码"></a>11 <code>TreeSet</code>  用法和底层源码</h4><h5 id="11-1-TreeMap-的使用和TreeMap的底层实现"><a href="#11-1-TreeMap-的使用和TreeMap的底层实现" class="headerlink" title="11.1 TreeMap 的使用和TreeMap的底层实现"></a>11.1 <code>TreeMap</code> 的使用和<code>TreeMap</code>的底层实现</h5><p>Key：唯一，有序，升序</p>
<p>如果使用<code>Treemap</code>存储自定义对象作为key时，要求必须具备比较规则，否则运行报错</p>
<h5 id="11-2-TreeSet-的使用和-TreeSet-的底层实现"><a href="#11-2-TreeSet-的使用和-TreeSet-的底层实现" class="headerlink" title="11.2 TreeSet 的使用和 TreeSet 的底层实现"></a>11.2 <code>TreeSet</code> 的使用和 <code>TreeSet</code> 的底层实现</h5><p>1  <code>TreeMap</code>  (key,唯一，而且有序，升序)，底层数据结构是红黑树，</p>
<p>而且 <code>TreeMap</code> 中可以实际上就是一个 <code>TreeSet</code>，如果使用自定义对象</p>
<p>作为 key，要求<strong>必须具备比较规则</strong></p>
<p>2 使用 <code>TreeMap</code>  要求使用内部比较器和外部比较器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.treeset;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.NavigableMap;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeMap;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * TreeSet的底层所使用的是TreeMap   --&gt;红黑树</span></span><br><span class="line"><span class="comment"> * TreeSet JDK源码分析</span></span><br><span class="line"><span class="comment"> *  private transient NavigableMap&lt;E,Object&gt; m;  //一个接口,间接继承了Map</span></span><br><span class="line"><span class="comment"> *    private static final Object PRESENT = new Object();</span></span><br><span class="line"><span class="comment"> *  public TreeSet() &#123;</span></span><br><span class="line"><span class="comment">        this(new TreeMap&lt;E,Object&gt;());  //创建了一个TreeMap的对象</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    //调用的本类中的带参构造方法</span></span><br><span class="line"><span class="comment">    TreeSet(NavigableMap&lt;E,Object&gt; m) &#123;</span></span><br><span class="line"><span class="comment">        this.m = m;   //接口new 实现类</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">     public TreeSet(Comparator&lt;? super E&gt; comparator) &#123;</span></span><br><span class="line"><span class="comment">        this(new TreeMap&lt;&gt;(comparator));  //调用了本类中的带参构造方法</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    添加方法</span></span><br><span class="line"><span class="comment">     public boolean add(E e) &#123;</span></span><br><span class="line"><span class="comment">        return m.put(e, PRESENT)==null;  //传入的元素作为Map中的key，统一的值为Object类型的对象</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    public int size() &#123;</span></span><br><span class="line"><span class="comment">        return m.size();</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestTreeSet</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">		<span class="comment">//创建集合对象</span></span><br><span class="line">		<span class="comment">//TreeSet ts=new TreeSet();</span></span><br><span class="line">		<span class="comment">//Comparator comc=new ComCharactor();//创建外部比较器对象</span></span><br><span class="line">		Comparator com=<span class="keyword">new</span> ComCharactorAndAge();</span><br><span class="line">		TreeSet ts=<span class="keyword">new</span> TreeSet(com);</span><br><span class="line">		<span class="comment">//创建Person对象</span></span><br><span class="line">		Person p1=<span class="keyword">new</span> Person(<span class="string">"marry"</span>, <span class="number">20</span>);</span><br><span class="line">		Person p2=<span class="keyword">new</span> Person(<span class="string">"lili"</span>, <span class="number">19</span>);</span><br><span class="line">		Person p3=<span class="keyword">new</span> Person(<span class="string">"jack"</span>, <span class="number">20</span>);</span><br><span class="line">		Person p4=<span class="keyword">new</span> Person(<span class="string">"marry"</span>, <span class="number">18</span>);</span><br><span class="line">		<span class="comment">//添加到集合中</span></span><br><span class="line">		ts.add(p1);</span><br><span class="line">		ts.add(p2);</span><br><span class="line">		ts.add(p3);</span><br><span class="line">		ts.add(p4);</span><br><span class="line">		System.out.println(<span class="string">"集合中元素的个数:"</span>+ts.size());</span><br><span class="line">		System.out.println(ts);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">[Person [name=aMarry, age=7], Person [name=aMarry, age=10], Person [name=bTom, age=14], Person [name=cJack, age=20]]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">/*</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.collection.treeset;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 外部比较器，即先比较名字，当名字相同的时候，比较年龄</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ComparotAgeandName</span> <span class="keyword">implements</span> <span class="title">Comparator</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的方法存根</span></span><br><span class="line">		Person p1 = (Person)o1;</span><br><span class="line">		Person p2 = (Person)o2;</span><br><span class="line">		<span class="keyword">if</span>(p1.getName().compareTo(p2.getName())&gt;<span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(p1.getName().compareTo(p2.getName())&lt;<span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="keyword">return</span> p1.getAge()-p2.getAge();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.collection.treeset;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 外部比较器</span></span><br><span class="line"><span class="comment"> * 只比较年龄大小   实现Comparator接口</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CompartorAge</span> <span class="keyword">implements</span> <span class="title">Comparator</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">		Person p1 = (Person)o1;</span><br><span class="line">		Person p2 = (Person)o2;</span><br><span class="line">		<span class="keyword">return</span>  p1.getAge()-p2.getAge();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="12-泛型"><a href="#12-泛型" class="headerlink" title="12 泛型"></a>12 泛型</h5><h5 id="12-1-泛型的概念"><a href="#12-1-泛型的概念" class="headerlink" title="12.1 泛型的概念"></a>12.1 泛型的概念</h5><p>提出 JDK1.5新特性</p>
<p>在创建集合对象时，明确集合中所存储的元素类型</p>
<p>  泛型：在定义集合的时候同时定义集合中对象的类型</p>
<p>好处：增强程序的可读性和安全性</p>
<h5 id="12-2-泛型的分类"><a href="#12-2-泛型的分类" class="headerlink" title="12.2 泛型的分类"></a>12.2 泛型的分类</h5><p>1 泛型类</p>
<p>2 泛型接口</p>
<p>3 泛型方法   </p>
<p>解决了参数个数相同的情况下的方法重载</p>
<p>​    可变参数的泛型方法，解决参数的个数不同，类型不同的方法重载</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.genenic;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">MyInter</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyIplem</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">MyInter</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyIplem2</span>&lt;<span class="title">Integer</span>&gt; <span class="keyword">implements</span> <span class="title">MyInter</span>&lt;<span class="title">Integer</span>&gt;</span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestGenenic</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">(T t)</span></span>&#123;<span class="comment">//创建TestGenenic对象是决定</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> &lt;Q&gt; <span class="function"><span class="keyword">void</span> <span class="title">method</span><span class="params">(Q q)</span></span>&#123;<span class="comment">//在调用method这个方法是明确</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> &lt;K&gt; <span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">(K...k)</span></span>&#123;<span class="comment">//可变泛型方法</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k.length; i++) &#123;</span><br><span class="line">			System.out.println(k[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Genenic</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		MyInter&lt;String&gt; mi = <span class="keyword">new</span> MyIplem&lt;String&gt;();</span><br><span class="line">		MyInter&lt;Integer&gt; mi2 = <span class="keyword">new</span> MyIplem2&lt;Integer&gt;();</span><br><span class="line">		</span><br><span class="line">		TestGenenic&lt;String &gt; tg = <span class="keyword">new</span> TestGenenic&lt;String&gt;();</span><br><span class="line">		tg.show(<span class="string">"adb"</span>);</span><br><span class="line">		tg.method(<span class="number">123</span>);</span><br><span class="line">		tg.method(<span class="string">"1232"</span>);</span><br><span class="line">		tg.method(<span class="string">"234"</span>);</span><br><span class="line">		</span><br><span class="line">		tg.fun(<span class="number">1312</span>);</span><br><span class="line">		tg.fun(<span class="number">123</span>,<span class="number">23324</span>,<span class="string">"324"</span>);</span><br><span class="line">				</span><br><span class="line"> 	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="13-泛型的高级使用和-容器中使用的泛型"><a href="#13-泛型的高级使用和-容器中使用的泛型" class="headerlink" title="13 泛型的高级使用和 容器中使用的泛型"></a>13 泛型的高级使用和 容器中使用的泛型</h4><h5 id="13-1-泛型的高级使用"><a href="#13-1-泛型的高级使用" class="headerlink" title="13.1 泛型的高级使用"></a>13.1 泛型的高级使用</h5><p><strong>目标：根据泛型的上限和下限，在API看懂方法参数</strong> </p>
<p>泛型的上限：使用关键字 <code>extends</code> 表示参数化类型可能是所指定的类型或者是此类型的<strong>子类</strong></p>
<p>泛型的下限：使用关键字 <code>supper</code>进行声明，表示参数化类型可能是所指定的类型或者是此类型的<strong>父类</strong>，直至 <code>Object</code>  类</p>
<h5 id="13-2-容器中使用的泛型"><a href="#13-2-容器中使用的泛型" class="headerlink" title="13.2 容器中使用的泛型"></a>13.2 容器中使用的泛型</h5><pre><code>注意：泛型只看编译期间起作用</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.genenic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeMap;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ArrayList&lt;String&gt;  al = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		al.add(<span class="string">"HelloWorld"</span>);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		LinkedList&lt;Integer&gt; ll = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">		ll.add(<span class="number">111</span>);<span class="comment">//自动装箱</span></span><br><span class="line">		</span><br><span class="line">		Person p1 = <span class="keyword">new</span> Person(<span class="string">"龟"</span>,<span class="number">123</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//存储自定义对象是，要求Person类重写hashcode方法和equals方法</span></span><br><span class="line">		HashSet&lt;Person&gt; hs = <span class="keyword">new</span> HashSet&lt;Person&gt;();</span><br><span class="line">		hs.add(p1);</span><br><span class="line">		System.out.println(hs);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//Person对象具备比较规则，要求有内部比较器或外部比较器</span></span><br><span class="line">		TreeSet&lt;Person&gt; ts = <span class="keyword">new</span> TreeSet&lt;Person&gt;();</span><br><span class="line">		ts.add(p1);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//</span></span><br><span class="line">		HashMap&lt;Person, Integer&gt; hm = <span class="keyword">new</span> HashMap&lt;Person,Integer&gt;();</span><br><span class="line">		hm.put(p1,<span class="number">123</span>);<span class="comment">//123自动装箱</span></span><br><span class="line">		</span><br><span class="line">		TreeMap&lt;Person,Integer&gt; tm = <span class="keyword">new</span> TreeMap&lt;Person,Integer&gt;();</span><br><span class="line">		tm.put(p1,<span class="number">123</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//泛型只看编译期间起作用</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="14-迭代器"><a href="#14-迭代器" class="headerlink" title="14 迭代器"></a>14 迭代器</h4><h5 id="14-1-遍历-List-Set"><a href="#14-1-遍历-List-Set" class="headerlink" title="14.1  遍历 List Set"></a>14.1  遍历 List Set</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.ConcurrentModificationException;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.NoSuchElementException;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 遍历	</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestIterator</span> </span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 *    public boolean hasNext() &#123;</span></span><br><span class="line"><span class="comment">            return cursor != size;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        public E next() &#123;</span></span><br><span class="line"><span class="comment">            checkForComodification();</span></span><br><span class="line"><span class="comment">            int i = cursor;</span></span><br><span class="line"><span class="comment">            cursor = i + 1;</span></span><br><span class="line"><span class="comment">            return (E) elementData[lastRet = i];</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ArrayList&lt;Integer&gt; al = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">		al.add(<span class="number">123</span>);</span><br><span class="line">		al.add(<span class="number">456</span>);</span><br><span class="line">		al.add(<span class="number">789</span>);</span><br><span class="line">		<span class="comment">//遍历     1.判断？，2,返回</span></span><br><span class="line">		<span class="keyword">for</span>(Iterator ite = al.iterator();ite.hasNext();)&#123;</span><br><span class="line">			System.out.println(ite.next());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		HashSet&lt;String&gt; hs = <span class="keyword">new</span> HashSet&lt;String&gt;();</span><br><span class="line">		hs.add(<span class="string">"abc"</span>);</span><br><span class="line">		hs.add(<span class="string">"ytg"</span>);</span><br><span class="line">		hs.add(<span class="string">"AJ"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//遍历</span></span><br><span class="line">		<span class="keyword">for</span>(Iterator ite = hs.iterator();ite.hasNext();)&#123;</span><br><span class="line">			System.out.println(ite.next());</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="http://www.zwer.xyz/Itetator.png" alt="1541675584800"></p>
<h5 id="14-2-遍历-Map"><a href="#14-2-遍历-Map" class="headerlink" title="14.2 遍历 Map"></a>14.2 遍历 Map</h5><p><code>ListIterator</code>是 Iterator 接口的扩展，用于解决并发遍历</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.ListIterator;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestListIterator</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ArrayList&lt;String&gt; al = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		al.add(<span class="string">"Hello"</span>);</span><br><span class="line">		al.add(<span class="string">"world"</span>);</span><br><span class="line">		al.add(<span class="string">"Java"</span>);</span><br><span class="line">		</span><br><span class="line">		ListIterator&lt;String&gt; ite =   al.listIterator();</span><br><span class="line">		<span class="keyword">while</span>(ite.hasNext())&#123;</span><br><span class="line">			String str =ite.next();</span><br><span class="line">			<span class="keyword">if</span>(<span class="string">"world"</span>.equals(str))&#123;</span><br><span class="line">				ite.add(<span class="string">"you"</span>);<span class="comment">//添加使用ite</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(al);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	[Hello, world, you, Java]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>测试 <code>HashMap</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map.Entry;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestListIterator3</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		HashMap&lt;String,Integer&gt;  hs = <span class="keyword">new</span> HashMap&lt;String,Integer&gt;();</span><br><span class="line">		hs.put(<span class="string">"Hello"</span>, <span class="number">123</span>);</span><br><span class="line">		hs.put(<span class="string">"World"</span>, <span class="number">567</span>);</span><br><span class="line">		hs.put(<span class="string">"Java"</span>,<span class="number">123</span>);</span><br><span class="line">		<span class="comment">//遍历</span></span><br><span class="line">		<span class="keyword">for</span>(String key:hs.keySet())&#123;</span><br><span class="line">			System.out.println(hs.get(key));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//获取键和值</span></span><br><span class="line">		Set&lt;Entry&lt;String,Integer&gt;&gt; set = hs.entrySet();</span><br><span class="line">		<span class="keyword">for</span>(Entry&lt;String,Integer&gt; en:set)&#123;</span><br><span class="line">			System.out.println(en.getKey()+<span class="string">"\t"</span>+en.getValue());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line"> 	&#125;</span><br><span class="line">&#125;	</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">123</span></span><br><span class="line"><span class="comment">123</span></span><br><span class="line"><span class="comment">567</span></span><br><span class="line"><span class="comment">Java	123</span></span><br><span class="line"><span class="comment">Hello	123</span></span><br><span class="line"><span class="comment">World	567</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h4 id="15-容器总结"><a href="#15-容器总结" class="headerlink" title="15  容器总结"></a>15  容器总结</h4><p><img src="http://www.zwer.xyz/CollectionAndMap.png" alt="CollectionAndMap"></p>
<p><img src="http://www.zwer.xyz/CollectionAndMap%20of%20Summary.jpg" alt="19.集合体系框架总结"></p>

    </div>

    
    
    
        
      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/java/" rel="tag"># java</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2018/11/02/Java/20181102 异常/" rel="next" title="20181102 异常">
                  <i class="fa fa-chevron-left"></i> 20181102 异常
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/2018/11/09/Java/20181109 IO 技术/" rel="prev" title="IO 流技术">
                  IO 流技术 <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#容器"><span class="nav-number">1.</span> <span class="nav-text">容器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-基本概念-Collection-Set-List-接口介绍"><span class="nav-number">1.0.1.</span> <span class="nav-text">1.基本概念_Collection_Set_List 接口介绍</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#1-1-集合"><span class="nav-number">1.0.1.1.</span> <span class="nav-text">1.1 集合</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-2-容器框架"><span class="nav-number">1.0.1.2.</span> <span class="nav-text">1.2 容器框架</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#1-3-各接口的特点"><span class="nav-number">1.0.1.3.</span> <span class="nav-text">1.3 各接口的特点</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-List接口ArrayList用法详解"><span class="nav-number">1.0.2.</span> <span class="nav-text">2. List接口ArrayList用法详解</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#2-1ArrayList-实现类-用法"><span class="nav-number">1.0.2.1.</span> <span class="nav-text">2.1ArrayList 实现类 用法</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-ArrayList-JDK源码分析"><span class="nav-number">1.0.3.</span> <span class="nav-text">3  ArrayList_JDK源码分析</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-源码分析"><span class="nav-number">1.0.3.1.</span> <span class="nav-text">3.1 源码分析</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-2-源码分析2"><span class="nav-number">1.0.3.2.</span> <span class="nav-text">3.2 源码分析2</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-LinkedList的特点-链表-JDK源码分析"><span class="nav-number">1.0.4.</span> <span class="nav-text">4 LinkedList的特点_链表_JDK源码分析</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#4-1LinkedList概念"><span class="nav-number">1.0.4.1.</span> <span class="nav-text">4.1LinkedList概念</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-2-JDK源码分析"><span class="nav-number">1.0.4.2.</span> <span class="nav-text">4.2 JDK源码分析</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-3-作业"><span class="nav-number">1.0.4.3.</span> <span class="nav-text">4.3  作业</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-Vector-用法和ArrayList区别"><span class="nav-number">1.0.5.</span> <span class="nav-text">5 Vector 用法和ArrayList区别</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#5-1-Vector-用法"><span class="nav-number">1.0.5.1.</span> <span class="nav-text">5.1 Vector 用法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-2-Vector-与-ArrayList-的区别"><span class="nav-number">1.0.5.2.</span> <span class="nav-text">5.2 Vector 与 ArrayList 的区别</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#6-Map接口-HashMap-Hashtable"><span class="nav-number">1.0.6.</span> <span class="nav-text">6 Map接口  HashMap _Hashtable</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#6-1-Map接口"><span class="nav-number">1.0.6.1.</span> <span class="nav-text">6.1 Map接口</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-2-Map用法"><span class="nav-number">1.0.6.2.</span> <span class="nav-text">6.2 Map用法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-3-HashMap与Hashtable区别"><span class="nav-number">1.0.6.3.</span> <span class="nav-text">6.3 HashMap与Hashtable区别</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#7-HashMap-的底层原理"><span class="nav-number">1.0.7.</span> <span class="nav-text">7 HashMap 的底层原理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-二叉树与红黑树"><span class="nav-number">1.0.8.</span> <span class="nav-text">8 二叉树与红黑树</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#8-1-二叉树"><span class="nav-number">1.0.8.1.</span> <span class="nav-text">8.1 二叉树</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-2-二叉查询树"><span class="nav-number">1.0.8.2.</span> <span class="nav-text">8.2 二叉查询树</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-3-红黑树（二叉平衡树）"><span class="nav-number">1.0.8.3.</span> <span class="nav-text">8.3 红黑树（二叉平衡树）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#9-TreeMap的使用和底层实现"><span class="nav-number">1.0.8.4.</span> <span class="nav-text">9 TreeMap的使用和底层实现</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#9-1-TreeMap-的用法"><span class="nav-number">1.0.8.5.</span> <span class="nav-text">9.1 TreeMap 的用法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#9-2-TreeMap的底层实现"><span class="nav-number">1.0.8.6.</span> <span class="nav-text">9.2 TreeMap的底层实现</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-Set接口-HashSet的用法"><span class="nav-number">1.0.9.</span> <span class="nav-text">10 Set接口_HashSet的用法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-1-Set接口"><span class="nav-number">1.0.10.</span> <span class="nav-text">10.1 Set接口</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#10-2-HashSet用法"><span class="nav-number">1.0.10.1.</span> <span class="nav-text">10.2 HashSet用法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#10-3-HashSet底层源码分析"><span class="nav-number">1.0.10.2.</span> <span class="nav-text">10.3 HashSet底层源码分析</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#11-TreeSet-用法和底层源码"><span class="nav-number">1.0.11.</span> <span class="nav-text">11 TreeSet  用法和底层源码</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#11-1-TreeMap-的使用和TreeMap的底层实现"><span class="nav-number">1.0.11.1.</span> <span class="nav-text">11.1 TreeMap 的使用和TreeMap的底层实现</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#11-2-TreeSet-的使用和-TreeSet-的底层实现"><span class="nav-number">1.0.11.2.</span> <span class="nav-text">11.2 TreeSet 的使用和 TreeSet 的底层实现</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#12-泛型"><span class="nav-number">1.0.11.3.</span> <span class="nav-text">12 泛型</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#12-1-泛型的概念"><span class="nav-number">1.0.11.4.</span> <span class="nav-text">12.1 泛型的概念</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#12-2-泛型的分类"><span class="nav-number">1.0.11.5.</span> <span class="nav-text">12.2 泛型的分类</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#13-泛型的高级使用和-容器中使用的泛型"><span class="nav-number">1.0.12.</span> <span class="nav-text">13 泛型的高级使用和 容器中使用的泛型</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#13-1-泛型的高级使用"><span class="nav-number">1.0.12.1.</span> <span class="nav-text">13.1 泛型的高级使用</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#13-2-容器中使用的泛型"><span class="nav-number">1.0.12.2.</span> <span class="nav-text">13.2 容器中使用的泛型</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#14-迭代器"><span class="nav-number">1.0.13.</span> <span class="nav-text">14 迭代器</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#14-1-遍历-List-Set"><span class="nav-number">1.0.13.1.</span> <span class="nav-text">14.1  遍历 List Set</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#14-2-遍历-Map"><span class="nav-number">1.0.13.2.</span> <span class="nav-text">14.2 遍历 Map</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#15-容器总结"><span class="nav-number">1.0.14.</span> <span class="nav-text">15  容器总结</span></a></li></ol></li></ol></li></ol></div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">zwer</p>
  <div class="site-description" itemprop="description">记录学习的日常</div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">68</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">categories</span>
        
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
        <span class="site-state-item-count">51</span>
        <span class="site-state-item-name">tags</span>
        
      </div>
    
  </nav>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zwer</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.4.0</div>

        












        
      </div>
    </footer>
  </div>

  


  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.0"></script><script src="/js/motion.js?v=7.4.0"></script>
<script src="/js/schemes/muse.js?v=7.4.0"></script>
<script src="/js/next-boot.js?v=7.4.0"></script>



  





















  

  

  

</body>
</html>
