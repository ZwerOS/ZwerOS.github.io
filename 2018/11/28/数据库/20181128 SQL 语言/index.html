<!DOCTYPE html>





<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.4.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.4.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="1 SQL 语言基础1.1  SQL 语言定义 SQL，Structured Query Language 结构化查询语言 SQL 是所有关系型数据库的操作的标准语言 SQL 是非过程化语言-只需要告诉做什么，不需要关注怎么做  1.2  SQL 的用途 数据库数据的增删改查操作(GRUD)  数据库对象（用户，表格，序列，索引)的创建，修改和删除操作  用户权限/角色的授予和取消  事务 (Tr">
<meta name="keywords" content="Oracle,SQL">
<meta property="og:type" content="article">
<meta property="og:title" content="20181128 SQL 语言">
<meta property="og:url" content="http://zwer.xyz/2018/11/28/数据库/20181128 SQL 语言/index.html">
<meta property="og:site_name" content="zwer 的博客空间">
<meta property="og:description" content="1 SQL 语言基础1.1  SQL 语言定义 SQL，Structured Query Language 结构化查询语言 SQL 是所有关系型数据库的操作的标准语言 SQL 是非过程化语言-只需要告诉做什么，不需要关注怎么做  1.2  SQL 的用途 数据库数据的增删改查操作(GRUD)  数据库对象（用户，表格，序列，索引)的创建，修改和删除操作  用户权限/角色的授予和取消  事务 (Tr">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://www.zwer.xyz/picGo/20181201111907.png">
<meta property="og:image" content="http://www.zwer.xyz/picGo/20181201110916.png">
<meta property="og:image" content="http://www.zwer.xyz/picGo/20181201111159.png">
<meta property="og:image" content="http://www.zwer.xyz/picGo/20181201120024.png">
<meta property="og:image" content="http://www.zwer.xyz/picGo/20181201150345.png">
<meta property="og:image" content="c:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1543650935180.png">
<meta property="og:image" content="http://www.zwer.xyz/picGo/20181203211659.png">
<meta property="og:image" content="http://www.zwer.xyz/picGo/20181203211514.png">
<meta property="og:image" content="http://www.zwer.xyz/picGo/20181203211600.png">
<meta property="og:image" content="http://www.zwer.xyz/picGo/20181203211659.png">
<meta property="og:updated_time" content="2018-12-08T09:45:45.868Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="20181128 SQL 语言">
<meta name="twitter:description" content="1 SQL 语言基础1.1  SQL 语言定义 SQL，Structured Query Language 结构化查询语言 SQL 是所有关系型数据库的操作的标准语言 SQL 是非过程化语言-只需要告诉做什么，不需要关注怎么做  1.2  SQL 的用途 数据库数据的增删改查操作(GRUD)  数据库对象（用户，表格，序列，索引)的创建，修改和删除操作  用户权限/角色的授予和取消  事务 (Tr">
<meta name="twitter:image" content="http://www.zwer.xyz/picGo/20181201111907.png">
  <link rel="canonical" href="http://zwer.xyz/2018/11/28/数据库/20181128 SQL 语言/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>20181128 SQL 语言 | zwer 的博客空间</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">zwer 的博客空间</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">上善若水 自强不息</p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>
  </ul>

    

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
      <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block post">
    <link itemprop="mainEntityOfPage" href="http://zwer.xyz/2018/11/28/数据库/20181128 SQL 语言/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zwer">
      <meta itemprop="description" content="记录学习的日常">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zwer 的博客空间">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">20181128 SQL 语言

          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2018-11-28 19:00:00" itemprop="dateCreated datePublished" datetime="2018-11-28T19:00:00+08:00">2018-11-28</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-12-08 17:45:45" itemprop="dateModified" datetime="2018-12-08T17:45:45+08:00">2018-12-08</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/数据库/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a></span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h3 id="1-SQL-语言基础"><a href="#1-SQL-语言基础" class="headerlink" title="1 SQL 语言基础"></a>1 SQL 语言基础</h3><h4 id="1-1-SQL-语言定义"><a href="#1-1-SQL-语言定义" class="headerlink" title="1.1  SQL 语言定义"></a>1.1  SQL 语言定义</h4><ul>
<li>SQL，Structured Query Language 结构化查询语言</li>
<li>SQL 是所有关系型数据库的操作的标准语言</li>
<li>SQL 是非过程化语言-只需要告诉做什么，不需要关注怎么做</li>
</ul>
<h4 id="1-2-SQL-的用途"><a href="#1-2-SQL-的用途" class="headerlink" title="1.2  SQL 的用途"></a>1.2  SQL 的用途</h4><ul>
<li><p>数据库数据的增删改查操作(GRUD)</p>
</li>
<li><p>数据库对象（用户，表格，序列，索引)的创建，修改和删除操作</p>
</li>
<li><p>用户权限/角色的授予和取消</p>
</li>
<li><p>事务 (Transaction)</p>
</li>
</ul>
<h4 id="1-3-SQL-语言的分类"><a href="#1-3-SQL-语言的分类" class="headerlink" title="1.3  SQL 语言的分类"></a>1.3  SQL 语言的分类</h4><p>a)  DQL ，Data Query Language ，执行查询   select</p>
<p>b) DML,Data Manipulation Language，执行增删改的任务 insert delete update</p>
<p>c) DLL,Data Definition Language ,用于操作数库对象   add，modify，drop</p>
<p>d) DCL,Data Control Language，用于操作用户权限，grant，    revoke(撤与)</p>
<p>e) TCL, Transaction Control Language,    事务控制语言 commit，rollback</p>
<h4 id="1-4-关系数据库基本概念"><a href="#1-4-关系数据库基本概念" class="headerlink" title="1.4 关系数据库基本概念"></a>1.4 关系数据库基本概念</h4><ul>
<li><p>关系：整个二维表</p>
</li>
<li><p>关系名：表格名称</p>
</li>
<li><p>元组：行数据(记录)</p>
</li>
<li><p>属性：列数据(字段)</p>
</li>
<li><p>属性名：列名称(字段名)</p>
</li>
<li><p>主键：唯一确定元组的属性组(关键字)</p>
</li>
<li><p>域：属性的取值范围</p>
</li>
</ul>
<h3 id="2-select-子句"><a href="#2-select-子句" class="headerlink" title="2 select 子句"></a>2 select 子句</h3><h4 id="2-1-通配符"><a href="#2-1-通配符" class="headerlink" title="2.1 通配符 *"></a>2.1 通配符 *</h4><h4 id="2-2-select-用于指定查询表格中的列信息"><a href="#2-2-select-用于指定查询表格中的列信息" class="headerlink" title="2.2 select 用于指定查询表格中的列信息"></a>2.2 select 用于指定查询表格中的列信息</h4><h4 id="2-3-在-Oracle-中-双引号表示原样输出"><a href="#2-3-在-Oracle-中-双引号表示原样输出" class="headerlink" title="2.3 在 Oracle 中 双引号表示原样输出"></a>2.3 在 Oracle 中 双引号表示原样输出</h4><p>a) 查询<code>emp</code> 表格中所有的数据</p>
<ul>
<li>通配符 *</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">seleclt  * from emp;</span><br></pre></td></tr></table></figure>

<p>b) 查询所有员工的编号，姓名，工作职位</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span>  empno,ename,job <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<p>c）查询所有员工的姓名，工作职位，年薪</p>
<p>​    年薪  as 可省略 别名中尽量不要使用特殊符号，若要使用，用<strong>双引号括</strong>起来。</p>
<p>​        在 Oracle 中，双引号中表示原样输出</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ename job sal*<span class="number">12</span> <span class="keyword">as</span> annualsalary <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ename,job,sal*<span class="number">12</span> <span class="string">"年 薪"</span> <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<h3 id="3-distinct-字符串连接符-order-by"><a href="#3-distinct-字符串连接符-order-by" class="headerlink" title="3 distinct 字符串连接符 order by"></a>3 distinct 字符串连接符 order by</h3><h4 id="3-1-distinct-用于去除重复行信息"><a href="#3-1-distinct-用于去除重复行信息" class="headerlink" title="3.1  distinct 用于去除重复行信息"></a>3.1  distinct 用于去除重复行信息</h4><p>a） 查询所有的职位信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> job <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<p>b)  查询所有员工的姓名和职位</p>
<p>​    distinct 只能去除重复行，distinct 的作用的范围它后面的所有的列</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 加不加distinct，查询效果都一样</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> ename,job  <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<h4 id="3-2-字符串连接符"><a href="#3-2-字符串连接符" class="headerlink" title="3.2  字符串连接符 ||"></a>3.2  字符串连接符 ||</h4><blockquote>
<p>Oracle 中， 用单引号表示字符串</p>
</blockquote>
<p>a)  查询所有员工的姓名，职位和薪资，以 ‘姓名：xxx’的形式</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="string">'姓名:'</span>||ename,<span class="string">'工作职位:'</span>||job,<span class="string">'薪资:'</span>||sal <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<h4 id="3-3-order-by-子句"><a href="#3-3-order-by-子句" class="headerlink" title="3.3 order by 子句"></a>3.3 order by 子句</h4><blockquote>
<p>用于排序（数字、字符串、日期    ）</p>
</blockquote>
<blockquote>
<p>order by 子句写在<strong>最后</strong></p>
</blockquote>
<p>默认情况，以升序排列 ，支持多字段排序，别名排序</p>
<p>a）查询所有员工的信息，按照工资升序排列</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> sal;</span><br></pre></td></tr></table></figure>

<p>b）查询所有员工的信息，按照标号降序排列</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span>  empno <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<p>c）查询所有员工的信息，按照入职日期降序排列</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> hiredate <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<p>d）查询所有员工的信息，按照姓名排序</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> ename <span class="keyword">asc</span>;</span><br></pre></td></tr></table></figure>

<p>e）查询所有员工的信息，按照薪资降序排序，如果薪资相同，将新员工排在前面</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> sal <span class="keyword">desc</span>, hiredate <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<p>f）查询所有员工的姓名和年薪，按照薪资排序</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="string">'姓名:'</span>||ename <span class="keyword">as</span> <span class="string">"姓名"</span>, <span class="string">'年薪:'</span>||sal*<span class="number">12</span>  <span class="keyword">as</span> <span class="string">"年薪"</span> <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> sal*<span class="number">12</span>;</span><br></pre></td></tr></table></figure>

<h3 id="4-where-子句-等值条件和非等值条件"><a href="#4-where-子句-等值条件和非等值条件" class="headerlink" title="4 where 子句 等值条件和非等值条件"></a>4 where 子句 等值条件和非等值条件</h3><h4 id="4-1-where-子句"><a href="#4-1-where-子句" class="headerlink" title="4.1 where 子句"></a>4.1 where 子句</h4><blockquote>
<p> 用于条件过滤</p>
</blockquote>
<p>a） 查询 十个部门的所有员工的信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="number">10</span> ;</span><br></pre></td></tr></table></figure>

<p>b） 查询 SCOTT 的详细信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> ename = <span class="string">'SCOTT'</span>;</span><br></pre></td></tr></table></figure>

<p>字符串必须加单引号，而且大小写敏感</p>
<p>c）查询 1980-4-19 入职的公司人员的所有信息 </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> hiredate = <span class="string">'19-4月-87'</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>日期必须用单引号括起来</li>
<li>日期格式必须是 DD-MM月-YY年 的格式</li>
</ul>
<h4 id="4-2-等值条件和非等值条件"><a href="#4-2-等值条件和非等值条件" class="headerlink" title="4.2 等值条件和非等值条件"></a>4.2 等值条件和非等值条件</h4><p>a） 查询 工资在1500-3000 范围中的员工信息</p>
<ul>
<li><p>and</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span>  sal &gt;= <span class="number">1500</span>  <span class="keyword">and</span> sal &lt;= <span class="number">3000</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>between   and  表示一个范围 包含边界</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> sal <span class="keyword">between</span> <span class="number">1500</span> <span class="keyword">and</span> <span class="number">3000</span>;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>b）查询 SCOTT 和  KING 的详细信息</p>
<ul>
<li>or </li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> ename = <span class="string">'SCOTT'</span> <span class="keyword">or</span> ename = <span class="string">'KING'</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>in </li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">in</span>(<span class="string">'SCOTT'</span>,<span class="string">'KING'</span>);</span><br></pre></td></tr></table></figure>

<p>c) 查询所有员工的信息，排除20部门</p>
<ul>
<li>!=  </li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> deptno != <span class="string">'20'</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>&lt;&gt; </li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> deptno &lt;&gt; <span class="number">20</span>;</span><br></pre></td></tr></table></figure>

<h4 id="4-3-模糊查询"><a href="#4-3-模糊查询" class="headerlink" title="4.3 模糊查询"></a>4.3 模糊查询</h4><blockquote>
<p> 使用 like(像) 查询，配合通配符实现 </p>
</blockquote>
<blockquote>
<p> ‘ -‘  表示 任意一个字符</p>
</blockquote>
<blockquote>
<p> ‘%’ 表示 任意个任意字符</p>
</blockquote>
<p>a） 查询首字母为 A 员工姓名的所有信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span>  ename <span class="keyword">like</span>  <span class="string">'A%'</span>;</span><br></pre></td></tr></table></figure>

<p>b) 查询姓名中第二字母为 A 员工姓名的所有信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">'_A%'</span>;</span><br></pre></td></tr></table></figure>

<p>c） 查询姓名中带有字母   C 的员工的所有信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">'%C%'</span>;</span><br></pre></td></tr></table></figure>

<p>d）查询姓名中带有下划线_  员工的所有信息</p>
<p>escape 声明转义字符，注意转义字符只能是一个字符</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">'%t_%'</span> escape <span class="string">'t'</span>；</span><br></pre></td></tr></table></figure>

<h4 id="4-4-IS-NULL"><a href="#4-4-IS-NULL" class="headerlink" title="4.4 IS NULL"></a>4.4 IS NULL</h4><blockquote>
<p> 用于判断空值</p>
</blockquote>
<p>a） 查询所有没有提成的员工信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> *  <span class="keyword">from</span> emp <span class="keyword">where</span> comm <span class="keyword">is</span> <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>

<p>b）查询所有有提成的员工信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> comm <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> <span class="keyword">not</span> comm <span class="keyword">is</span> <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>

<h4 id="4-5-and-和-or-的优先级"><a href="#4-5-and-和-or-的优先级" class="headerlink" title="4.5  and  和 or 的优先级"></a>4.5  and  和 or 的优先级</h4><blockquote>
<p> and 的优先级大于 or  的优先级</p>
</blockquote>
<p>a） 查询所有 CLERK 的信息和工资大于 1250 的 SALESMAN 的信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> *  <span class="keyword">from</span> emp <span class="keyword">where</span> job = <span class="string">'CLERK'</span> <span class="keyword">or</span> job = <span class="string">'SALESMAN'</span> <span class="keyword">and</span> sal &gt; <span class="number">1250</span>;</span><br></pre></td></tr></table></figure>

<p>b） 查询所有的 CLEAK 和 SALESMAN 的工资同时大于1250</p>
<p>​    加括号的优先级最高</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> *  <span class="keyword">from</span> emp <span class="keyword">where</span> (job = <span class="string">'CLERK'</span> <span class="keyword">or</span> job = <span class="string">'SALESMAN'</span>) <span class="keyword">and</span> sal &gt; <span class="number">1250</span>;</span><br></pre></td></tr></table></figure>

<h3 id="5-函数"><a href="#5-函数" class="headerlink" title="5 函数"></a>5 函数</h3><h4 id="5-1-字符函数"><a href="#5-1-字符函数" class="headerlink" title="5.1 字符函数"></a>5.1 字符函数</h4><h5 id="5-1-1-lower-upper-initcap"><a href="#5-1-1-lower-upper-initcap" class="headerlink" title="5.1.1  lower upper initcap"></a>5.1.1  lower upper initcap</h5><p>a） lower ，将所有字母小写</p>
<p>b） upper，将所有字母大写</p>
<p>c）initcap，将所有单词的首字母大写</p>
<p>查询所有员工的姓名，分别显示所有字母小写、所有字母大写，字母首字母大写    </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">lower</span>(ename),<span class="keyword">upper</span>(ename),initcap(ename) <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<p>PS: 在 Oracle 中，提供了一个虚拟的表格 dual，用于测试，可以从 dual 表 中查询任何数据</p>
<h5 id="5-1-2-length"><a href="#5-1-2-length" class="headerlink" title="5.1.2 length"></a>5.1.2 length</h5><p>用于字符串的长度查询</p>
<p>a）查询所有员工的姓名及其姓名的长度</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ename,<span class="keyword">length</span>(ename) <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<p>b）查询指定员工的姓名的长度为5的信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ename <span class="keyword">from</span> emp <span class="keyword">where</span> <span class="keyword">length</span>(ename)=<span class="number">5</span>;</span><br></pre></td></tr></table></figure>

<h5 id="5-1-3-replace"><a href="#5-1-3-replace" class="headerlink" title="5.1.3 replace"></a>5.1.3 replace</h5><blockquote>
<p> 用于字符串的替换</p>
</blockquote>
<p>a）查询所有员工的姓名，将A替换为a</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ename,<span class="keyword">replace</span>(ename,<span class="string">'A'</span>,<span class="string">'a'</span>) <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<h5 id="5-1-4-arrow-up-small-substr"><a href="#5-1-4-arrow-up-small-substr" class="headerlink" title="5.1.4 :arrow_up_small: substr"></a>5.1.4 :arrow_up_small: substr</h5><blockquote>
<p> 用于进行字符串的截取     </p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">substr(字段名，截取开始的位置，截取的长度（既可以是正向截取，也可以是反向截取）)</span><br></pre></td></tr></table></figure>

<p>​    PS：第三个参数可以省略，表示一直截取到末尾，所有可以简写</p>
<p>​         第二个参数可以是<strong>负数</strong>，表示从末尾开始截取，截取的长度是该负数的绝对值</p>
<p>a） 查询所有员工的姓名，并显示姓名的前三个字母</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ename,<span class="keyword">substr</span>(ename,<span class="number">0</span>,<span class="number">3</span>) <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<p>b）查询所有员工的姓名，并显示姓名的后三个字母</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ename,<span class="keyword">substr</span>(ename,<span class="keyword">length</span>(ename)<span class="number">-2</span>,<span class="number">3</span>),<span class="keyword">substr</span>(ename,<span class="keyword">length</span>(ename)<span class="number">-2</span>) <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<p><img src="http://www.zwer.xyz/picGo/20181201111907.png" alt></p>
<h4 id="5-2-数值函数"><a href="#5-2-数值函数" class="headerlink" title="5.2 数值函数"></a>5.2 数值函数</h4><h5 id="5-2-1-ceil"><a href="#5-2-1-ceil" class="headerlink" title="5.2.1  ceil"></a>5.2.1  ceil</h5><blockquote>
<p> 向上取整  </p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">ceil</span>(<span class="number">1234.00001</span>) <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure>

<h5 id="5-2-2-floor"><a href="#5-2-2-floor" class="headerlink" title="5.2.2 floor"></a>5.2.2 floor</h5><blockquote>
<p> 向下取整</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">floor</span>(<span class="number">1234.9999</span>) <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure>

<h5 id="5-2-3-round"><a href="#5-2-3-round" class="headerlink" title="5.2.3 round"></a>5.2.3 round</h5><blockquote>
<p>四舍五入</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">round</span>(<span class="number">123.345</span>),<span class="keyword">round</span>(<span class="number">123.567</span>) <span class="keyword">from</span> dual; <span class="comment">--123 124</span></span><br></pre></td></tr></table></figure>

<p>二个参数，第一个参数表示要处理的数，第二个参数可以控制四舍五入的位数</p>
<p>正数表示小数点，负数表示小数点前</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">round</span>(<span class="number">123.34343</span>,<span class="number">2</span>),<span class="keyword">round</span>(<span class="number">123.3434</span>,<span class="number">-2</span>),<span class="keyword">round</span>(<span class="number">123.3434</span>,<span class="number">-1</span>) <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure>

<p><img src="http://www.zwer.xyz/picGo/20181201110916.png" alt="round 函数"></p>
<h5 id="5-2-3-trunc"><a href="#5-2-3-trunc" class="headerlink" title="5.2.3  trunc"></a>5.2.3  trunc</h5><blockquote>
<p>截断</p>
</blockquote>
<blockquote>
<p> 若指定保留小数的位数，则从保留小数位后面的数开始截断，否则小数位全部截断。</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> trunc(<span class="number">123.34232434</span>),trunc(<span class="number">123243.23432</span>,<span class="number">2</span>),trunc(<span class="number">123</span>) <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure>

<p><img src="http://www.zwer.xyz/picGo/20181201111159.png" alt></p>
<h4 id="5-3-日期函数"><a href="#5-3-日期函数" class="headerlink" title="5.3 日期函数"></a>5.3 日期函数</h4><h5 id="5-3-1-months-between"><a href="#5-3-1-months-between" class="headerlink" title="5.3.1 months_between"></a>5.3.1 months_between</h5><blockquote>
<p> 计算两个月份之前的减法</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--获取当前时间</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">sysdate</span> <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure>

<p>查询所有员工入职的月份</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> months_between(<span class="keyword">sysdate</span>,hiredate) <span class="keyword">from</span> emp;   </span><br><span class="line"><span class="keyword">select</span> months_between(hiredate,<span class="keyword">sysdate</span>) <span class="keyword">from</span> emp;  <span class="comment">-- 负数</span></span><br><span class="line"><span class="keyword">select</span> months_between(<span class="keyword">sysdate</span>,<span class="string">'3-9月-2016'</span>)  <span class="keyword">as</span> <span class="string">"入学时间到现在的月份"</span> <span class="keyword">from</span>  dual;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">floor</span>(months_between(<span class="keyword">sysdate</span>,<span class="keyword">to_date</span>(<span class="string">'2016-9-3 2:00'</span>,<span class="string">'YYYY-MM-DD HH:MI'</span>)) ) <span class="string">"入学时间到现在的月份"</span> <span class="keyword">from</span> dual; <span class="comment">--26</span></span><br></pre></td></tr></table></figure>

<h5 id="5-3-2-add-months"><a href="#5-3-2-add-months" class="headerlink" title="5.3.2 add_months"></a>5.3.2 add_months</h5><blockquote>
<p> 给日期加减月数</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> add_months(<span class="keyword">sysdate</span>,<span class="number">1</span>) <span class="keyword">from</span> dual;</span><br><span class="line"><span class="keyword">select</span> add_months(<span class="keyword">sysdate</span>,<span class="number">-27</span>) <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure>

<h5 id="5-3-3-last-day"><a href="#5-3-3-last-day" class="headerlink" title="5.3.3 last_day"></a>5.3.3 last_day</h5><blockquote>
<p> 计算给定日期所在月份的最后一天</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">last_day</span>(<span class="keyword">sysdate</span>) <span class="keyword">from</span> dual;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">last_day</span>(<span class="string">'1-2月-2018'</span>) <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure>

<h5 id="5-3-4-next-day"><a href="#5-3-4-next-day" class="headerlink" title="5.3.4 next_day"></a>5.3.4 next_day</h5><blockquote>
<p> 基于给定日期计算下个<strong>给定星期几</strong>是什么日期</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> next_day(<span class="keyword">sysdate</span>,<span class="string">'星期五'</span>) <span class="keyword">from</span> dual;</span><br><span class="line"><span class="keyword">select</span> next_day(<span class="string">'8-12月-2018'</span>,<span class="string">'星期六'</span>) <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure>

<h4 id="5-4-转换函数"><a href="#5-4-转换函数" class="headerlink" title="5.4 转换函数"></a>5.4 转换函数</h4><blockquote>
<p> 用于在不同数据类型键进行转换，数值类型，字符串类型，日期类</p>
</blockquote>
<h5 id="5-4-1-to-number"><a href="#5-4-1-to-number" class="headerlink" title="5.4.1 to_number"></a>5.4.1 to_number</h5><blockquote>
<p> 将字符串转换为数字   L999,999,999.000</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> to_number(<span class="string">'$12,456,789'</span>,<span class="string">'$999,999,999.00'</span>) <span class="keyword">as</span> <span class="string">"将字符串转换为数字"</span> <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure>

<h5 id="5-4-2-to-date"><a href="#5-4-2-to-date" class="headerlink" title="5.4.2 to_date"></a>5.4.2 to_date</h5><blockquote>
<p> 将字符串转换为日期   YYYY-MM-DD HH24:MI:SS  </p>
</blockquote>
<blockquote>
<p> HH24 表示 24 小时制，而 HH 表示 12 小时制</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">to_date</span>(<span class="string">'2018-12-14 14:30:00'</span>,<span class="string">'YYYY-MM-DD HH24:MI:SS'</span>) <span class="keyword">as</span> <span class="string">"六级考试时间"</span> <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure>

<h5 id="5-4-3-to-char"><a href="#5-4-3-to-char" class="headerlink" title="5.4.3 to_char"></a>5.4.3 to_char</h5><blockquote>
<p> 将数字或日期转换为字符串  </p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> to_char(<span class="number">123456789</span>,<span class="string">'L999,999,999.00'</span>) <span class="keyword">as</span> <span class="string">"人民币"</span> <span class="keyword">from</span> dual;</span><br><span class="line"><span class="keyword">select</span> to_char(<span class="number">123456789</span>,<span class="string">'$999,999,999.00'</span>) <span class="keyword">as</span> <span class="string">"美元"</span> <span class="keyword">from</span> dual;</span><br><span class="line"><span class="keyword">select</span> to_char(<span class="keyword">sysdate</span>,<span class="string">'YYYY"年",MM"月",DD"日" HH24:MI:SS'</span>) <span class="keyword">as</span> <span class="string">"当前时间"</span> <span class="keyword">from</span> dual;</span><br></pre></td></tr></table></figure>

<p><img src="http://www.zwer.xyz/picGo/20181201120024.png" alt></p>
<h4 id="5-5-通用函数-其他函数"><a href="#5-5-通用函数-其他函数" class="headerlink" title="5.5 通用函数 (其他函数)"></a>5.5 通用函数 (其他函数)</h4><h5 id="5-5-1-nvl"><a href="#5-5-1-nvl" class="headerlink" title="5.5.1  nvl"></a>5.5.1  nvl</h5><blockquote>
<p>nvl (判断是否为空的字段名，要替换的值)</p>
</blockquote>
<blockquote>
<p>用来处理空值，如果某个字段为空，则使用对应的数据进行替换</p>
</blockquote>
<p>注意：替换的数据类型必须<strong>原数据类型一致</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询所有员工的的姓名，提升，工资，工资+提升 的信息</span></span><br><span class="line"><span class="keyword">select</span> ename,comm,sal+comm <span class="keyword">from</span> emp;</span><br><span class="line"><span class="keyword">select</span> ename,comm,sal+nvl(comm,<span class="number">0</span>) total <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<h5 id="5-5-2-nvl2"><a href="#5-5-2-nvl2" class="headerlink" title="5.5.2 nvl2"></a>5.5.2 nvl2</h5><p>有三个参数，如果第一个参数不为空，则使用第二个参数，如果为空，</p>
<p>则使用第三个参数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ename,comm,nvl2(comm,sal+comm,sal)total <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<h5 id="5-5-3-decode"><a href="#5-5-3-decode" class="headerlink" title="5.5.3 decode"></a>5.5.3 decode</h5><p>类似于 switch…case…</p>
<p>将所有工作职位的英文名称换成中文显示</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> job,<span class="keyword">decode</span>(job,<span class="string">'CLERK'</span>,<span class="string">'职员'</span>,<span class="string">'SALESMAN'</span>,<span class="string">'销售'</span>,<span class="string">'PRESIDENT'</span>,<span class="string">'总经理'</span>,<span class="string">'MANAGER'</span>,<span class="string">'项目经理'</span>,<span class="string">'ANALYST'</span>,<span class="string">'分析师'</span>) job <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<p><img src="http://www.zwer.xyz/picGo/20181201150345.png" alt></p>
<h4 id="5-6-分组函数-聚组函数-多行函数"><a href="#5-6-分组函数-聚组函数-多行函数" class="headerlink" title="5.6 分组函数(聚组函数)  多行函数"></a>5.6 分组函数(聚组函数)  多行函数</h4><p>PS： 注意所有的分组函数都不对空值进行处理</p>
<h5 id="5-6-1-sum"><a href="#5-6-1-sum" class="headerlink" title="5.6.1 sum"></a>5.6.1 sum</h5><blockquote>
<p>求和</p>
</blockquote>
<p>​    查询所有员工的工资总和</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">sum</span>(sal) total <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<h5 id="5-6-2-avg"><a href="#5-6-2-avg" class="headerlink" title="5.6.2 avg"></a>5.6.2 avg</h5><blockquote>
<p>求平均数</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询平均工资</span></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">avg</span>(sal) total <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<h5 id="5-6-3-max"><a href="#5-6-3-max" class="headerlink" title="5.6.3 max"></a>5.6.3 max</h5><blockquote>
<p>求最大值</p>
</blockquote>
<p>统计公司员工中工资最高者</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">max</span>(sal) <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<h5 id="5-6-4-min"><a href="#5-6-4-min" class="headerlink" title="5.6.4 min"></a>5.6.4 min</h5><blockquote>
<p> 求最小值</p>
</blockquote>
<p>统计公司员工中工资最低者</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">min</span>(sal) <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<h5 id="5-6-5-count"><a href="#5-6-5-count" class="headerlink" title="5.6.5 count"></a>5.6.5 count</h5><blockquote>
<p> 计数</p>
</blockquote>
<p>统计公司中人员总数</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(empno) <span class="keyword">from</span> emp;</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">count</span>(*) <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select count(*) from emp;  </span><br><span class="line">-- * 表示所有满足统计条件的字段，并且不对空值进行处理</span><br></pre></td></tr></table></figure>

<h3 id="6-分组查询-group-by-having"><a href="#6-分组查询-group-by-having" class="headerlink" title="6 分组查询 group by  having"></a>6 分组查询 group by  having</h3><p>进行分组查询， ground by 子句可以将查询分为若干个组</p>
<h5 id="6-1-1分组查询"><a href="#6-1-1分组查询" class="headerlink" title="6.1.1分组查询"></a>6.1.1分组查询</h5><p>注意：出现在 select 列表中的<strong>字段</strong>，如果不是包括在多行函数中，那么该字段</p>
<p>必须<strong>同时在 group by 子句中出现</strong></p>
<p>a） 统计每个部门的编号，最高工资和最低工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> deptno,<span class="keyword">max</span>(sal)k,<span class="keyword">min</span>(sal) </span><br><span class="line"><span class="keyword">from</span> emp </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> deptno </span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> deptno;</span><br></pre></td></tr></table></figure>

<h5 id="6-1-2-带-where-子句的分组查询"><a href="#6-1-2-带-where-子句的分组查询" class="headerlink" title="6.1.2 带 where 子句的分组查询"></a>6.1.2 带 where 子句的分组查询</h5><p>a）查询每个部门的人数和平均工资，排除 10 部门</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> deptno,<span class="keyword">count</span>(deptno),trunc(<span class="keyword">avg</span>(sal)) </span><br><span class="line"><span class="keyword">from</span> emp </span><br><span class="line"><span class="keyword">where</span> deptno &lt;&gt; <span class="number">10</span> </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> deptno </span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> deptno;</span><br></pre></td></tr></table></figure>

<h5 id="6-1-3-having"><a href="#6-1-3-having" class="headerlink" title="6.1.3 having"></a>6.1.3 having</h5><p>注意：</p>
<ul>
<li>where 子句 不允许使用分组函数    </li>
</ul>
<p>a）查询每个部门的总工资和平均工资，排除平均工资低于1600的部门</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> deptno,<span class="keyword">sum</span>(sal),trunc(<span class="keyword">avg</span>(sal)) </span><br><span class="line"><span class="keyword">from</span> emp </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> deptno </span><br><span class="line"><span class="keyword">having</span> <span class="keyword">avg</span>(sal) &gt; <span class="number">1600</span> </span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> deptno;</span><br></pre></td></tr></table></figure>

<h5 id="6-1-4-select-语句的执行顺序-arrow-up-small"><a href="#6-1-4-select-语句的执行顺序-arrow-up-small" class="headerlink" title="6.1.4 select 语句的执行顺序 :arrow_up_small:"></a>6.1.4 select 语句的执行顺序 :arrow_up_small:</h5><p> from -&gt; where - &gt;     group by -&gt; select - &gt; having  -.&gt; ord    er by</p>
<p>a）在 emp 表中，列出 工资最小 &lt; 2000 的职位</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> job</span><br><span class="line"><span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> job</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">avg</span>(sal) &gt; <span class="number">2000</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> job</span><br></pre></td></tr></table></figure>

<p>b）在 emp 表中，列出 平均工资大于 1200 元的部门和工作搭配的组合</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> deptno,job</span><br><span class="line"><span class="keyword">from</span> emp </span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> deptno,job</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">avg</span>(sal) &gt; <span class="number">1200</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> deptno</span><br></pre></td></tr></table></figure>

<p><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1543650935180.png" alt="1543650935180"></p>
<p>思考题：</p>
<ul>
<li>统计人数小于 4 的部门的平均工资</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">select deptno,avg(sal)</span><br><span class="line">from emp </span><br><span class="line">group by deptno</span><br><span class="line">having count(deptno) &lt; 4;</span><br></pre></td></tr></table></figure>

<ul>
<li>统计个部门的最高工资，排除最高工资小于 3000 的部门 </li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> deptno,<span class="keyword">max</span>(sal)</span><br><span class="line"><span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> deptno</span><br><span class="line"><span class="keyword">having</span> <span class="keyword">max</span>(sal) &gt; <span class="number">3000</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> deptno;</span><br></pre></td></tr></table></figure>

<h3 id="7-DML"><a href="#7-DML" class="headerlink" title="7  DML"></a>7  DML</h3><blockquote>
<p>DML，Data Manipulation Language, (数据库操作语言)，执行增删改查</p>
</blockquote>
<h5 id="7-1-复制一个测试表格"><a href="#7-1-复制一个测试表格" class="headerlink" title="7.1 复制一个测试表格"></a>7.1 复制一个测试表格</h5><p>a)     复制一个 emp 表格，并命名为 temp</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> temp <span class="keyword">as</span> (<span class="keyword">select</span> * <span class="keyword">from</span> emp); <span class="comment">-- 复制表格</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> v_temp <span class="keyword">as</span>(<span class="keyword">select</span> * <span class="keyword">from</span> emp); <span class="comment">-- 创建视图</span></span><br></pre></td></tr></table></figure>

<p>b） 复制一个 emp 表格，只复制表结构，不复制表内容</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> temp2 <span class="keyword">as</span> (<span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">where</span> <span class="number">1</span> = <span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<h5 id="7-2-新增-（insert-into）"><a href="#7-2-新增-（insert-into）" class="headerlink" title="7.2 新增  （insert into）"></a>7.2 新增  （insert into）</h5><p>a） 语法</p>
<p>insert  into 表名 [(列1，列2….)] values(值1，值2);</p>
<p>b） 向 temp2 表格中插入一条数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> temp2(EMPNO,ENAME,JOB,MGR,HIREDATE,SAL,COMM,DEPTNO) <span class="keyword">values</span>(</span><br><span class="line"><span class="string">'1234'</span>,<span class="string">'小方'</span>,<span class="string">'学生'</span>,<span class="string">'1111'</span>,<span class="keyword">to_date</span>(<span class="string">'2018-12-1'</span>,<span class="string">'yyyy-mm-dd'</span>),<span class="number">500</span>,<span class="number">90</span>,<span class="number">10</span>);</span><br></pre></td></tr></table></figure>

<p>c） 当表格的每一列都要插入数据时，可以省略列名</p>
<p>需要列的位置与值的位置是<strong>对应的</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> temp2 <span class="keyword">values</span>(<span class="string">'4567'</span>,<span class="string">'小孔'</span>,<span class="string">'学生'</span>,<span class="string">'1112'</span>,<span class="keyword">to_date</span>(<span class="string">'18-12-1'</span>,<span class="string">'yy-mm-dd'</span>),<span class="number">500</span>,<span class="number">80</span>,<span class="number">20</span>);</span><br></pre></td></tr></table></figure>

<h5 id="7-3-修改-update"><a href="#7-3-修改-update" class="headerlink" title="7.3 修改(update)"></a>7.3 修改(update)</h5><p>a）语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> 表名 <span class="keyword">set</span> 列<span class="number">1</span>= 值<span class="number">1</span>[列=值...][<span class="keyword">where</span> 条件]</span><br></pre></td></tr></table></figure>

<p>b) 将 10 部门的工资调高 10%</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> temp2 <span class="keyword">set</span> sal=sal*<span class="number">1.1</span></span><br></pre></td></tr></table></figure>

<h5 id="7-4-删除-delete-from"><a href="#7-4-删除-delete-from" class="headerlink" title="7.4 删除(delete from )"></a>7.4 删除(delete from )</h5><p>a) 语法</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> [<span class="keyword">from</span>] 表名 [<span class="keyword">where</span> 条件]</span><br></pre></td></tr></table></figure>

<p>b) 删除编号为 12345 的人员的信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> temp2 <span class="keyword">where</span> empno=<span class="number">1234</span>;   <span class="comment">-- 删除单条记录</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> temp2 					<span class="comment">-- 删除整张表格，不保留表结构</span></span><br><span class="line"><span class="keyword">delete</span> temp2					    <span class="comment">-- 仅删除表格中的数据，保留表结构</span></span><br></pre></td></tr></table></figure>

<h3 id="8-SQL-99-多表连接查询"><a href="#8-SQL-99-多表连接查询" class="headerlink" title="8 SQL 99  多表连接查询"></a>8 SQL 99  多表连接查询</h3><h5 id="8-1-cross-join-交叉连接"><a href="#8-1-cross-join-交叉连接" class="headerlink" title="8.1  cross  join   交叉连接"></a>8.1  cross  join   交叉连接</h5><blockquote>
<p> 交叉连接会产生一个笛卡尔积</p>
</blockquote>
<blockquote>
<p> 在笛卡尔积，有很多无意义的数据，所以需要消除,使用 where 子句 </p>
</blockquote>
<blockquote>
<p> 表的别名直接在后面加别名，中间用空格隔开</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> *  <span class="keyword">from</span> emp <span class="keyword">cross</span> <span class="keyword">join</span> dept;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp <span class="keyword">cross</span> <span class="keyword">join</span> dept <span class="keyword">where</span> emp.deptno = dept.deptno;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> emp.*,dept.dname,dept.loc </span><br><span class="line"><span class="keyword">from</span> emp <span class="keyword">cross</span> <span class="keyword">join</span> dept </span><br><span class="line"><span class="keyword">where</span> emp.deptno = dept.deptno;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> e.*,d.dname,d.loc </span><br><span class="line"><span class="keyword">from</span> emp e </span><br><span class="line"><span class="keyword">cross</span> <span class="keyword">join</span> dept d </span><br><span class="line"><span class="keyword">where</span> e.deptno = d.deptno;</span><br></pre></td></tr></table></figure>

<h5 id="8-2-natural-join-自然连接"><a href="#8-2-natural-join-自然连接" class="headerlink" title="8.2 natural join 自然连接"></a>8.2 natural join 自然连接</h5><blockquote>
<p> natural join 用于针对多张表的同名字段进行等值连接</p>
</blockquote>
<p>特点：</p>
<p>a）在自然连接时，自动进行所有通名列的等值连接，不需要写连接的条件</p>
<p>b）<strong>同名列只显示一列，而且在使用时，不能加表前缀</strong></p>
<p>查询所有员工的姓名，部门编号和部门名称</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.ename,deptno,d.dname </span><br><span class="line"><span class="keyword">from</span> emp e </span><br><span class="line"><span class="keyword">natural</span> <span class="keyword">join</span> dept d</span><br></pre></td></tr></table></figure>

<h5 id="8-3-using-子句"><a href="#8-3-using-子句" class="headerlink" title="8.3  using 子句"></a>8.3  using 子句</h5><blockquote>
<p> 用来指定进行等值连接的同名字段，针对自然连接提供的。</p>
</blockquote>
<ul>
<li>PS： 使用 using 子句，后面的加的字段名必须用 圆括号()括起来</li>
</ul>
<p>a） 查询 20 部门的员工的姓名，工资，部门编号和部门名称</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.ename,e.sal,deptno,d.dname  </span><br><span class="line"><span class="keyword">from</span> emp e </span><br><span class="line"><span class="keyword">natural</span> <span class="keyword">join</span> dept d </span><br><span class="line"><span class="keyword">where</span> deptno = <span class="number">20</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.ename,e.sal,deptno,d.dname </span><br><span class="line"><span class="keyword">from</span> emp e </span><br><span class="line"><span class="keyword">join</span> dept d  </span><br><span class="line"><span class="keyword">using</span> (deptno)   <span class="comment">-- 使用圆括号 ()</span></span><br><span class="line"><span class="keyword">where</span> deptno = <span class="number">20</span>;</span><br></pre></td></tr></table></figure>

<h5 id="8-4-on-子句"><a href="#8-4-on-子句" class="headerlink" title="8.4  on 子句"></a>8.4  on 子句</h5><p>on 子句使用非常广泛的子句</p>
<p>它可以被用来<strong>指定连接的条件</strong>(既可以指定等值连接，也可以非等值连接)</p>
<p>a) 查询所有员工的姓名，工资和工资等级</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.ename,e.sal,s.grade <span class="keyword">from</span> emp e <span class="keyword">join</span> salgrade s  <span class="keyword">on</span> e.sal &gt;= s.losal <span class="keyword">and</span> e.sal &lt;= s.hisal;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> e.ename,e.sal,s.grade <span class="keyword">from</span> emp e <span class="keyword">join</span> salgrade s  <span class="keyword">on</span> e.sal <span class="keyword">between</span> s.losal <span class="keyword">and</span> s.hisal;</span><br></pre></td></tr></table></figure>

<p>b) 查询 30 部门员工的编号，姓名，部门名称和所在地</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.empno,e.ename,d.dname,d.loc </span><br><span class="line"><span class="keyword">from</span> emp e </span><br><span class="line"><span class="keyword">join</span> dept d </span><br><span class="line"><span class="keyword">on</span>  e.deptno = d.deptno </span><br><span class="line"><span class="keyword">where</span> e.deptno = <span class="number">30</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> e.ename <span class="keyword">asc</span>;</span><br></pre></td></tr></table></figure>

<p>c) 查询 所有员工姓名 ，部门名称，工资和工资等级</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.ename,e.deptno,e.sal,s.grade</span><br><span class="line"><span class="keyword">from</span> emp  e</span><br><span class="line"><span class="keyword">join</span> dept d</span><br><span class="line"><span class="keyword">on</span> e.deptno = d.deptno   <span class="comment">-- 可以替换为自然连接</span></span><br><span class="line"><span class="keyword">join</span> salgrade s </span><br><span class="line"><span class="keyword">on</span> e.sal <span class="keyword">between</span> s.losal <span class="keyword">and</span> s.hisal </span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> e.ename,e.deptno <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.ename,deptno,e.sal,s.grade</span><br><span class="line"><span class="keyword">from</span> emp  e</span><br><span class="line"><span class="keyword">natural</span> <span class="keyword">join</span> dept d  <span class="comment">-- 自然连接 </span></span><br><span class="line"><span class="keyword">join</span> salgrade s </span><br><span class="line"><span class="keyword">on</span> e.sal <span class="keyword">between</span> s.losal <span class="keyword">and</span> s.hisal  <span class="comment">-- 非等值连接</span></span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> e.ename,deptno <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>n 张表 至少需要 n-1个连接条件</li>
</ul>
<h4 id="8-5-外连接"><a href="#8-5-外连接" class="headerlink" title="8.5 外连接"></a>8.5 外连接</h4><p>外连接除了显示满足连接的条件，也能显示不满足连接条件的数据</p>
<h5 id="8-5-1-左外连接"><a href="#8-5-1-左外连接" class="headerlink" title="8.5.1 左外连接"></a>8.5.1 左外连接</h5><p>left [outer] join,表示 左外连接，可以显示左表中不满足连接条件的数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">select</span> e.ename,e.job,d.deptno,d.dname</span><br><span class="line"><span class="keyword">from</span> dept d</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> emp  e</span><br><span class="line"><span class="keyword">on</span> e.deptno = d.deptno</span><br></pre></td></tr></table></figure>

<h5 id="8-5-1-右外连接"><a href="#8-5-1-右外连接" class="headerlink" title="8.5.1 右外连接"></a>8.5.1 右外连接</h5><p>right [outer] join ，表示右外连接，可以显示右表中不满足连接条件的数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">select</span> e.ename,e.job,d.deptno,d.dname</span><br><span class="line"><span class="keyword">from</span> emp  e</span><br><span class="line"><span class="keyword">right</span> <span class="keyword">join</span> dept d</span><br><span class="line"><span class="keyword">on</span> e.deptno = d.deptno</span><br></pre></td></tr></table></figure>

<h5 id="8-5-1-全外连接"><a href="#8-5-1-全外连接" class="headerlink" title="8.5.1 全外连接"></a>8.5.1 全外连接</h5><p>full [outer] join ，表示 全外连接，可以显示左右表中不满足连接条件的数据</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e1.empno,e1.ename,e2.ename</span><br><span class="line"><span class="keyword">from</span> emp e1</span><br><span class="line"><span class="keyword">full</span> <span class="keyword">join</span> emp e2    <span class="comment">--全外连接</span></span><br><span class="line"><span class="keyword">on</span> e1.mgr = e2.empno</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> e1.ename</span><br></pre></td></tr></table></figure>

<p><img src="http://www.zwer.xyz/picGo/20181203211659.png" alt></p>
<ul>
<li>内连接：只返回满足条件的数据 </li>
</ul>
<h5 id="8-6-自连接"><a href="#8-6-自连接" class="headerlink" title="8.6 自连接"></a>8.6 自连接</h5><p>自连接是发生在<strong>同一个表格</strong>中的连接</p>
<p>a）查询所有员工的编号，姓名和领导的编号及姓名</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e1.empno,e1.ename,e2.ename</span><br><span class="line"><span class="keyword">from</span> emp e1</span><br><span class="line"><span class="keyword">join</span> emp e2</span><br><span class="line"><span class="keyword">on</span> e1.mgr = e2.empno</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> e1.ename;</span><br></pre></td></tr></table></figure>

<p><img src="http://www.zwer.xyz/picGo/20181203211514.png" alt></p>
<p>b）查询所有员工的编号，姓名和领导的编号及姓名还有大BOSS –King</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e1.empno,e1.ename,e2.ename</span><br><span class="line"><span class="keyword">from</span> emp e1</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> emp e2  </span><br><span class="line"><span class="keyword">on</span> e1.mgr = e2.empno</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> e1.ename</span><br></pre></td></tr></table></figure>

<p><img src="http://www.zwer.xyz/picGo/20181203211600.png" alt></p>
<p>c) 查询所有员工的编号，姓名和领导的编号及姓名还有普通员工</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e1.empno,e1.ename,e2.ename</span><br><span class="line"><span class="keyword">from</span> emp e1</span><br><span class="line"><span class="keyword">full</span> <span class="keyword">join</span> emp e2    <span class="comment">--全外连接</span></span><br><span class="line"><span class="keyword">on</span> e1.mgr = e2.empno</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> e1.ename</span><br></pre></td></tr></table></figure>

<p><img src="http://www.zwer.xyz/picGo/20181203211659.png" alt></p>
<h3 id="9-SQL-92-多表查询"><a href="#9-SQL-92-多表查询" class="headerlink" title="9  SQL 92 多表查询"></a>9  SQL 92 多表查询</h3><h4 id="9-1-笛卡尔积"><a href="#9-1-笛卡尔积" class="headerlink" title="9.1 笛卡尔积"></a>9.1 笛卡尔积</h4><p>多张表通过逗号分隔，</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp,dept ;</span><br></pre></td></tr></table></figure>

<p>通过 where 子句 消除无意义的连接</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp e,dept d</span><br><span class="line"><span class="keyword">where</span> e.deptno = d.deptno;</span><br></pre></td></tr></table></figure>

<h4 id="9-2-等值连接"><a href="#9-2-等值连接" class="headerlink" title="9.2  等值连接"></a>9.2  等值连接</h4><p>a) 查询员工的名字，工作职位，部门名称。</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.ename,e.job,d.dname</span><br><span class="line"><span class="keyword">from</span> emp e,dept d</span><br><span class="line"><span class="keyword">where</span> e.deptno = d.deptno;</span><br></pre></td></tr></table></figure>

<h4 id="9-3-非等值连接"><a href="#9-3-非等值连接" class="headerlink" title="9.3 非等值连接"></a>9.3 非等值连接</h4><p>a) 查询 所有员工的姓名，工资和工资等级 </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.ename,e.sal,s.grade</span><br><span class="line"><span class="keyword">from</span> emp e,salgrade s</span><br><span class="line"><span class="keyword">where</span> e.sal <span class="keyword">between</span> s.losal <span class="keyword">and</span> s.hisal</span><br></pre></td></tr></table></figure>

<h4 id="9-4-外连接"><a href="#9-4-外连接" class="headerlink" title="9.4 外连接"></a>9.4 外连接</h4><p>通过 “（+）”  符号实现外连接</p>
<h5 id="9-4-1-左外连接"><a href="#9-4-1-左外连接" class="headerlink" title="9.4.1 左外连接"></a>9.4.1 左外连接</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.ename,e.job,d.deptno,d.dname</span><br><span class="line"><span class="keyword">from</span> emp e,dept d</span><br><span class="line"><span class="keyword">where</span> e.deptno = d.deptno(+);</span><br></pre></td></tr></table></figure>

<h5 id="9-4-2-右外连接"><a href="#9-4-2-右外连接" class="headerlink" title="9.4.2 右外连接"></a>9.4.2 右外连接</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.ename,e.job,d.deptno,d.dname</span><br><span class="line"><span class="keyword">from</span> emp e,dept d</span><br><span class="line"><span class="keyword">where</span> e.deptno(+) = d.deptno;</span><br></pre></td></tr></table></figure>

<p>注意： SQL92 不支持全外连接</p>
<h4 id="9-5-自连接"><a href="#9-5-自连接" class="headerlink" title="9.5 自连接"></a>9.5 自连接</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e1.empno,e2.ename</span><br><span class="line"><span class="keyword">from</span> emp e1,emp e2</span><br><span class="line"><span class="keyword">where</span> e1.mgr = e2.empno</span><br></pre></td></tr></table></figure>

<h3 id="10-子查询"><a href="#10-子查询" class="headerlink" title="10 子查询"></a>10 子查询</h3><blockquote>
<p>用于当一次查询的<u>结果</u>作为另一次查询所需要的时候，可以使用子查询</p>
</blockquote>
<h4 id="10-1-单行子查询"><a href="#10-1-单行子查询" class="headerlink" title="10.1 单行子查询"></a>10.1 单行子查询</h4><blockquote>
<p> 子查询的返回结果是<u>单行数据</u></p>
</blockquote>
<p>a) 查询所有此 CLERK(人名) 工资高的员工的信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * </span><br><span class="line"><span class="keyword">from</span> emp </span><br><span class="line"><span class="keyword">where</span> sal &gt; (<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> ename= <span class="string">'CLARK'</span>);</span><br></pre></td></tr></table></figure>

<p>b) 查询工资高于平均工资的雇员名字和工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.ename,e.sal</span><br><span class="line"><span class="keyword">from</span> emp e</span><br><span class="line"><span class="keyword">where</span> sal &gt; (<span class="keyword">select</span> <span class="keyword">avg</span>(sal) <span class="keyword">from</span> emp);</span><br></pre></td></tr></table></figure>

<p>c) 查询和 SCOTT 同一部门且比他工资低的雇员的名字和工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ename,sal</span><br><span class="line"><span class="keyword">from</span> emp </span><br><span class="line"><span class="keyword">where</span> deptno =  (<span class="keyword">select</span> deptno <span class="keyword">from</span> emp <span class="keyword">where</span> ename = <span class="string">'SCOTT'</span>)</span><br><span class="line"><span class="keyword">and</span> sal &lt; (<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span>  ename = <span class="string">'SCOTT'</span>);</span><br></pre></td></tr></table></figure>

<p>d) 查询职务和 SCOTT 相同，比SCOTT 雇佣时间早的雇员信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> job = (<span class="keyword">select</span> job <span class="keyword">from</span> emp <span class="keyword">where</span> ename = <span class="string">'SCOTT'</span>)</span><br><span class="line"><span class="keyword">and</span> hiredate &lt; (<span class="keyword">select</span> hiredate <span class="keyword">from</span> emp <span class="keyword">where</span> ename = <span class="string">'SCOTT'</span> );</span><br></pre></td></tr></table></figure>

<h4 id="10-2-多行子查询"><a href="#10-2-多行子查询" class="headerlink" title="10.2 多行子查询"></a>10.2 多行子查询</h4><blockquote>
<p>子查询的返回结果是多行数据。此时，不能在使用普通的比较运算符了。</p>
</blockquote>
<p>多行记录比较运算符：</p>
<ul>
<li>any： 跟结果中任何一个数据进行比较</li>
<li>all：跟结果中所有额数据进行比较</li>
<li>in：等于结果中的任一</li>
</ul>
<p>a) 查询工资低于任何一个  CLERK  的工资雇员信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * </span><br><span class="line"><span class="keyword">from</span> emp </span><br><span class="line"><span class="keyword">where</span> sal &lt; <span class="keyword">any</span>(<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> job = <span class="string">'CLERK'</span>)</span><br><span class="line"><span class="keyword">and</span> job &lt;&gt; <span class="string">'CLERK'</span>;</span><br></pre></td></tr></table></figure>

<p>b）查询工资比所有的 “SALESMAN” 都高的雇员的编号、名字和工资</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> emp;</span><br><span class="line"><span class="keyword">select</span> empno,ename,sal</span><br><span class="line"> <span class="keyword">from</span> emp </span><br><span class="line"> <span class="keyword">where</span> sal  &gt; <span class="keyword">all</span>(<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> job = <span class="string">'SALESMAN'</span>)</span><br></pre></td></tr></table></figure>

<p>c）查询部门 20 中职务中 同部门10 中的雇员一样的雇员的信息</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * </span><br><span class="line"><span class="keyword">from</span> emp e</span><br><span class="line"><span class="keyword">where</span> e.job <span class="keyword">in</span>(<span class="keyword">select</span> job <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = <span class="string">'10'</span>)</span><br><span class="line"><span class="keyword">and</span> e.deptno = <span class="number">20</span>;</span><br></pre></td></tr></table></figure>

<h4 id="10-3-不相关子查询和相关子查询-blue-heart"><a href="#10-3-不相关子查询和相关子查询-blue-heart" class="headerlink" title="10.3 不相关子查询和相关子查询 :blue_heart:"></a>10.3 不相关子查询和相关子查询 :blue_heart:</h4><blockquote>
<p> 不相关子查询：子查询<u>不会用到外查询的数据</u>，子查询<u>可以独立运行</u></p>
</blockquote>
<blockquote>
<p>相关子查询：子查询<u>会用到外查询的数据</u>，子查询<u>不能</u>独立运行</p>
</blockquote>
<p>a）（不相关） 查询本部门最高工资的员工</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * </span><br><span class="line"><span class="keyword">from</span>  emp e</span><br><span class="line"><span class="keyword">where</span> (e.deptno,e.sal) <span class="keyword">in</span> (<span class="keyword">select</span> deptno,<span class="keyword">max</span>(sal) sal <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> deptno)</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> sal <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<p>b)  （相关） 查询本部门最高工资的员工</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> *</span><br><span class="line"><span class="keyword">from</span> emp e</span><br><span class="line"><span class="keyword">where</span> sal = (<span class="keyword">select</span> <span class="keyword">max</span>(sal) <span class="keyword">from</span> emp <span class="keyword">where</span> deptno = e.deptno)</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> sal <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<h4 id="10-4-子查询可以作为一张表格进行多表连接查询-artificial-satellite"><a href="#10-4-子查询可以作为一张表格进行多表连接查询-artificial-satellite" class="headerlink" title="10.4   子查询可以作为一张表格进行多表连接查询 :artificial_satellite:"></a>10.4   子查询可以作为一张表格进行多表连接查询 :artificial_satellite:</h4><p>a) 查询每个部们平均薪水的<strong>等级</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> t.deptno,t.avg_sal,s.grade</span><br><span class="line"><span class="keyword">from</span> salgrade s</span><br><span class="line"><span class="keyword">join</span>(</span><br><span class="line">     <span class="keyword">select</span> deptno,<span class="keyword">avg</span>(sal) avg_sal <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> deptno</span><br><span class="line">)t</span><br><span class="line"><span class="keyword">on</span> t.avg_sal <span class="keyword">between</span> s.losal <span class="keyword">and</span> s.hisal;</span><br></pre></td></tr></table></figure>

<h3 id="总结-call-me-hand"><a href="#总结-call-me-hand" class="headerlink" title="总结:call_me_hand:"></a>总结:call_me_hand:</h3><h4 id="1-Oracle-中-单双引号的区别："><a href="#1-Oracle-中-单双引号的区别：" class="headerlink" title="1 Oracle 中 单双引号的区别："></a>1 Oracle 中 单双引号的区别：</h4><p> 在 Oracle 中，单引号表示<strong>字符串</strong>，而双引号表示<strong>原样输出</strong></p>
<h4 id="2-Oracle-中加号的作用："><a href="#2-Oracle-中加号的作用：" class="headerlink" title="2 Oracle 中加号的作用："></a>2 Oracle 中加号的作用：</h4><p>在 Oracle中，加号不表示 Java 中的字符串连接符，而仅仅表示<strong>加号</strong>，用于数值相加</p>
<h4 id="3-字符函数中的-substr-方法的使用："><a href="#3-字符函数中的-substr-方法的使用：" class="headerlink" title="3 字符函数中的 substr 方法的使用："></a>3 字符函数中的 substr 方法的使用：</h4><p>substr(字段名，截取开始的位置，[截取的的长度])  </p>
<p>PS： [] 中的参数可省略不写，表示直接截取到字符串的末尾</p>
<p>若指定截取的长度，既可以正数，表示从截取位置开始，正向截取，</p>
<p>也可以是负数，表示从字符串末尾开始，反向截取，直到截取开始位置（包括起始位置上）</p>
<h4 id="4-自连接的使用"><a href="#4-自连接的使用" class="headerlink" title="4 自连接的使用"></a>4 自连接的使用</h4><p>自己与自己查询</p>
<h4 id="5-相关与不相关查询"><a href="#5-相关与不相关查询" class="headerlink" title="5 相关与不相关查询"></a>5 相关与不相关查询</h4><p>PS： 空值不能参与运算</p>

    </div>

    
    
    
        
      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/Oracle/" rel="tag"># Oracle</a>
            
              <a href="/tags/SQL/" rel="tag"># SQL</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2018/11/23/数据库/20181123 Oracle 数据库的使用/" rel="next" title="20181123 Oracle 数据库的使用">
                  <i class="fa fa-chevron-left"></i> 20181123 Oracle 数据库的使用
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/2018/12/05/数据库/20181205 常用数据库对象/" rel="prev" title="20181205">
                  20181205 <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-SQL-语言基础"><span class="nav-number">1.</span> <span class="nav-text">1 SQL 语言基础</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-1-SQL-语言定义"><span class="nav-number">1.1.</span> <span class="nav-text">1.1  SQL 语言定义</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-SQL-的用途"><span class="nav-number">1.2.</span> <span class="nav-text">1.2  SQL 的用途</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-3-SQL-语言的分类"><span class="nav-number">1.3.</span> <span class="nav-text">1.3  SQL 语言的分类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-4-关系数据库基本概念"><span class="nav-number">1.4.</span> <span class="nav-text">1.4 关系数据库基本概念</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-select-子句"><span class="nav-number">2.</span> <span class="nav-text">2 select 子句</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-1-通配符"><span class="nav-number">2.1.</span> <span class="nav-text">2.1 通配符 *</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-2-select-用于指定查询表格中的列信息"><span class="nav-number">2.2.</span> <span class="nav-text">2.2 select 用于指定查询表格中的列信息</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-在-Oracle-中-双引号表示原样输出"><span class="nav-number">2.3.</span> <span class="nav-text">2.3 在 Oracle 中 双引号表示原样输出</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-distinct-字符串连接符-order-by"><span class="nav-number">3.</span> <span class="nav-text">3 distinct 字符串连接符 order by</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#3-1-distinct-用于去除重复行信息"><span class="nav-number">3.1.</span> <span class="nav-text">3.1  distinct 用于去除重复行信息</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-2-字符串连接符"><span class="nav-number">3.2.</span> <span class="nav-text">3.2  字符串连接符 ||</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-3-order-by-子句"><span class="nav-number">3.3.</span> <span class="nav-text">3.3 order by 子句</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-where-子句-等值条件和非等值条件"><span class="nav-number">4.</span> <span class="nav-text">4 where 子句 等值条件和非等值条件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#4-1-where-子句"><span class="nav-number">4.1.</span> <span class="nav-text">4.1 where 子句</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-2-等值条件和非等值条件"><span class="nav-number">4.2.</span> <span class="nav-text">4.2 等值条件和非等值条件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-3-模糊查询"><span class="nav-number">4.3.</span> <span class="nav-text">4.3 模糊查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-4-IS-NULL"><span class="nav-number">4.4.</span> <span class="nav-text">4.4 IS NULL</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-5-and-和-or-的优先级"><span class="nav-number">4.5.</span> <span class="nav-text">4.5  and  和 or 的优先级</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-函数"><span class="nav-number">5.</span> <span class="nav-text">5 函数</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#5-1-字符函数"><span class="nav-number">5.1.</span> <span class="nav-text">5.1 字符函数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#5-1-1-lower-upper-initcap"><span class="nav-number">5.1.1.</span> <span class="nav-text">5.1.1  lower upper initcap</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-1-2-length"><span class="nav-number">5.1.2.</span> <span class="nav-text">5.1.2 length</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-1-3-replace"><span class="nav-number">5.1.3.</span> <span class="nav-text">5.1.3 replace</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-1-4-arrow-up-small-substr"><span class="nav-number">5.1.4.</span> <span class="nav-text">5.1.4 :arrow_up_small: substr</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-2-数值函数"><span class="nav-number">5.2.</span> <span class="nav-text">5.2 数值函数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#5-2-1-ceil"><span class="nav-number">5.2.1.</span> <span class="nav-text">5.2.1  ceil</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-2-2-floor"><span class="nav-number">5.2.2.</span> <span class="nav-text">5.2.2 floor</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-2-3-round"><span class="nav-number">5.2.3.</span> <span class="nav-text">5.2.3 round</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-2-3-trunc"><span class="nav-number">5.2.4.</span> <span class="nav-text">5.2.3  trunc</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-3-日期函数"><span class="nav-number">5.3.</span> <span class="nav-text">5.3 日期函数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#5-3-1-months-between"><span class="nav-number">5.3.1.</span> <span class="nav-text">5.3.1 months_between</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-3-2-add-months"><span class="nav-number">5.3.2.</span> <span class="nav-text">5.3.2 add_months</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-3-3-last-day"><span class="nav-number">5.3.3.</span> <span class="nav-text">5.3.3 last_day</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-3-4-next-day"><span class="nav-number">5.3.4.</span> <span class="nav-text">5.3.4 next_day</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-4-转换函数"><span class="nav-number">5.4.</span> <span class="nav-text">5.4 转换函数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#5-4-1-to-number"><span class="nav-number">5.4.1.</span> <span class="nav-text">5.4.1 to_number</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-4-2-to-date"><span class="nav-number">5.4.2.</span> <span class="nav-text">5.4.2 to_date</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-4-3-to-char"><span class="nav-number">5.4.3.</span> <span class="nav-text">5.4.3 to_char</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-5-通用函数-其他函数"><span class="nav-number">5.5.</span> <span class="nav-text">5.5 通用函数 (其他函数)</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#5-5-1-nvl"><span class="nav-number">5.5.1.</span> <span class="nav-text">5.5.1  nvl</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-5-2-nvl2"><span class="nav-number">5.5.2.</span> <span class="nav-text">5.5.2 nvl2</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-5-3-decode"><span class="nav-number">5.5.3.</span> <span class="nav-text">5.5.3 decode</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-6-分组函数-聚组函数-多行函数"><span class="nav-number">5.6.</span> <span class="nav-text">5.6 分组函数(聚组函数)  多行函数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#5-6-1-sum"><span class="nav-number">5.6.1.</span> <span class="nav-text">5.6.1 sum</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-6-2-avg"><span class="nav-number">5.6.2.</span> <span class="nav-text">5.6.2 avg</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-6-3-max"><span class="nav-number">5.6.3.</span> <span class="nav-text">5.6.3 max</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-6-4-min"><span class="nav-number">5.6.4.</span> <span class="nav-text">5.6.4 min</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-6-5-count"><span class="nav-number">5.6.5.</span> <span class="nav-text">5.6.5 count</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-分组查询-group-by-having"><span class="nav-number">6.</span> <span class="nav-text">6 分组查询 group by  having</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#6-1-1分组查询"><span class="nav-number">6.0.1.</span> <span class="nav-text">6.1.1分组查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-1-2-带-where-子句的分组查询"><span class="nav-number">6.0.2.</span> <span class="nav-text">6.1.2 带 where 子句的分组查询</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-1-3-having"><span class="nav-number">6.0.3.</span> <span class="nav-text">6.1.3 having</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-1-4-select-语句的执行顺序-arrow-up-small"><span class="nav-number">6.0.4.</span> <span class="nav-text">6.1.4 select 语句的执行顺序 :arrow_up_small:</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-DML"><span class="nav-number">7.</span> <span class="nav-text">7  DML</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#7-1-复制一个测试表格"><span class="nav-number">7.0.1.</span> <span class="nav-text">7.1 复制一个测试表格</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#7-2-新增-（insert-into）"><span class="nav-number">7.0.2.</span> <span class="nav-text">7.2 新增  （insert into）</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#7-3-修改-update"><span class="nav-number">7.0.3.</span> <span class="nav-text">7.3 修改(update)</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#7-4-删除-delete-from"><span class="nav-number">7.0.4.</span> <span class="nav-text">7.4 删除(delete from )</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-SQL-99-多表连接查询"><span class="nav-number">8.</span> <span class="nav-text">8 SQL 99  多表连接查询</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#8-1-cross-join-交叉连接"><span class="nav-number">8.0.1.</span> <span class="nav-text">8.1  cross  join   交叉连接</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-2-natural-join-自然连接"><span class="nav-number">8.0.2.</span> <span class="nav-text">8.2 natural join 自然连接</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-3-using-子句"><span class="nav-number">8.0.3.</span> <span class="nav-text">8.3  using 子句</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-4-on-子句"><span class="nav-number">8.0.4.</span> <span class="nav-text">8.4  on 子句</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#8-5-外连接"><span class="nav-number">8.1.</span> <span class="nav-text">8.5 外连接</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#8-5-1-左外连接"><span class="nav-number">8.1.1.</span> <span class="nav-text">8.5.1 左外连接</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-5-1-右外连接"><span class="nav-number">8.1.2.</span> <span class="nav-text">8.5.1 右外连接</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-5-1-全外连接"><span class="nav-number">8.1.3.</span> <span class="nav-text">8.5.1 全外连接</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-6-自连接"><span class="nav-number">8.1.4.</span> <span class="nav-text">8.6 自连接</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-SQL-92-多表查询"><span class="nav-number">9.</span> <span class="nav-text">9  SQL 92 多表查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#9-1-笛卡尔积"><span class="nav-number">9.1.</span> <span class="nav-text">9.1 笛卡尔积</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-2-等值连接"><span class="nav-number">9.2.</span> <span class="nav-text">9.2  等值连接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-3-非等值连接"><span class="nav-number">9.3.</span> <span class="nav-text">9.3 非等值连接</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-4-外连接"><span class="nav-number">9.4.</span> <span class="nav-text">9.4 外连接</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#9-4-1-左外连接"><span class="nav-number">9.4.1.</span> <span class="nav-text">9.4.1 左外连接</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#9-4-2-右外连接"><span class="nav-number">9.4.2.</span> <span class="nav-text">9.4.2 右外连接</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#9-5-自连接"><span class="nav-number">9.5.</span> <span class="nav-text">9.5 自连接</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-子查询"><span class="nav-number">10.</span> <span class="nav-text">10 子查询</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#10-1-单行子查询"><span class="nav-number">10.1.</span> <span class="nav-text">10.1 单行子查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-2-多行子查询"><span class="nav-number">10.2.</span> <span class="nav-text">10.2 多行子查询</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-3-不相关子查询和相关子查询-blue-heart"><span class="nav-number">10.3.</span> <span class="nav-text">10.3 不相关子查询和相关子查询 :blue_heart:</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#10-4-子查询可以作为一张表格进行多表连接查询-artificial-satellite"><span class="nav-number">10.4.</span> <span class="nav-text">10.4   子查询可以作为一张表格进行多表连接查询 :artificial_satellite:</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#总结-call-me-hand"><span class="nav-number">11.</span> <span class="nav-text">总结:call_me_hand:</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Oracle-中-单双引号的区别："><span class="nav-number">11.1.</span> <span class="nav-text">1 Oracle 中 单双引号的区别：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Oracle-中加号的作用："><span class="nav-number">11.2.</span> <span class="nav-text">2 Oracle 中加号的作用：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-字符函数中的-substr-方法的使用："><span class="nav-number">11.3.</span> <span class="nav-text">3 字符函数中的 substr 方法的使用：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-自连接的使用"><span class="nav-number">11.4.</span> <span class="nav-text">4 自连接的使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#5-相关与不相关查询"><span class="nav-number">11.5.</span> <span class="nav-text">5 相关与不相关查询</span></a></li></ol></li></ol></div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">zwer</p>
  <div class="site-description" itemprop="description">记录学习的日常</div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">68</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">categories</span>
        
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
        <span class="site-state-item-count">51</span>
        <span class="site-state-item-name">tags</span>
        
      </div>
    
  </nav>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zwer</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.4.0</div>

        












        
      </div>
    </footer>
  </div>

  


  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.0"></script><script src="/js/motion.js?v=7.4.0"></script>
<script src="/js/schemes/muse.js?v=7.4.0"></script>
<script src="/js/next-boot.js?v=7.4.0"></script>



  





















  

  

  

</body>
</html>
