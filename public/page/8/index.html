<!DOCTYPE html>





<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.4.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.4.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="记录学习的日常">
<meta name="keywords" content="zwer">
<meta property="og:type" content="website">
<meta property="og:title" content="zwer 的博客空间">
<meta property="og:url" content="http://zwer.xyz/page/8/index.html">
<meta property="og:site_name" content="zwer 的博客空间">
<meta property="og:description" content="记录学习的日常">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="zwer 的博客空间">
<meta name="twitter:description" content="记录学习的日常">
  <link rel="canonical" href="http://zwer.xyz/page/8/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>zwer 的博客空间</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">zwer 的博客空间</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">上善若水 自强不息</p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>
  </ul>

    

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <div id="posts" class="posts-expand">
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://zwer.xyz/2018/11/12/Java/20181112 多线程技术/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zwer">
      <meta itemprop="description" content="记录学习的日常">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zwer 的博客空间">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/11/12/Java/20181112 多线程技术/" class="post-title-link" itemprop="url">20181112 多线程技术</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2018-11-12 19:00:00" itemprop="dateCreated datePublished" datetime="2018-11-12T19:00:00+08:00">2018-11-12</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-11-14 18:55:23" itemprop="dateModified" datetime="2018-11-14T18:55:23+08:00">2018-11-14</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-多线程的概念"><a href="#1-多线程的概念" class="headerlink" title="1 多线程的概念"></a>1 多线程的概念</h4><h5 id="1-1-多线程的概念"><a href="#1-1-多线程的概念" class="headerlink" title="1.1 多线程的概念"></a>1.1 多线程的概念</h5><p>程序：Program，是一个指令的集合</p>
<p>进程：Process，(正在执行中的程序)(正在执行中的程序)是一个静态的概念。</p>
<p>进程是程序的一次静态态执行过程, 占用特定的地址空间.每个进程都是独立的，由 3 部分组成 cpu,data,code</p>
<p>缺点：内存的浪费，CPU 的负担</p>
<p>线程:是进程中一个“单一的连续控制流程” (a singlesThread,equential flow of control)/执行路径<br>线程又被称为轻量级进程(lightweight process)。</p>
<p>Threads run at the same time, independently of one another<br>一个进程可拥有多个并行的(concurrent)线程</p>
<p>一个进程中的线程共享相同的内存单元/内存地址空间?可以访问相同的变量和对象</p>
<p>而且它们从同一堆中分配对象 通信、数据交换、同步操作</p>
<p>由于线程间的通信是在同一地址空间上进行的，</p>
<p>所以不需要额外的通信机制，这就使得通信更简便而且信息传递的速度也更快</p>
<h5 id="1-2-进程与线程的区别"><a href="#1-2-进程与线程的区别" class="headerlink" title="1.2  进程与线程的区别"></a>1.2  进程与线程的区别</h5><p><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1542029085567.png" alt="1542029085567"></p>
<h5 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h5><p>一个进程中包含了N个多，线程，如果线程关闭，进程不一定关闭</p>
<p>但是如果进程关闭了，线程一定关闭</p>
<p>CPU 调度执行的是线程</p>
<h4 id="2-通过继承Thread类实现多线程"><a href="#2-通过继承Thread类实现多线程" class="headerlink" title="2 通过继承Thread类实现多线程"></a>2 通过继承Thread类实现多线程</h4><h5 id="2-1-实现多线程的步骤"><a href="#2-1-实现多线程的步骤" class="headerlink" title="2.1 实现多线程的步骤"></a>2.1 实现多线程的步骤</h5><p>1 继承类Thread</p>
<p>2 重写run方法       </p>
<p>3 通过start方法启动线程</p>
<p>run方法中代码块都是线程体</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">		<span class="keyword">package</span> cn.szxy.thread;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *线程类 </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	    <span class="comment">//线程体</span></span><br><span class="line">		<span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(i&lt;<span class="number">10</span>)&#123;</span><br><span class="line">			System.out.println(<span class="string">"---MyThread---"</span>+i);</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.thread;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 线程类   </span></span><br><span class="line"><span class="comment"> * cpu根据时间片的大小 </span></span><br><span class="line"><span class="comment"> * 让主线程和从线程交换执行</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;<span class="comment">//主线程</span></span><br><span class="line">		MyThread mt = <span class="keyword">new</span> MyThread();</span><br><span class="line">		mt.start();<span class="comment">//启动线程    也是从线程</span></span><br><span class="line">		<span class="keyword">int</span> i =<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(i &lt; <span class="number">10</span>)&#123;</span><br><span class="line">			i++;</span><br><span class="line">			System.out.println(<span class="string">"---main----"</span>+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>缺点：由于Java中的继承是单继承，所以当继承Thread类，就不能再继承其他类了</p>
<h4 id="3-通过实现接口-Runnable-实现多线程"><a href="#3-通过实现接口-Runnable-实现多线程" class="headerlink" title="3 通过实现接口 Runnable 实现多线程"></a>3 通过实现接口 Runnable 实现多线程</h4><h5 id="3-1-实现-Runnable-接口实现多线程"><a href="#3-1-实现-Runnable-接口实现多线程" class="headerlink" title="3.1 实现 Runnable 接口实现多线程"></a>3.1 实现 Runnable 接口实现多线程</h5><p>1 实现 Runnable</p>
<p>2 重写 run  方法</p>
<p>3 通过 Thread类的 构造方法 ，再使用 start方法启动线程</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.runnable;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 通过实现 Runable 接口 实现多线程</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的方法存根</span></span><br><span class="line">		<span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(i&lt;<span class="number">10</span>)&#123;</span><br><span class="line">			System.out.println(<span class="string">"---MyRunnable---"</span>+i);</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.runnable;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		MyRunnable mr = <span class="keyword">new</span> MyRunnable();</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">new</span> Thread(mr).start();<span class="comment">//从线程</span></span><br><span class="line">		</span><br><span class="line">		main(); <span class="comment">//主线程</span></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(i&lt;<span class="number">10</span>)&#123;</span><br><span class="line">			System.out.println(<span class="string">"---main---"</span>+i);</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3-2-静态代理模式"><a href="#3-2-静态代理模式" class="headerlink" title="3.2 静态代理模式"></a>3.2 静态代理模式</h5><p>Thread -&gt; 代理角色</p>
<p><code>MyRunable</code> -&gt; 真实角色</p>
<p>代理角色与真实角色实现共同的接口 Runnable 接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.runnable.proxy;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 接口</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Marry</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">marry</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.runnable.proxy;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 真实类  靠代理类帮助的</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">You</span> <span class="keyword">implements</span> <span class="title">Marry</span></span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">marry</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的方法存根</span></span><br><span class="line">		System.out.println(<span class="string">"恭喜你与xxx喜结良缘"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> cn.szxy.runnable.proxy;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 代理类  帮助真实类做事情</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MarryCompany</span> <span class="keyword">implements</span> <span class="title">Marry</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Marry m;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">MarryCompany</span><span class="params">(Marry m)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.m = m;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">marry</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的方法存根</span></span><br><span class="line">		before();</span><br><span class="line">		m.marry();</span><br><span class="line">		after();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"婚前准备。。。。"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span>  <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span></span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"婚后收拾。。。。"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.runnable.proxy;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 静态代理</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Marry  mr = <span class="keyword">new</span> You();</span><br><span class="line">		</span><br><span class="line">		MarryCompany mrc = <span class="keyword">new</span> MarryCompany(mr);</span><br><span class="line">		</span><br><span class="line">		mrc.marry();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-线程状态-线程的生命周期"><a href="#4-线程状态-线程的生命周期" class="headerlink" title="4 线程状态 线程的生命周期"></a>4 线程状态 线程的生命周期</h4><h5 id="4-1-线程状态"><a href="#4-1-线程状态" class="headerlink" title="4.1  线程状态"></a>4.1  线程状态</h5><p>新生状态  new创建线程类的对象</p>
<p>就绪状态  start方法启用  万事具备，只欠”CPU”    有资格，无资源</p>
<p>运行状态    有资格，有资源</p>
<p>阻塞状态    无资格,”让”资源</p>
<p>终止状态/死亡状态</p>
<p><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1542025685034.png" alt="1542025685034"></p>
<p>总结：</p>
<p>1 线程不知道什么时候会被选中执行</p>
<p>2 遇到等待 IO 输入或其他的阻塞状态，由运行状态进入阻塞状态</p>
<p>3 导致阻塞的事件结果，就绪状态，等待 CPU 选中</p>
<p>4 运行状态，给定的时间片内没有执行完 run 方法中的代码，进入就绪状态，下一次被CPU选中，从上次”断”掉的地方，继续执行</p>
<h4 id="5-多线程的安全性问题"><a href="#5-多线程的安全性问题" class="headerlink" title="5 多线程的安全性问题"></a>5 多线程的安全性问题</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.ticket;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 卖票了</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestTicket</span>  <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">100</span>;i++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(ticket!=<span class="number">0</span>)</span><br><span class="line">				System.out.println(Thread.currentThread().getName()+<span class="string">"卖出第"</span>+ticket--+<span class="string">"片"</span>);	</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.ticket;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		TestTicket tt = <span class="keyword">new</span> TestTicket();</span><br><span class="line">		</span><br><span class="line">			<span class="keyword">new</span> Thread(tt,<span class="string">"A 窗口"</span>).start();</span><br><span class="line">			<span class="keyword">new</span> Thread(tt,<span class="string">"B 窗口"</span>).start();</span><br><span class="line">			<span class="keyword">new</span> Thread(tt,<span class="string">"C 窗口"</span>).start();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>总结：由于时间片的问题，线程每次开始的位置都是上次停下来的位置然后继续往后执行，</p>
<p>若此时票数为 1 ，则可能出现 票数为负数的情形，还有多个窗口卖同一张票的情况，主要由于线程的安全性差，虽然速度较快。</p>
<p>所以必须控制 线程对票的使用 </p>
<h4 id="6-获取线程基本信息的方法"><a href="#6-获取线程基本信息的方法" class="headerlink" title="6 获取线程基本信息的方法"></a>6 获取线程基本信息的方法</h4><h5 id="6-1-线程操作的常用方法"><a href="#6-1-线程操作的常用方法" class="headerlink" title="6.1 线程操作的常用方法"></a>6.1 线程操作的常用方法</h5><p>Thread类的<code>toString</code>方法  得到[线程名称，线程优先级，线程组名称]</p>
<p>Thread类的<code>getName</code>方法  获取线程的名称</p>
<p>Thread类的 <code>isAlive</code> 方法 判断线程是否处于活动状态</p>
<p><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1542027413891.png" alt="1542027413891"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.method;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 线程类</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的方法存根</span></span><br><span class="line">		show();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">show</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">11</span>;i++)&#123;</span><br><span class="line">			System.out.println(Thread.currentThread().getName()+<span class="string">"-&gt;"</span>+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.method;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 测试Thread类的方法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestThradmethod</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//currentThread()方法会调用Thread类的toString方法，</span></span><br><span class="line">		<span class="comment">//得到[线程名 线程优先级 线程组名]</span></span><br><span class="line">		System.out.println(<span class="string">"获得本线程"</span>+Thread.currentThread());</span><br><span class="line">		</span><br><span class="line">		MyRunnable mr = <span class="keyword">new</span> MyRunnable();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//创建线程</span></span><br><span class="line">		Thread t1 = <span class="keyword">new</span> Thread(mr);</span><br><span class="line">		System.out.println(<span class="string">"mr线程存在的状态: "</span>+t1.isAlive());</span><br><span class="line">		<span class="comment">//启动线程</span></span><br><span class="line">		t1.start();</span><br><span class="line">		System.out.println(<span class="string">"mr线程存在的状态: "</span>+t1.isAlive());</span><br><span class="line">		main();<span class="comment">//主线程</span></span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">"mr线程存在的状态: "</span>+t1.isAlive());</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">11</span>;i++)&#123;</span><br><span class="line">			System.out.println(Thread.currentThread().getName()+<span class="string">"-----&gt;"</span>+i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="7-暂停线程的方法-sleep方法"><a href="#7-暂停线程的方法-sleep方法" class="headerlink" title="7 暂停线程的方法 sleep方法"></a>7 暂停线程的方法 sleep方法</h4><h5 id="7-1-暂停线程的方法"><a href="#7-1-暂停线程的方法" class="headerlink" title="7.1 暂停线程的方法"></a>7.1 暂停线程的方法</h5><p>Thread类的join方法</p>
<p>导致调用它的线程会进入阻塞状态，但不会影响其他线程的状态。</p>
<p>Thread类的sleep方法</p>
<p>导致线程进入阻塞状态 在哪个线程就对哪个线程起作用</p>
<p>Thread类的yield方法</p>
<p>暂时使用 CPU</p>
<p><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1542030235907.png" alt="1542030235907"></p>
<p>​    </p>
<h4 id="8-线程访问的优先级"><a href="#8-线程访问的优先级" class="headerlink" title="8 线程访问的优先级"></a>8 线程访问的优先级</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.priority;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.szxy.runnable.MyRunnable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPriority</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"最高优先级："</span>+Thread.MAX_PRIORITY);</span><br><span class="line">		System.out.println(<span class="string">"最低优先级："</span>+Thread.MIN_PRIORITY);</span><br><span class="line">		System.out.println(<span class="string">"最低优先级："</span>+Thread.currentThread().getPriority());</span><br><span class="line">		</span><br><span class="line">		Thread t1 = <span class="keyword">new</span> Thread(<span class="keyword">new</span> MyRunnable());</span><br><span class="line">		System.out.println(<span class="string">"设置线程t1的当前的优先级"</span>);</span><br><span class="line">		t1.setPriority(<span class="number">8</span>);</span><br><span class="line">		System.out.println(<span class="string">"当前线程t1的优先级："</span>+t1.getPriority());</span><br><span class="line">		t1.start();</span><br><span class="line">		main();</span><br><span class="line">		<span class="comment">/**</span></span><br><span class="line"><span class="comment">		 * 优先级越高有可能先被调度，但不一定</span></span><br><span class="line"><span class="comment">		 */</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">int</span> i=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">while</span>(i&lt;<span class="number">10</span>)&#123;</span><br><span class="line">			System.out.println(<span class="string">"main----&gt; "</span>+i);</span><br><span class="line">			i++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="9-线程同步-具体实现"><a href="#9-线程同步-具体实现" class="headerlink" title="9 线程同步 具体实现"></a>9 线程同步 具体实现</h4><h5 id="9-1-同步代码块"><a href="#9-1-同步代码块" class="headerlink" title="9.1  同步代码块"></a>9.1  同步代码块</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.ticket;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 卖票了</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestTicket1</span>  <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;<span class="comment">//同步代码块 监视这个 TestTicket1 对象</span></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">100</span>;i++)&#123;<span class="comment">//每个窗口排了一百个人</span></span><br><span class="line">				<span class="keyword">if</span>(ticket &gt; <span class="number">0</span>)&#123;</span><br><span class="line">					<span class="keyword">try</span> &#123;</span><br><span class="line">						Thread.sleep(<span class="number">40</span>);</span><br><span class="line">					&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">						<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">						e.printStackTrace();</span><br><span class="line">					&#125;</span><br><span class="line">					System.out.println(Thread.currentThread().getName()+<span class="string">"卖出第"</span>+ticket--+<span class="string">"片"</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="9-2-同步方法"><a href="#9-2-同步方法" class="headerlink" title="9.2  同步方法"></a>9.2  同步方法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.ticket;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 卖票了</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestTicket2</span>  <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> ticket = <span class="number">100</span>;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;<span class="comment">//同步代码块 监视这个 TestTicket1 对象</span></span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">100</span>;i++)&#123;<span class="comment">//每个窗口排了一百个人</span></span><br><span class="line">				sellTicket();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">sellTicket</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(ticket &gt; <span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Thread.sleep(<span class="number">40</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			System.out.println(Thread.currentThread().getName()+<span class="string">"卖出第"</span>+ticket--+<span class="string">"片"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.ticket;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		TestTicket2 tt = <span class="keyword">new</span> TestTicket2();</span><br><span class="line">		</span><br><span class="line">			<span class="keyword">new</span> Thread(tt,<span class="string">"A 窗口"</span>).start();</span><br><span class="line">			<span class="keyword">new</span> Thread(tt,<span class="string">"B 窗口"</span>).start();</span><br><span class="line">			<span class="keyword">new</span> Thread(tt,<span class="string">"C 窗口"</span>).start();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>同步监视器只能是对象 ，推荐使用共享资源的对象</p>
<p>可以当前对象this，也可以是其它的对象</p>
<h4 id="10-死锁"><a href="#10-死锁" class="headerlink" title="10  死锁"></a>10  死锁</h4><h5 id="10-1-死锁原因"><a href="#10-1-死锁原因" class="headerlink" title="10.1 死锁原因"></a>10.1 死锁原因</h5><p>由于两个对象之间相互竞争资源，并且竞争资源是对方所有加锁的</p>
<p><img src="https://gss2.bdstatic.com/-fo3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike80%2C5%2C5%2C80%2C26/sign=7a4ee20578cb0a46912f836b0a0a9d41/810a19d8bc3eb1354547b744a51ea8d3fc1f4448.jpg" alt="1542192667000"></p>
<h5 id="10-2-死锁避免"><a href="#10-2-死锁避免" class="headerlink" title="10.2  死锁避免"></a>10.2  死锁避免</h5><p>不要让两个对象同时持有对象锁，采用<strong>互斥</strong>方式来解决</p>
<h5 id="10-2-银行家算法"><a href="#10-2-银行家算法" class="headerlink" title="10.2 银行家算法"></a>10.2 银行家算法</h5><p>该算法需要检查申请者对资源的最大需求量，如果系统现存的各类资源可以满足申请者的请求，就满足申请者的请求。这样申请者就可很快完成其计算，然后释放它<br>占用的资源，从而保证了系统中的所有进程都能完成，所以可避免死锁的发生（计算资源的大小，计算出来后，永远按照从大到小的方式来获得锁）</p>
<h4 id="11-生产者和消费者模式"><a href="#11-生产者和消费者模式" class="headerlink" title="11  生产者和消费者模式"></a>11  生产者和消费者模式</h4><p>单缓冲区  生产一个消费一个，模拟生产者和消费者问题</p>
<p>数据错乱 的解决方法   -&gt; 线程同步</p>
<h5 id="11-1-生产者-消费者模式产生的问题"><a href="#11-1-生产者-消费者模式产生的问题" class="headerlink" title="11.1 生产者-消费者模式产生的问题"></a>11.1 生产者-消费者模式产生的问题</h5><p> 重复生产和重复取走解决方案 -&gt; 线程间的通信</p>
<h5 id="11-2-线程间通信的方法"><a href="#11-2-线程间通信的方法" class="headerlink" title="11.2 线程间通信的方法"></a>11.2 线程间通信的方法</h5><p>wait():调用了 wait()方法的线程进入等待池进池中的线程不去竞争对象锁,直到其它的线程通锁池</p>
<p>notify():随机唤醒一个在该对象上等待的线程程进行锁池，开始竞争该对锁上的锁</p>
<p><code>notifyAll():</code>唤醒所有在该对象上等待的线程优先级高的线程有可能先竞争到对象锁</p>
<p>只能在同步方法和同步代码块中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.productcustom;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 商品类 </span></span><br><span class="line"><span class="comment"> * 共享资源</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Goods</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String brand;<span class="comment">//名称</span></span><br><span class="line">	<span class="keyword">private</span> String name;<span class="comment">// 名字</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">boolean</span> isflag=<span class="keyword">false</span>; <span class="comment">//判断是否有商品生产出来  默认没有商品生产出来</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Goods</span><span class="params">(String brand, String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">		<span class="keyword">this</span>.brand = brand;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Goods</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getBrand</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> brand;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBrand</span><span class="params">(String brand)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.brand = brand;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">//同步监视器   同步方法解决了数据错乱的问题</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">setGoods</span><span class="params">(String brand, String name)</span></span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(isflag)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					<span class="keyword">super</span>.wait();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">					<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">this</span>.setBrand(brand);</span><br><span class="line">			System.out.print(<span class="string">"生产"</span>+<span class="keyword">this</span>.brand+<span class="string">"牌的--"</span>);</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				Thread.sleep(<span class="number">300</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">this</span>.setName(name);		</span><br><span class="line">			System.out.print(name+<span class="string">"产品\n"</span>);</span><br><span class="line">			<span class="keyword">super</span>.notify();</span><br><span class="line">			<span class="keyword">this</span>.isflag = <span class="keyword">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span>   <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">getGoods</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(!isflag)&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">super</span>.wait();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"消费了"</span>+<span class="keyword">this</span>.getBrand() +<span class="string">"的"</span>+<span class="keyword">this</span>.getName());</span><br><span class="line">		<span class="keyword">super</span>.notify();</span><br><span class="line">		<span class="keyword">this</span>.isflag = <span class="keyword">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">	<span class="keyword">package</span> cn.szxy.productcustom;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> *生产者 </span></span><br><span class="line"><span class="comment"> *生产商品</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Producter</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Goods g;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Producter</span><span class="params">(Goods g)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的构造函数存根</span></span><br><span class="line">		<span class="keyword">this</span>.g =g;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(i%<span class="number">2</span>!=<span class="number">0</span>)&#123;</span><br><span class="line">				<span class="comment">/*System.out.println("生产旺仔牌--");</span></span><br><span class="line"><span class="comment">				g.setBrand("旺仔");</span></span><br><span class="line"><span class="comment">				try &#123;</span></span><br><span class="line"><span class="comment">					Thread.sleep(300);</span></span><br><span class="line"><span class="comment">				&#125; catch (InterruptedException e) &#123;</span></span><br><span class="line"><span class="comment">					// TODO 自动生成的 catch 块</span></span><br><span class="line"><span class="comment">					e.printStackTrace();</span></span><br><span class="line"><span class="comment">				&#125;</span></span><br><span class="line"><span class="comment">				System.out.print("小馒头\n");</span></span><br><span class="line"><span class="comment">				g.setBrand("小馒头");*/</span></span><br><span class="line">				</span><br><span class="line">				g.setGoods(<span class="string">"旺仔"</span>,<span class="string">"小馒头"</span>);</span><br><span class="line">			</span><br><span class="line">				</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				<span class="comment">/*System.out.println("生产娃哈哈牌-- ");</span></span><br><span class="line"><span class="comment">				g.setBrand("娃哈哈");</span></span><br><span class="line"><span class="comment">				try &#123;</span></span><br><span class="line"><span class="comment">					Thread.sleep(300);</span></span><br><span class="line"><span class="comment">				&#125; catch (InterruptedException e) &#123;</span></span><br><span class="line"><span class="comment">					// TODO 自动生成的 catch 块</span></span><br><span class="line"><span class="comment">					e.printStackTrace();</span></span><br><span class="line"><span class="comment">				&#125;</span></span><br><span class="line"><span class="comment">				System.out.print("矿泉水\n");</span></span><br><span class="line"><span class="comment">				g.setBrand("矿泉水");*/</span></span><br><span class="line">				g.setGoods(<span class="string">"娃哈哈"</span>, <span class="string">"矿泉水"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.productcustom;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 消费者 消费商品</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Customer</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> Goods g;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Customer</span><span class="params">(Goods g)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的构造函数存根</span></span><br><span class="line">		<span class="keyword">this</span>.g = g;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">10</span>;i++)&#123;</span><br><span class="line">			g.getGoods();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.productcustom;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//共享资源</span></span><br><span class="line">		Goods g = <span class="keyword">new</span> Goods();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//生产者和消费者</span></span><br><span class="line">		Producter p = <span class="keyword">new</span> Producter(g);</span><br><span class="line">		Customer c = <span class="keyword">new</span> Customer(g);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//开始线程</span></span><br><span class="line">		p.start();</span><br><span class="line">		c.start();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://zwer.xyz/2018/11/09/Java/20181109 IO 技术/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zwer">
      <meta itemprop="description" content="记录学习的日常">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zwer 的博客空间">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/11/09/Java/20181109 IO 技术/" class="post-title-link" itemprop="url">IO 流技术</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2018-11-09 00:00:00" itemprop="dateCreated datePublished" datetime="2018-11-09T00:00:00+08:00">2018-11-09</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-11-11 12:36:20" itemprop="dateModified" datetime="2018-11-11T12:36:20+08:00">2018-11-11</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="1-IO-基本概念"><a href="#1-IO-基本概念" class="headerlink" title="1 IO 基本概念"></a>1 IO 基本概念</h4><h5 id="1-1-流的概念"><a href="#1-1-流的概念" class="headerlink" title="1.1 流的概念"></a>1.1 流的概念</h5><p>1 数据的输入/输出操作以流 Stream 的方法</p>
<p>2 流的种类很多  </p>
<p>3 Java 的流类型一般位于 java.io 包中</p>
<h5 id="1-2-流的概念"><a href="#1-2-流的概念" class="headerlink" title="1.2 流的概念"></a>1.2 流的概念</h5><h5 id="数据源"><a href="#数据源" class="headerlink" title="数据源"></a>数据源</h5><p>1 data source 提供原始数据的原始媒介。 常见：数据库</p>
<p>2 流是一个抽象、动态的概念，是一串连续动态的数据集合</p>
<p><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1541761010135.png" alt="1541761010135"></p>
<h4 id="2-流概念细分和体系-四大抽象类"><a href="#2-流概念细分和体系-四大抽象类" class="headerlink" title="2 流概念细分和体系 四大抽象类"></a>2 流概念细分和体系 四大抽象类</h4><h5 id="2-1-流的分类"><a href="#2-1-流的分类" class="headerlink" title="2.1 流的分类"></a>2.1 流的分类</h5><p><strong>流的方向</strong>：</p>
<p>1 输入流： 数据源到程序(<code>InputStream</code> Reader)</p>
<p>2 输出流： 程序到目的地( <code>OutStream</code>  Writer)</p>
<p><strong>处理数据单元</strong>：</p>
<p>1 字节流：按照字节读取数据</p>
<p>2 字符流：按照字符读取数据</p>
<p><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1541761344592.png" alt="1541761344592"></p>
<p>注意：输入输出是相对于<strong>程序</strong>而言，而不是相对源或目的地</p>
<p><strong>功能分类</strong>：</p>
<p>节点流：可以直接从数据源或目的地读写数据</p>
<p>处理流：不直接连接到数据源或目的地，是其他流进行封装。目的主要是简化操作和提高性能.</p>
<p>节点流与处理流的关系：</p>
<p>1 节点流:节点流处于IO操作的第一线，所有操作必须经过它们处理可行</p>
<p>2  处理流(包装流): 处理流可以其它流进行处理(提交效率或操作)</p>
<p><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1541761527074.png" alt="1541761527074"></p>
<h5 id="2-2-IO-流-四大-抽象-类"><a href="#2-2-IO-流-四大-抽象-类" class="headerlink" title="2.2 IO 流 四大 抽象 类"></a>2.2 IO 流 四大 抽象 类</h5><p>1 <code>OutStream</code>  <code>InputStream</code></p>
<p>2  Reader Writer</p>
<p><img src="http://www.zwer.xyz/image/IO/2.%E6%B5%81%E7%9A%84%E7%BB%86%E5%88%86%E5%92%8C%E4%BD%93%E7%B3%BB_%E5%9B%9B%E5%A4%A7%E6%8A%BD%E8%B1%A1%E7%B1%BB-.jpg" alt="2.流的细分和体系_四大抽象类-"></p>
<h4 id="3-文件字节流"><a href="#3-文件字节流" class="headerlink" title="3 文件字节流"></a>3 文件字节流</h4><h5 id="3-1-FileInputStream"><a href="#3-1-FileInputStream" class="headerlink" title="3.1 FileInputStream"></a>3.1 <code>FileInputStream</code></h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.InputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Array;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestFileStream</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">//数据源与程序间建立连接</span></span><br><span class="line">		FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">"D://1.txt"</span>);</span><br><span class="line">		<span class="comment">//从数据源中读出数据</span></span><br><span class="line">		System.out.println(<span class="string">"文件中的字节数： "</span>+fis.available());</span><br><span class="line">		<span class="comment">//读取一个字节</span></span><br><span class="line">		<span class="comment">//int buf = fis.read();</span></span><br><span class="line">		<span class="comment">//System.out.println((char)buf);</span></span><br><span class="line">		<span class="comment">//while()</span></span><br><span class="line">		<span class="comment">//一次读取一个字节 </span></span><br><span class="line">		<span class="comment">/*int count1=0;</span></span><br><span class="line"><span class="comment">		while(fis.available() != 0)&#123;</span></span><br><span class="line"><span class="comment">			count1++;</span></span><br><span class="line"><span class="comment">			int buf = fis.read();</span></span><br><span class="line"><span class="comment">			System.out.println((char)buf);</span></span><br><span class="line"><span class="comment">		&#125;</span></span><br><span class="line"><span class="comment">		System.out.println(count1);</span></span><br><span class="line"><span class="comment">		*/</span></span><br><span class="line">		<span class="comment">//中转站</span></span><br><span class="line">		<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">		<span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">int</span> count=<span class="number">0</span>;<span class="comment">//读取次数</span></span><br><span class="line">		<span class="keyword">while</span>((len=fis.read(buf))!=-<span class="number">1</span>)&#123;</span><br><span class="line">			count++;</span><br><span class="line">			<span class="comment">//借助String类的构造方法</span></span><br><span class="line">			System.out.println(<span class="keyword">new</span> String(buf,<span class="number">0</span>,len));</span><br><span class="line">			<span class="comment">/*for(int i=0;i&lt;len;i++)&#123;</span></span><br><span class="line"><span class="comment">				System.out.print((char)buf[i]+" ");</span></span><br><span class="line"><span class="comment">			&#125;*/</span></span><br><span class="line">	</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"\n读取次数: "</span>+count);</span><br><span class="line">		<span class="comment">//关闭连接</span></span><br><span class="line">		fis.close();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3-2-FileOutStream"><a href="#3-2-FileOutStream" class="headerlink" title="3.2 FileOutStream"></a>3.2 <code>FileOutStream</code></h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.OutStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestFileOutStream</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		FileOutputStream fos = <span class="keyword">null</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"D://a.txt"</span>,<span class="keyword">true</span>);<span class="comment">//若为true，则若原文件中有数据，在后面追随，不会覆盖</span></span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">char</span> buf = <span class="string">'a'</span>;</span><br><span class="line">		<span class="keyword">byte</span>[] bufs = <span class="string">"HelloWorld"</span>.getBytes();</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			<span class="comment">//一次写入一个字节</span></span><br><span class="line">			<span class="comment">//fos.write(buf);</span></span><br><span class="line">			fos.write(bufs);   </span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(fos !=<span class="keyword">null</span>)&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				System.out.println(<span class="string">"关闭"</span>);</span><br><span class="line">				fos.close();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1541763445778.png" alt="1541763445778"></p>
<h4 id="4-使用字节流实现文件的复制"><a href="#4-使用字节流实现文件的复制" class="headerlink" title="4  使用字节流实现文件的复制"></a>4  使用字节流实现文件的复制</h4><h5 id="4-1-文件复制的原理"><a href="#4-1-文件复制的原理" class="headerlink" title="4.1  文件复制的原理"></a>4.1  文件复制的原理</h5><p><strong><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1541766243480.png" alt="1541766243480"></strong></p>
<h5 id="4-2-文件复制的代码"><a href="#4-2-文件复制的代码" class="headerlink" title="4.2 文件复制的代码"></a>4.2 文件复制的代码</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.FileCopy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileCopy</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//搭建</span></span><br><span class="line">		FileInputStream fis=<span class="keyword">null</span>;</span><br><span class="line">		FileOutputStream fos=<span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			fis = <span class="keyword">new</span> FileInputStream(<span class="string">"D://a.txt"</span>);</span><br><span class="line">			fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"E://a.txt"</span>);</span><br><span class="line">			</span><br><span class="line">		<span class="comment">/*	int b=0;//存储读出到的单字节</span></span><br><span class="line"><span class="comment">			//将数据以一个字节的形式读出，然后通过中转站b，写入文件</span></span><br><span class="line"><span class="comment">			while((b=fis.read())!=-1)&#123;</span></span><br><span class="line"><span class="comment">				fos.write(b);	</span></span><br><span class="line"><span class="comment">			&#125;*/</span></span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">			<span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">while</span>((len=fis.read(buf))!=-<span class="number">1</span>)&#123;</span><br><span class="line">				fos.write(buf, <span class="number">0</span>, len);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">		</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;<span class="comment">//无论发生，都要 关闭 输出流和输入流</span></span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">if</span>(fos!=<span class="keyword">null</span>)&#123;</span><br><span class="line">					fos.close();</span><br><span class="line">					System.out.println(<span class="string">"关闭"</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">if</span>(fis != <span class="keyword">null</span>)&#123;</span><br><span class="line">					fis.close();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="5-文件字符流"><a href="#5-文件字符流" class="headerlink" title="5  文件字符流"></a>5  文件字符流</h4><h5 id="5-1-Reader-Writer-从数据源读内容"><a href="#5-1-Reader-Writer-从数据源读内容" class="headerlink" title="5.1 Reader/Writer 从数据源读内容"></a>5.1 Reader/Writer 从数据源读内容</h5><h5 id="5-2-Writer-写内容"><a href="#5-2-Writer-写内容" class="headerlink" title="5.2 Writer 写内容"></a>5.2 Writer 写内容</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.OutStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestFileWriter</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//1. 搭桥</span></span><br><span class="line">		FileReader fr=<span class="keyword">null</span>;</span><br><span class="line">		FileWriter fw=<span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			fr = <span class="keyword">new</span> FileReader(<span class="string">"D://a.txt"</span>);</span><br><span class="line">			fw = <span class="keyword">new</span> FileWriter(<span class="string">"E://b.txt"</span>);</span><br><span class="line">			<span class="comment">//中转站</span></span><br><span class="line">			<span class="keyword">char</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">			<span class="keyword">int</span> b=<span class="number">0</span>;</span><br><span class="line">			<span class="keyword">while</span>((b=fr.read(cbuf))!=-<span class="number">1</span>)&#123;</span><br><span class="line">				fw.write(cbuf, <span class="number">0</span>, b);</span><br><span class="line">				fw.flush();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">if</span>(fw!=<span class="keyword">null</span>)&#123;</span><br><span class="line">					fw.close();</span><br><span class="line">					System.out.println(<span class="string">"fw.close"</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">if</span>(fr!=<span class="keyword">null</span>)&#123;</span><br><span class="line">					fr.close();</span><br><span class="line">					System.out.println(<span class="string">"fr.close"</span>);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1541770512720.png" alt="1541770512720"></p>
<h4 id="6-缓冲字节流-缓冲字符流"><a href="#6-缓冲字节流-缓冲字符流" class="headerlink" title="6 缓冲字节流 缓冲字符流"></a>6 缓冲字节流 缓冲字符流</h4><p><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1541770143750.png" alt="1541770143750"></p>
<p><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1541770600207.png" alt="1541770600207"></p>
<p><code>BufferedInputStream</code> 和  <code>BufferedOutputStream</code> 是处理流（包装流）<br>1) 读文件和写文件都使用了缓冲区，<strong>减少了读写次数，从而提高了效率</strong><br>2) 当创建这两个缓冲流的对象时时，会创建了内部缓冲数组，缺省使用 32 字节大小的缓冲区.<br>3) 当读取数据时，数据按块读入缓冲区，其后的读操作则直接访问缓冲区<br>4) 当写入数据时，首先写入缓冲区，当缓冲区满时，其中的数据写入所连接的输出流。使用方法 flush()可以强制将缓冲区的内容全部写入输出流<br>5) 关闭流的顺序和打开流的顺序<strong>相反.</strong>只要关闭高层流即可，关闭高层流其实关闭的底层节点流<br>6) Flush 的使用：手动将 buffer 中内容写入文件</p>
<p><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1541770260938.png" alt="1541770260938"></p>
<h5 id="6-1-缓冲字节流"><a href="#6-1-缓冲字节流" class="headerlink" title="6.1 缓冲字节流"></a>6.1 缓冲字节流</h5><p>适用于：大多数场合</p>
<p>1 <code>BufferedInputStream</code></p>
<p>read()</p>
<p>2 <code>BufferedOutputStream</code></p>
<p>write()</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.TestCopy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestCopy</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">		FileOutputStream fos = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			fis = <span class="keyword">new</span> FileInputStream(<span class="string">"E://jdk1.8_有道.CHM"</span>);</span><br><span class="line">			fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"D://jdk1.8_有道.CHM"</span>);</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//使用缓冲池    复制速度加快</span></span><br><span class="line">			BufferedInputStream bis = <span class="keyword">new</span> BufferedInputStream(fis);</span><br><span class="line">			BufferedOutputStream bos = <span class="keyword">new</span> BufferedOutputStream(fos);</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">byte</span>[] buf = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">			<span class="keyword">int</span> len=<span class="number">0</span>;</span><br><span class="line">			Long start = System.currentTimeMillis();</span><br><span class="line">			<span class="keyword">while</span>((len=bis.read(buf))!= -<span class="number">1</span>)&#123;</span><br><span class="line">				bos.write(buf, <span class="number">0</span>, len);</span><br><span class="line">			&#125;</span><br><span class="line">			Long end = System.currentTimeMillis();</span><br><span class="line">			System.out.println(<span class="string">"所需时间："</span>+(end-start)+<span class="string">"ms"</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(fos != <span class="keyword">null</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					fos.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(fis != <span class="keyword">null</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					fis.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="6-2-缓冲字符流"><a href="#6-2-缓冲字符流" class="headerlink" title="6.2 缓冲字符流"></a>6.2 缓冲字符流</h5><p>用于：适用于读取纯文本</p>
<p>1 <code>BufferedReader</code></p>
<p><code>readerLine()</code>读取一个文本行的数据</p>
<p>2 <code>BufferedWriter</code></p>
<p><code>newLine()</code>  写入一个行分隔符</p>
<p>使用缓冲字符流是复制文本文件常用方式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.TestCopy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestCopy2</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		BufferedReader bis=<span class="keyword">null</span>;</span><br><span class="line">		BufferedWriter bos=<span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			bis = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> FileReader(<span class="string">"D://1.txt"</span>));</span><br><span class="line">			bos = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> FileWriter(<span class="string">"E://1.txt"</span>));</span><br><span class="line">			</span><br><span class="line">			String line = <span class="keyword">null</span>;<span class="comment">//存储字符</span></span><br><span class="line">			<span class="keyword">while</span>((line=bis.readLine())!= <span class="keyword">null</span>)&#123;</span><br><span class="line">				bos.write(line);</span><br><span class="line">				bos.newLine();<span class="comment">//换行</span></span><br><span class="line">				bos.flush();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(bos!=<span class="keyword">null</span>)&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				bos.close();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(bis!=<span class="keyword">null</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					bis.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">			</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="7-转换流"><a href="#7-转换流" class="headerlink" title="7  转换流"></a>7  转换流</h4><h5 id="7-1-InputStreamReader-OutputStreamWriter"><a href="#7-1-InputStreamReader-OutputStreamWriter" class="headerlink" title="7.1 InputStreamReader  OutputStreamWriter"></a>7.1 <code>InputStreamReader</code>  <code>OutputStreamWriter</code></h5><p>将从键盘输入的<strong>字节流转换成指定的字符流</strong>，然后保存到磁盘文件中。</p>
<p>数据源是标准的输入设备，键盘 <code>system.in</code></p>
<h5 id="7-2-用法"><a href="#7-2-用法" class="headerlink" title="7.2 用法"></a>7.2 用法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.convert;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStreamWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 将字节流转换为字符流</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestConvert</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//1 数据源是标准输入的设备，键盘 System.in</span></span><br><span class="line">		InputStream is = System.in;</span><br><span class="line">		<span class="comment">//2 使用转换流， 将字节流转换为字符流 </span></span><br><span class="line">		<span class="comment">//3 提高读取效率</span></span><br><span class="line">		BufferedReader br=<span class="keyword">null</span>;</span><br><span class="line">		BufferedWriter bw=<span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(is,<span class="string">"GBK"</span>);</span><br><span class="line">			br = <span class="keyword">new</span> BufferedReader(isr);</span><br><span class="line"></span><br><span class="line">			FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">"D://r.txt"</span>);</span><br><span class="line">			OutputStreamWriter osw = <span class="keyword">new</span> OutputStreamWriter(fos,<span class="string">"GBK"</span>);</span><br><span class="line">			bw = <span class="keyword">new</span> BufferedWriter(osw);</span><br><span class="line">			<span class="comment">//4 提高写入效率</span></span><br><span class="line">			String line=<span class="keyword">null</span>;</span><br><span class="line">			<span class="keyword">while</span>( !<span class="string">"over"</span>.equals((line=br.readLine())))&#123;<span class="comment">//输入over,键盘输入条件</span></span><br><span class="line">				bw.write(line);</span><br><span class="line">				bw.newLine();</span><br><span class="line">				bw.flush();<span class="comment">//手动刷新缓冲区</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="comment">//5 关闭</span></span><br><span class="line">			<span class="keyword">if</span>(bw != <span class="keyword">null</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					bw.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(br != <span class="keyword">null</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					br.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="8-打印流"><a href="#8-打印流" class="headerlink" title="8 打印流"></a>8 打印流</h4><p>无须类型转换，自动转换为String类型</p>
<h5 id="8-1-PrintStream"><a href="#8-1-PrintStream" class="headerlink" title="8.1 PrintStream"></a>8.1 <code>PrintStream</code></h5><p>1) <code>PrintStream</code> 提供了一系列的 print()和 <code>println()</code>，可以实现将<strong>基本数据类型格式化成字符串输出</strong>。对象类型将先调用<code>toString()</code>，然后输出该方法返回的字符串</p>
<p>2) System.out 就是 <code>PrintStream</code> 的一个实例，代表显示器</p>
<p>3) System.err 也是 <code>PrintStream</code>的一个实例，代表显示器</p>
<p>4) <code>PrintStream</code>的输出功能非常强大，通常需要输出文本内容都可以将输出流包装成 <code>PrintStream</code>后进行输出</p>
<p>5) <code>PrintStream</code> 的方法都不抛出<code>IOException</code></p>
<h5 id="8-2-PrintWriter"><a href="#8-2-PrintWriter" class="headerlink" title="8.2 PrintWriter"></a>8.2 <code>PrintWriter</code></h5><p>1) <code>PrintStream</code> 的对应字符流，功能相同，方法对应。</p>
<p>2) <code>PrintWriter</code>的方法也不抛出 IOException</p>
<p>3) 复制文件时可以使用<code>PrintWriter</code>代替<code>BufferedWriter</code>完成，更方便</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.printStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileWriter;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintStream;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintWriter;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPrintStream</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//PrintStream ps = System.out;</span></span><br><span class="line">		<span class="comment">//PrintStream ps = System.err;</span></span><br><span class="line">		<span class="comment">//PrintStream ps = new PrintStream(new FileOutputStream("D://print.txt"));</span></span><br><span class="line">		PrintWriter ps = <span class="keyword">new</span> PrintWriter(<span class="keyword">new</span> FileWriter(<span class="string">"D://print1.txt"</span>));</span><br><span class="line">		ps.println(<span class="string">"HelloWorld"</span>);</span><br><span class="line">		ps.println(<span class="number">123</span>);</span><br><span class="line">		ps.println(<span class="number">123.132</span>);</span><br><span class="line">		ps.println(<span class="keyword">new</span> Date(<span class="number">1000</span>));</span><br><span class="line">		ps.flush();</span><br><span class="line">		ps.close();</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="9-数据流"><a href="#9-数据流" class="headerlink" title="9 数据流"></a>9 数据流</h4><h5 id="9-1-DataInputStream-和-DataOutputStream"><a href="#9-1-DataInputStream-和-DataOutputStream" class="headerlink" title="9.1 DataInputStream 和 DataOutputStream"></a>9.1 <code>DataInputStream</code> 和 <code>DataOutputStream</code></h5><p>1) 提供了可以存取所有 Java 基础类型数据（如：<code>int</code>，double等）和 String 的方法。<br>2) 处理流，只针对字节流，二进制文件<br>3) 输入流链和输出流链<br>4) 注意：<strong>只要关闭上层流即可</strong></p>
<p><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1541814958778.png" alt="1541814958778"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.datestream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.DataInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.DataOutput;</span><br><span class="line"><span class="keyword">import</span> java.io.DataOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.PrintStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestDateStream</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		write();</span><br><span class="line">		read();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">/*//1.目的地</span></span><br><span class="line"><span class="comment">		FileOutputStream fos = new FileOutputStream("D://d.txt");</span></span><br><span class="line"><span class="comment">		//2.缓冲区，提高写入效率</span></span><br><span class="line"><span class="comment">		BufferedOutputStream bos = new BufferedOutputStream(fos);</span></span><br><span class="line"><span class="comment">		//3.使用数据流，保存基本数据类型和String类型</span></span><br><span class="line"><span class="comment">		DataOutputStream dos = new DataOutputStream(bos);*/</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//简化</span></span><br><span class="line">		DataOutputStream dos = <span class="keyword">null</span>;</span><br><span class="line">		dos = <span class="keyword">new</span> DataOutputStream(<span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"D://d.txt"</span>)));</span><br><span class="line">		</span><br><span class="line">		dos.writeInt(<span class="number">123234</span>);</span><br><span class="line">		dos.writeDouble(<span class="number">234.34</span>);</span><br><span class="line">		dos.writeChar(<span class="string">'c'</span>);</span><br><span class="line">		dos.writeUTF(<span class="string">"HelloWord123"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//4. 关闭</span></span><br><span class="line">		<span class="keyword">if</span>(dos!=<span class="keyword">null</span>)&#123;</span><br><span class="line">			dos.close();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span>  <span class="title">read</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>&#123;</span><br><span class="line">		<span class="comment">/*//1.目的地</span></span><br><span class="line"><span class="comment">		FileInputStream  fis = new FileInputStream("D://d.txt");</span></span><br><span class="line"><span class="comment">		//2. 缓冲区，提高读取效率</span></span><br><span class="line"><span class="comment">		BufferedInputStream bis = new BufferedInputStream(fis);</span></span><br><span class="line"><span class="comment">		//3. 使用数据流，保存基本数据类型和String类型</span></span><br><span class="line"><span class="comment">		DataInputStream ds = new DataInputStream(bis);*/</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//简化</span></span><br><span class="line">		DataInputStream ds = <span class="keyword">null</span>;</span><br><span class="line">		ds = <span class="keyword">new</span> DataInputStream(<span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"D://d.txt"</span>)));</span><br><span class="line">		</span><br><span class="line">		System.out.println(ds.readInt());</span><br><span class="line">		System.out.println(ds.readDouble());</span><br><span class="line">		System.out.println(ds.readChar());</span><br><span class="line">		System.out.println(ds.readUTF());</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//4. 关闭</span></span><br><span class="line">		<span class="keyword">if</span>(ds !=<span class="keyword">null</span>)&#123;</span><br><span class="line">			ds.close();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="10-对象流"><a href="#10-对象流" class="headerlink" title="10 对象流"></a>10 对象流</h4><h5 id="10-1-对象序列化-Serialization"><a href="#10-1-对象序列化-Serialization" class="headerlink" title="10.1 对象序列化 (Serialization)"></a>10.1 对象序列化 (Serialization)</h5><p><code>ObjectOutStream</code> 写对象 也叫作 序列化  </p>
<p>对象的内存状态以字节的形式存储到磁盘的文件上</p>
<p><code>ObjectInputStream</code> 反序列化  读对象 也叫 反序列化</p>
<p>磁盘上的字节形式的数据还原成对象的内存状态</p>
<h5 id="10-2-使用序列化的原因"><a href="#10-2-使用序列化的原因" class="headerlink" title="10.2 使用序列化的原因"></a>10.2 使用序列化的原因</h5><p><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1541817194127.png" alt="1541817194127"></p>
<h5 id="10-3-对象序列化的条件"><a href="#10-3-对象序列化的条件" class="headerlink" title="10.3  对象序列化的条件"></a>10.3  对象序列化的条件</h5><p>被序列化的类需要实现 Serializable 接口</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.oject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutput;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 对象序列化与反序列化</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestObjectStream</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		write();</span><br><span class="line">		read();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="comment">// 1 创建对象流对象</span></span><br><span class="line">		ObjectInputStream ois=<span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"D://object.txt"</span>));</span><br><span class="line">			<span class="comment">//2 读取对象  读取的顺序与写入的顺序必须一致</span></span><br><span class="line">			Person p = (Person)ois.readObject();</span><br><span class="line">			System.out.println(p);</span><br><span class="line">			System.out.println(ois.readInt());</span><br><span class="line">			System.out.println(ois.readUTF());</span><br><span class="line">			</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(ois !=<span class="keyword">null</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					ois.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//3 关闭</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="comment">//1 创建对象流对象</span></span><br><span class="line">		ObjectOutputStream oos=<span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"D://object.txt"</span>));</span><br><span class="line">			<span class="comment">//2 创建对象  </span></span><br><span class="line">			oos.writeObject(<span class="keyword">new</span> Person(<span class="string">"Marry"</span>,<span class="number">20</span>));</span><br><span class="line">			oos.writeInt(<span class="number">123</span>);</span><br><span class="line">			oos.writeUTF(<span class="string">"HelloWorld"</span>);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="comment">//3 关闭</span></span><br><span class="line">			<span class="keyword">if</span>(oos !=<span class="keyword">null</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					oos.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.oject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">		<span class="keyword">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"Person [name="</span> + name + <span class="string">", age="</span> + age + <span class="string">"]"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="11-序列化与反序列化"><a href="#11-序列化与反序列化" class="headerlink" title="11 序列化与反序列化"></a>11 序列化与反序列化</h4><p>序列化只针对属性，不针对方法</p>
<p>transient //序列化时不再添加用这个关键字修饰的变量</p>
<p>类中静态变量也不会被序列化</p>
<p>对象是可序列化，其中对象的成员对象必须也是也序列化的</p>
<p>添加序列化号，应对版本升级问题</p>
<p>实现序列化，是可继承的，若父类实现的序列化，子类可不必再写一遍</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.oject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestStudent</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		read();</span><br><span class="line">		write();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="comment">//1 创建对象流对象</span></span><br><span class="line">		ObjectOutputStream oos =<span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"D://student.txt"</span>));</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//2 创建Student对象</span></span><br><span class="line">			Student s = <span class="keyword">new</span> Student(<span class="string">"Tom"</span>, <span class="number">20</span>, <span class="string">"132"</span>);</span><br><span class="line">			Student.SCHOLL_NAME = <span class="string">"szxy"</span>;</span><br><span class="line">			oos.writeObject(s);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="comment">//3 关闭</span></span><br><span class="line">			<span class="keyword">if</span>(oos!=<span class="keyword">null</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					oos.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;	</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="comment">//1 创建对象流对象</span></span><br><span class="line">		ObjectInputStream ois = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"D://student.txt"</span>));</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//2 从磁盘中读取对象</span></span><br><span class="line">			Student s = (Student)ois.readObject();</span><br><span class="line">			System.out.println(s);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(ois!=<span class="keyword">null</span>)&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				ois.close();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">				<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.oject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">261590964285085543L</span>;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> String SCHOLL_NAME;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">transient</span> String passWord;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> age, String passWord)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(name, age);</span><br><span class="line">		<span class="keyword">this</span>.passWord = passWord;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(name, age);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getSCHOLL_NAME</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> SCHOLL_NAME;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">setSCHOLL_NAME</span><span class="params">(String sCHOLL_NAME)</span> </span>&#123;</span><br><span class="line">		SCHOLL_NAME = sCHOLL_NAME;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getPassWord</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> passWord;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPassWord</span><span class="params">(String passWord)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.passWord = passWord;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span>  <span class="keyword">super</span>.toString() + <span class="string">"Student passWord="</span> + passWord +<span class="string">"\tSCHOOL_NAME: "</span> +Student.SCHOLL_NAME;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.oject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Classes</span> <span class="keyword">implements</span> <span class="title">Serializable</span></span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="comment">//private static final long serialVersionUID = -670033821580185843L;</span></span><br><span class="line">	<span class="keyword">private</span> String className;</span><br><span class="line">	<span class="keyword">private</span> ArrayList&lt;Student&gt; al;</span><br><span class="line">	<span class="keyword">public</span>  String  addr;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Classes</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的构造函数存根</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Classes</span><span class="params">(String className, ArrayList&lt;Student&gt; al)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">		<span class="keyword">this</span>.className = className;</span><br><span class="line">		<span class="keyword">this</span>.al = al;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getClassName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> className;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setClassName</span><span class="params">(String className)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.className = className;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> ArrayList&lt;Student&gt; <span class="title">getAl</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> al;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAl</span><span class="params">(ArrayList&lt;Student&gt; al)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.al = al;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"Classes [className="</span> + className + <span class="string">", al="</span> + al + <span class="string">"]"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.oject;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestClasses</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		read();</span><br><span class="line">		write();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">write</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="comment">//1 创建对象流对象</span></span><br><span class="line">		ObjectInputStream ois = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			ois = <span class="keyword">new</span> ObjectInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">"D://classes.txt"</span>));</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//2 读入磁盘中的对象</span></span><br><span class="line">			Classes c = (Classes)ois.readObject();</span><br><span class="line">			System.out.println(c);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="comment">//3 关闭</span></span><br><span class="line">			<span class="keyword">if</span>(ois!=<span class="keyword">null</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					ois.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="comment">//1 创建对象流对象</span></span><br><span class="line">		ObjectOutputStream oos = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			oos = <span class="keyword">new</span> ObjectOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"D://classes.txt"</span>));</span><br><span class="line">			</span><br><span class="line">			<span class="comment">//2 创建对象 读入</span></span><br><span class="line">			ArrayList&lt;Student&gt; al = <span class="keyword">new</span> ArrayList&lt;Student&gt;();</span><br><span class="line">			al.add(<span class="keyword">new</span> Student(<span class="string">"Tom"</span>,<span class="number">20</span>,<span class="string">"123"</span>));</span><br><span class="line">			al.add(<span class="keyword">new</span> Student(<span class="string">"Marry"</span>,<span class="number">21</span>,<span class="string">"1ewr23"</span>));</span><br><span class="line">			al.add(<span class="keyword">new</span> Student(<span class="string">"Jack"</span>,<span class="number">34</span>,<span class="string">"123324"</span>));</span><br><span class="line">			al.add(<span class="keyword">new</span> Student(<span class="string">"HHHo"</span>,<span class="number">12</span>,<span class="string">"12334"</span>));</span><br><span class="line">			</span><br><span class="line">			Classes c = <span class="keyword">new</span> Classes(<span class="string">"szxy"</span>,al);</span><br><span class="line">			oos.writeObject(c);</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(oos!=<span class="keyword">null</span>)&#123;</span><br><span class="line">						<span class="keyword">try</span> &#123;</span><br><span class="line">							oos.close();</span><br><span class="line">						&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">							<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">							e.printStackTrace();</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">		&#125;</span><br><span class="line">			</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="12-文件夹的复制"><a href="#12-文件夹的复制" class="headerlink" title="12  文件夹的复制"></a>12  文件夹的复制</h4><p><strong>字节流</strong>，字符流</p>
<p><code>BufferedInputStream</code>  <code>BufferedOutputStream</code></p>
<p><code>FileInputStream</code> <code>FileOutputStream</code></p>
<p>问题分解：</p>
<p>1 复制一个文件</p>
<p>2 复制一个目录下的文件</p>
<p>3 复制一个目录下的文件的所有子目录</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.TestCopy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 文件夹复制</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestCopyDirandfile</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">/*File srcFile = new File("D://1.txt");</span></span><br><span class="line"><span class="comment">		File targetFile = new File("E://1.txt");</span></span><br><span class="line"><span class="comment">		FileCopy(srcFile,targetFile);*/</span></span><br><span class="line">		File srcDir = <span class="keyword">new</span> File(<span class="string">"D://数据结构/"</span>);</span><br><span class="line">		File targetDir = <span class="keyword">new</span> File(<span class="string">"E://数据结构/"</span>);</span><br><span class="line">		System.out.println(targetDir);<span class="comment">//File对象本身就是一个路径</span></span><br><span class="line">		DirCopy(srcDir, targetDir);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">DirCopy</span><span class="params">(File srcDir,File targetDir)</span></span>&#123;</span><br><span class="line">		<span class="keyword">if</span>(!targetDir.exists())&#123;<span class="comment">//若目标目录，不存在则创建目录</span></span><br><span class="line">			targetDir.mkdir();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//获得源目录下的所有File对象（包括文件和目录）</span></span><br><span class="line">		File[] files = srcDir.listFiles();</span><br><span class="line">		<span class="keyword">for</span>(File file: files)&#123;</span><br><span class="line">			<span class="keyword">if</span>(file.isFile())&#123;<span class="comment">//文件路径用拼接的形式，注意传入实参的类型</span></span><br><span class="line">				File srcFile = <span class="keyword">new</span> File(srcDir+<span class="string">"//"</span>+file.getName());</span><br><span class="line">				File targetFile = <span class="keyword">new</span> File(targetDir+<span class="string">"//"</span>+file.getName());</span><br><span class="line">				FileCopy(srcFile,targetFile);</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				<span class="comment">//System.out.println(file.getName());</span></span><br><span class="line">				DirCopy(file,<span class="keyword">new</span> File(targetDir+<span class="string">"//"</span>+file.getName()));</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">				</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">FileCopy</span><span class="params">(File srcFile,File targetFile)</span></span>&#123;</span><br><span class="line">		<span class="comment">//从数据源读入数据</span></span><br><span class="line">		BufferedInputStream bis = <span class="keyword">null</span>;</span><br><span class="line">		BufferedOutputStream bos = <span class="keyword">null</span>;;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			bis = <span class="keyword">new</span> BufferedInputStream(<span class="keyword">new</span> FileInputStream(srcFile));<span class="comment">//源</span></span><br><span class="line">			bos = <span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FileOutputStream(targetFile));<span class="comment">//目的地</span></span><br><span class="line">			</span><br><span class="line">			<span class="comment">//使用缓冲池加快读入速度</span></span><br><span class="line">			<span class="keyword">byte</span>[] bufs = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">			<span class="keyword">int</span> len = <span class="number">0</span>; <span class="comment">//获得读取字节的长度</span></span><br><span class="line">			<span class="comment">//边读边写</span></span><br><span class="line">			<span class="keyword">while</span>((len=bis.read(bufs))!= -<span class="number">1</span>)&#123;</span><br><span class="line">				bos.write(bufs, <span class="number">0</span>, len);</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;<span class="comment">//无论读取是否发生异常，都要关闭流</span></span><br><span class="line">			<span class="comment">//关闭</span></span><br><span class="line">			<span class="keyword">if</span>(bos!=<span class="keyword">null</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					bos.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(bis!=<span class="keyword">null</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					bis.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="13-ByteArrayInputStream-ByteArrayInputStream"><a href="#13-ByteArrayInputStream-ByteArrayInputStream" class="headerlink" title="13  ByteArrayInputStream  ByteArrayInputStream"></a>13  <code>ByteArrayInputStream</code>  <code>ByteArrayInputStream</code></h4><p>1 数据源或目的地为: 字节数组</p>
<p>2 只有字节流，没有字符流</p>
<p>3 节点流</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.byteArrayStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.ByteArrayInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ByteArrayOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutput;</span><br><span class="line"><span class="keyword">import</span> java.io.ObjectOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 字符数组流</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestByteArrayStream</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">byte</span>[] buf = write();<span class="comment">//调用写对象的方法</span></span><br><span class="line">		read(buf);<span class="comment">//调用读对象的方法</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">read</span><span class="params">(<span class="keyword">byte</span>[] buf)</span></span>&#123;</span><br><span class="line">		<span class="comment">//创建字节数组对象</span></span><br><span class="line">		ByteArrayInputStream bais = <span class="keyword">null</span>;</span><br><span class="line">		bais = <span class="keyword">new</span> ByteArrayInputStream(buf);</span><br><span class="line">		ObjectInputStream ois = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			ois = <span class="keyword">new</span> ObjectInputStream(bais);</span><br><span class="line">			System.out.println(ois.readInt());</span><br><span class="line">			System.out.println(ois.readDouble());</span><br><span class="line">			System.out.println(ois.readChar());</span><br><span class="line">			System.out.println(ois.readUTF());</span><br><span class="line">			System.out.println(ois.readObject());</span><br><span class="line">		&#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(ois!=<span class="keyword">null</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					ois.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">byte</span>[] write()&#123;</span><br><span class="line">		<span class="comment">//创建字节数组对象</span></span><br><span class="line">		ByteArrayOutputStream baos = <span class="keyword">null</span>;</span><br><span class="line">		baos = <span class="keyword">new</span> ByteArrayOutputStream();<span class="comment">//调用构造函数，创建一个size为32的数组</span></span><br><span class="line">		ObjectOutputStream oos =<span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			oos = <span class="keyword">new</span> ObjectOutputStream(baos);</span><br><span class="line">			<span class="comment">//写入数据</span></span><br><span class="line">			oos.writeInt(<span class="number">124</span>);</span><br><span class="line">			oos.writeDouble(<span class="number">123.23</span>);</span><br><span class="line">			oos.writeChar(<span class="string">'a'</span>);</span><br><span class="line">			oos.writeUTF(<span class="string">"String"</span>);</span><br><span class="line">			oos.writeObject(<span class="keyword">new</span> Date(<span class="number">1000</span>));</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(oos!=<span class="keyword">null</span>)&#123;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					oos.close();</span><br><span class="line">				&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">					<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> baos.toByteArray();</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="14-设计模式——装饰器模式"><a href="#14-设计模式——装饰器模式" class="headerlink" title="14 设计模式——装饰器模式"></a>14 设计模式——装饰器模式</h4><p>IO 流使用装饰设计模式</p>
<h5 id="装饰模式定义"><a href="#装饰模式定义" class="headerlink" title="装饰模式定义"></a>装饰模式定义</h5><p>职责：动态的为一个对象增加新的功能</p>
<p>装饰模式是一个替代继承的技术，无序添加通过继承增加子类</p>
<p>就能扩展对象的新功能。使用对象的关联关系代替继承关<br>系，更加灵活，同时避免类型体系的快速膨胀。</p>
<p><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1541905360889.png" alt="1541905360889"></p>
<p>实现细节：<br>（1） 抽象构件角色 ICar<br>（2） 具体的构件角色 Car<br>（3） 装饰器角色 SuperCar<br>（4） 具体的装饰器角色 FlyCar、WaterCar、AICar</p>
<p><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1541908107939.png" alt="1541908107939"></p>
<h5 id="优点"><a href="#优点" class="headerlink" title="优点"></a><strong>优点</strong></h5><p>1) 扩展对象功能，比继承灵活，不会导致类个数急剧增加<br>2) 可以对一个对象进行多次装饰，创建出不同行为的组合，<br>车<br>飞行汽车<br>增加浮沉箱，水上汽车<br>增加人工智能，自动驾驶<br>增加翅膀<br>得到功能更加大的对象</p>
<p>3) 具体构建类和具体装饰类可以独立变化，用户可以根据需<br>要自己增加新的具体构件子类和具体装饰子类</p>
<h5 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a><strong>缺点</strong></h5><p>1) 产生很多小对象。大量小对象占据内存，一定程序上影响性能<br>2) 装饰模式易于出错，调试排查比较麻烦</p>
<h5 id="IO-流实现细节"><a href="#IO-流实现细节" class="headerlink" title="IO 流实现细节"></a>IO 流实现细节</h5><p>(1)抽象构件角色 InputStream,OutputStream,Reader,Writer<br>(2)具体构件角色 FileInputStream,FileOutputStream<br>(3)装饰器角色 FilterInputStream,FilterOutputStream<br> 持有一个抽象构件的引用<br>(4)具体装饰角色<br>BufferedInputStream,BufferedOutputStream 等</p>
<h5 id="代码Demo"><a href="#代码Demo" class="headerlink" title="代码Demo"></a>代码Demo</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.moshi;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 接口</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">ICar</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">moved</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.moshi;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 具体的构建</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Car</span> <span class="keyword">implements</span> <span class="title">ICar</span></span>&#123;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">moved</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"可以在陆地上行走"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.moshi;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * 装饰器  服务于Car类 通过moved方法，为Car类增加新的功能</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SuperCar</span> <span class="keyword">implements</span> <span class="title">ICar</span></span>&#123;</span><br><span class="line">	<span class="keyword">private</span> ICar car;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">SuperCar</span><span class="params">(ICar c)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的构造函数存根</span></span><br><span class="line">		<span class="keyword">this</span>.car = c;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">moved</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">//调用Car对象的方法</span></span><br><span class="line">		car.moved();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.moshi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FlyCar</span> <span class="keyword">extends</span> <span class="title">SuperCar</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">FlyCar</span><span class="params">(ICar c)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(c);</span><br><span class="line">		<span class="comment">// TODO 自动生成的构造函数存根</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">moved</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>.moved();</span><br><span class="line">		System.out.println(<span class="string">"可以在天空飞翔，因为有翅膀"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.moshi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WaterCar</span> <span class="keyword">extends</span> <span class="title">SuperCar</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">WaterCar</span><span class="params">(ICar c)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的构造函数存根</span></span><br><span class="line">		<span class="keyword">super</span>(c);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">moved</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的方法存根</span></span><br><span class="line">		<span class="keyword">super</span>.moved();</span><br><span class="line">		System.out.println(<span class="string">"可以在水中漂浮，因为有浮沉箱"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.moshi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AICar</span> <span class="keyword">extends</span> <span class="title">SuperCar</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">AICar</span><span class="params">(ICar c)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的构造函数存根</span></span><br><span class="line">		<span class="keyword">super</span>(c);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">moved</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的方法存根</span></span><br><span class="line">		<span class="keyword">super</span>.moved();</span><br><span class="line">		System.out.println(<span class="string">"可以自动驾驶，因为有AI"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.moshi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FilterOutputStream;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ICar c = <span class="keyword">new</span> Car();</span><br><span class="line">		System.out.print(<span class="string">"基本功能: "</span>);</span><br><span class="line">		c.moved();</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//装饰器</span></span><br><span class="line">		System.out.println(<span class="string">"\n添加飞行的功能"</span>);</span><br><span class="line">		FlyCar fc = <span class="keyword">new</span> FlyCar(c);</span><br><span class="line">		fc.moved();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">"\n添加潜水的功能"</span>);</span><br><span class="line">		WaterCar  wc = <span class="keyword">new</span> WaterCar(fc);</span><br><span class="line">		wc.moved();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">"\n添加AI的功能"</span>);</span><br><span class="line">		AICar aicar = <span class="keyword">new</span> AICar(wc);</span><br><span class="line">		aicar.moved();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">"\n上面可简写为：\n"</span>);</span><br><span class="line">		AICar aicar2 = <span class="keyword">new</span> AICar(<span class="keyword">new</span> WaterCar(<span class="keyword">new</span> FlyCar(<span class="keyword">new</span> Car())));</span><br><span class="line">		aicar2.moved();</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">"IO流采用的装饰器模式"</span>);</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			BufferedOutputStream bos = <span class="keyword">new</span> BufferedOutputStream(<span class="keyword">new</span> FilterOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">"D://1.txt"</span>)));</span><br><span class="line">		&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">			<span class="comment">// TODO 自动生成的 catch 块</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="15-IO-流总结"><a href="#15-IO-流总结" class="headerlink" title="15 IO 流总结"></a>15 IO 流总结</h4><p>字符流主要处理纯文本，其他都可以使用字节流</p>
<h5 id="15-1-IO-流整体架构体系"><a href="#15-1-IO-流整体架构体系" class="headerlink" title="15.1 IO 流整体架构体系"></a>15.1 IO 流整体架构体系</h5><p>(1) 字节流 :<code>InputStream</code>,<code>OutputStream</code><br>(2) 字符流:Reader ,Writer<br>(3) 数据流:DataInputStream,DataOutputStream<br>(4) 对象流:ObjectInputStream,ObjectOutputStream<br>(5) 缓冲流:BufferedInputStream,BufferedOutputStream<br>BufferedReader,BufferedWriter<br>(6) 转换流:InputStreamReader,OutputStreamWriter<br>(7) 数组流:<br>ByteArrayInputStream,ByteArrayOutputStream<br>(8) 打印流:PrintStream,PrintWriter</p>
<p><img src="C:%5CUsers%5CLenovo%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1541909039407.png" alt="1541909039407"></p>
<h4 id="16-IOUtils"><a href="#16-IOUtils" class="headerlink" title="16 IOUtils"></a>16 <code>IOUtils</code></h4><p>封装了许多IO的操作 读取文件，拷贝文件 复制文件等</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.TestIOUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileOutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.IOUtils;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestIOUtils</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> FileNotFoundException, IOException </span>&#123;</span><br><span class="line">		String str = IOUtils.toString(<span class="keyword">new</span> FileInputStream(<span class="string">"D://1.txt"</span>));</span><br><span class="line">		System.out.println(str);</span><br><span class="line">		</span><br><span class="line">		IOUtils.write(str, <span class="keyword">new</span> FileOutputStream(<span class="string">"D://2.txt"</span>));</span><br><span class="line"></span><br><span class="line">		IOUtils.copy(<span class="keyword">new</span> FileInputStream(<span class="string">"D://1.txt"</span>),<span class="keyword">new</span> FileOutputStream(<span class="string">"E://1.txt"</span>));</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.TestIOUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.net.MalformedURLException;</span><br><span class="line"><span class="keyword">import</span> java.net.URI;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.FileSystemUtils;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.io.FileUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestFileUtils</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		FileUtils.copyFile(<span class="keyword">new</span> File(<span class="string">"D://1.txt"</span>), <span class="keyword">new</span> File(<span class="string">"E:f.txt"</span>));</span><br><span class="line">		</span><br><span class="line">	URL url = <span class="keyword">new</span> URL(<span class="string">"http://www.baidu.com"</span>);</span><br><span class="line"></span><br><span class="line">	FileUtils.copyURLToFile(url, <span class="keyword">new</span> File(<span class="string">"E://baidu.html"</span>));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://zwer.xyz/2018/11/08/Java/20181104 容器/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zwer">
      <meta itemprop="description" content="记录学习的日常">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zwer 的博客空间">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/11/08/Java/20181104 容器/" class="post-title-link" itemprop="url">容器container</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2018-11-08 22:00:35" itemprop="dateCreated datePublished" datetime="2018-11-08T22:00:35+08:00">2018-11-08</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-09-08 19:49:00" itemprop="dateModified" datetime="2019-09-08T19:49:00+08:00">2019-09-08</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="容器"><a href="#容器" class="headerlink" title="容器"></a>容器</h2><h4 id="1-基本概念-Collection-Set-List-接口介绍"><a href="#1-基本概念-Collection-Set-List-接口介绍" class="headerlink" title="1.基本概念_Collection_Set_List 接口介绍"></a>1.基本概念_Collection_Set_List 接口介绍</h4><h5 id="1-1-集合"><a href="#1-1-集合" class="headerlink" title="1.1 集合"></a>1.1 集合</h5><p>数组：  一旦创建长度不能更改 局限性</p>
<p><strong>只能存 引用数据类型</strong></p>
<h5 id="1-2-容器框架"><a href="#1-2-容器框架" class="headerlink" title="1.2 容器框架"></a>1.2 容器框架</h5><p><img src="http://www.zwer.xyz/Collection0.png" alt="1541292931739"></p>
<h5 id="1-3-各接口的特点"><a href="#1-3-各接口的特点" class="headerlink" title="1.3 各接口的特点"></a>1.3 各接口的特点</h5><p>底层数据结构不同 </p>
<p>LinkedList底层数据结构是链表，删除和添加数据元素的效率高，数据结构复杂</p>
<p>ArrayList底层数据结构是数组，删除和添加数据元素的效率低</p>
<p>Collection 接口存储一组不唯一，无序的对象</p>
<p>List接口存储一组不唯一，<strong>有序</strong>（索引顺序）的对象</p>
<p>Set接口存储一组唯一，<strong>无序的</strong>对象</p>
<h4 id="2-List接口ArrayList用法详解"><a href="#2-List接口ArrayList用法详解" class="headerlink" title="2. List接口ArrayList用法详解"></a>2. List接口<code>ArrayList</code>用法详解</h4><h5 id="2-1ArrayList-实现类-用法"><a href="#2-1ArrayList-实现类-用法" class="headerlink" title="2.1ArrayList 实现类 用法"></a>2.1ArrayList 实现类 用法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.TestListarray;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.ListIterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestListArray</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//创建List接口的实现类ArrayList</span></span><br><span class="line">		List list = <span class="keyword">new</span> ArrayList();</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//1. add方法</span></span><br><span class="line">		list.add(<span class="string">"HelloArray"</span>);</span><br><span class="line">		list.add(<span class="number">123</span>);<span class="comment">//自动装箱  Integer.valueOf(123);</span></span><br><span class="line">		list.add(<span class="keyword">new</span> Scanner(System.in));</span><br><span class="line">		System.out.println(<span class="string">"list: "</span>+list);</span><br><span class="line">		List list2 = <span class="keyword">new</span> ArrayList();</span><br><span class="line">		list2.add(<span class="string">"HelloArray"</span>);</span><br><span class="line">		list2.add(<span class="number">123</span>);</span><br><span class="line">		System.out.println(<span class="string">"list2: "</span>+list2);</span><br><span class="line">		<span class="comment">//2. addAll</span></span><br><span class="line">		list.addAll(list2);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//3.remove</span></span><br><span class="line">		list.remove(<span class="string">"HelloArray"</span>);</span><br><span class="line">		<span class="comment">//list.remove(123);//123被认为是索引，而非元素内容</span></span><br><span class="line">		list.remove(<span class="keyword">new</span> Integer(<span class="number">123</span>));</span><br><span class="line">		list.remove(<span class="number">0</span>);<span class="comment">//根据索引删除元素</span></span><br><span class="line">		System.out.println(<span class="string">"list: "</span>+list);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//4.removeAll</span></span><br><span class="line">		list.add(<span class="string">"zwz"</span>);</span><br><span class="line">		<span class="comment">//list.removeAll(list2);</span></span><br><span class="line">		list.retainAll(list2);</span><br><span class="line">		System.out.println(<span class="string">"list: "</span>+list);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//5. 判断</span></span><br><span class="line">		System.out.println(<span class="string">"list中元素的个数: "</span>+list.size());</span><br><span class="line">		System.out.println(<span class="string">"list中元素是否为空: "</span>+list.isEmpty());</span><br><span class="line">		System.out.println(<span class="string">"判断list中的元素HelloAray是否存在 "</span>+list.contains(<span class="string">"HelloArray"</span>));</span><br><span class="line">		System.out.println(<span class="string">"判断list是否包含list2 "</span>+list.containsAll(list2));</span><br><span class="line">		<span class="comment">//contains  containsAll</span></span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//6. 插入元素</span></span><br><span class="line">		list.set(<span class="number">1</span>, <span class="string">"set"</span>);</span><br><span class="line">		list.add(<span class="number">0</span>, <span class="string">"add"</span>);</span><br><span class="line">		System.out.println(<span class="string">"list: "</span>+list);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//7. 获得元素</span></span><br><span class="line">		System.out.println(<span class="string">"获得索引位置为1上的元素："</span>+list.get(<span class="number">1</span>));</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//8. 查找元素</span></span><br><span class="line">		System.out.println(<span class="string">"查找set元素 ："</span>+list.indexOf(<span class="string">"set"</span>));<span class="comment">// return 2</span></span><br><span class="line">		System.out.println(<span class="string">"查找Hello元素 ： "</span>+list.indexOf(<span class="string">"Hello"</span>));<span class="comment">//return -1</span></span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//9. 遍历list</span></span><br><span class="line">		System.out.println(<span class="string">"\n使用增强for循环遍历\n"</span>);</span><br><span class="line">		<span class="keyword">for</span>(Object obj:list)&#123;</span><br><span class="line">			System.out.println(obj);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">"\n使用for循环遍历\n"</span>);</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;list.size();i++)&#123;</span><br><span class="line">			System.out.println(list.get(i));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">"\n使用迭代器遍历\n"</span>);</span><br><span class="line">		System.out.println(<span class="string">" interator 正向遍历"</span>);</span><br><span class="line">		Iterator iter =  list.iterator();</span><br><span class="line">		<span class="keyword">while</span>(iter.hasNext())&#123;</span><br><span class="line">			System.out.println(iter.next());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		ListIterator interator =  list.listIterator();</span><br><span class="line">		System.out.println(<span class="string">"正向遍历"</span>);</span><br><span class="line">		<span class="keyword">while</span>(interator.hasNext())&#123;<span class="comment">//判断下一个元素是否存在</span></span><br><span class="line">			System.out.println(interator.next());</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"反向遍历"</span>);</span><br><span class="line">		<span class="keyword">while</span>(interator.hasPrevious())&#123;</span><br><span class="line">			System.out.println(interator.previous());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">list: [HelloArray, 123, java.util.Scanner[delimiters=\p&#123;javaWhitespace&#125;+][position=0][match valid=false][need input=false][source closed=false][skipped=false][group separator=\,][decimal separator=\.][positive prefix=][negative prefix=\Q-\E][positive suffix=][negative suffix=][NaN string=\Q?\E][infinity string=\Q∞\E]]</span><br><span class="line">list2: [HelloArray, 123]</span><br><span class="line">list: [HelloArray, 123]</span><br><span class="line">list: [HelloArray, 123]</span><br><span class="line">list中元素的个数: 2</span><br><span class="line">list中元素是否为空: false</span><br><span class="line">判断list中的元素HelloAray是否存在 true</span><br><span class="line">判断list是否包含list2 true</span><br><span class="line">list: [add, HelloArray, set]</span><br><span class="line">获得索引位置为1上的元素：HelloArray</span><br><span class="line">查找set元素 ：2</span><br><span class="line">查找Hello元素 ： -1</span><br><span class="line"></span><br><span class="line">使用增强for循环遍历</span><br><span class="line"></span><br><span class="line">add</span><br><span class="line">HelloArray</span><br><span class="line">set</span><br><span class="line"></span><br><span class="line">使用for循环遍历</span><br><span class="line"></span><br><span class="line">add</span><br><span class="line">HelloArray</span><br><span class="line">set</span><br><span class="line"></span><br><span class="line">使用迭代器遍历</span><br><span class="line"></span><br><span class="line"> interator 正向遍历</span><br><span class="line">add</span><br><span class="line">HelloArray</span><br><span class="line">set</span><br><span class="line">正向遍历</span><br><span class="line">add</span><br><span class="line">HelloArray</span><br><span class="line">set</span><br><span class="line">反向遍历</span><br><span class="line">set</span><br><span class="line">HelloArray</span><br><span class="line">add</span><br></pre></td></tr></table></figure>

<h4 id="3-ArrayList-JDK源码分析"><a href="#3-ArrayList-JDK源码分析" class="headerlink" title="3  ArrayList_JDK源码分析"></a>3  <code>ArrayList</code>_JDK源码分析</h4><h5 id="3-1-源码分析"><a href="#3-1-源码分析" class="headerlink" title="3.1 源码分析"></a>3.1 源码分析</h5><p>1 构造方法</p>
<p>2 添加方法</p>
<p>3 扩容的原理  <strong>重点</strong></p>
<p>获得当前List对象的容量，检测容量够不够使用，然后跟数组的长度做比较，若小于数组的长度，则使用<code>ArrayList</code>默认的长度，否则进行扩容。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.arraylist;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestArrayList</span> </span>&#123;</span><br><span class="line">	<span class="comment">/**ArrayList源码分析</span></span><br><span class="line"><span class="comment">	 * (1)无参构造方法</span></span><br><span class="line"><span class="comment">	 *       this.elementData 是一个Object类型的数组</span></span><br><span class="line"><span class="comment">	 *       DEFAULTCAPACITY_EMPTY_ELEMENTDATA;也是一个Object类型的数组</span></span><br><span class="line"><span class="comment">	 *       DEFAULTCAPACITY_EMPTY_ELEMENTDATA=&#123;&#125;;默认长度为0</span></span><br><span class="line"><span class="comment">	 *     public ArrayList() &#123;</span></span><br><span class="line"><span class="comment">               this.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;</span></span><br><span class="line"><span class="comment">               //相当于this.elementData=&#123;&#125;;</span></span><br><span class="line"><span class="comment">          &#125;</span></span><br><span class="line"><span class="comment">        (2)带参构造方法</span></span><br><span class="line"><span class="comment">            </span></span><br><span class="line"><span class="comment">         public ArrayList(int initialCapacity) &#123;</span></span><br><span class="line"><span class="comment">	        if (initialCapacity &gt; 0) &#123;</span></span><br><span class="line"><span class="comment">	            this.elementData = new Object[initialCapacity];</span></span><br><span class="line"><span class="comment">	            //this.elementData=new Object[20];</span></span><br><span class="line"><span class="comment">	        &#125; </span></span><br><span class="line"><span class="comment">    	&#125;</span></span><br><span class="line"><span class="comment">    	(3)添加方法 add(Object obj)</span></span><br><span class="line"><span class="comment">    	 public boolean add(E e) &#123;</span></span><br><span class="line"><span class="comment">    	        //检测空间容量是否够用</span></span><br><span class="line"><span class="comment">		        ensureCapacityInternal(size + 1);  // Increments modCount!!</span></span><br><span class="line"><span class="comment">		        //添加元素    elementData[size]=e; size++;</span></span><br><span class="line"><span class="comment">		        elementData[size++] = e;</span></span><br><span class="line"><span class="comment">		        return true;</span></span><br><span class="line"><span class="comment">    	&#125;</span></span><br><span class="line"><span class="comment">    	(4)检测空间容量是否够用</span></span><br><span class="line"><span class="comment">    	private void ensureCapacityInternal(int minCapacity) &#123;</span></span><br><span class="line"><span class="comment">        	ensureExplicitCapacity(calculateCapacity(elementData, minCapacity));</span></span><br><span class="line"><span class="comment">    	&#125;</span></span><br><span class="line"><span class="comment">    	首先调用执行 ,计算容量</span></span><br><span class="line"><span class="comment">         calculateCapacity(elementData, minCapacity)</span></span><br><span class="line"><span class="comment">         </span></span><br><span class="line"><span class="comment">         //calculateCapacity方法定义</span></span><br><span class="line"><span class="comment">         private static int calculateCapacity(Object[] elementData, int minCapacity) &#123;</span></span><br><span class="line"><span class="comment">		            //以下代码相当于elementData==&#123;&#125;</span></span><br><span class="line"><span class="comment">		        if (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123;  //true</span></span><br><span class="line"><span class="comment">		                   //Math.max(10,1);</span></span><br><span class="line"><span class="comment">		            return Math.max(DEFAULT_CAPACITY, minCapacity);</span></span><br><span class="line"><span class="comment">		        &#125;</span></span><br><span class="line"><span class="comment">        return minCapacity;  //执行完之后的结果为  10</span></span><br><span class="line"><span class="comment">       &#125;</span></span><br><span class="line"><span class="comment">        //容量计算完毕后，执行ensureExplicitCapacity方法    ensureExplicitCapacity(10)</span></span><br><span class="line"><span class="comment">         ensureExplicitCapacity方法定义</span></span><br><span class="line"><span class="comment">         </span></span><br><span class="line"><span class="comment">         private void ensureExplicitCapacity(int minCapacity) &#123;  //10</span></span><br><span class="line"><span class="comment">	        modCount++;</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	        // overflow-conscious code</span></span><br><span class="line"><span class="comment">	         * 10-0 &gt;0  true</span></span><br><span class="line"><span class="comment">	        if (minCapacity - elementData.length &gt; 0)</span></span><br><span class="line"><span class="comment">	            grow(minCapacity);</span></span><br><span class="line"><span class="comment">	    &#125;</span></span><br><span class="line"><span class="comment">	    (5)扩充容量</span></span><br><span class="line"><span class="comment">	      private void grow(int minCapacity) &#123;    //10</span></span><br><span class="line"><span class="comment">	        // overflow-conscious code</span></span><br><span class="line"><span class="comment">	        int oldCapacity = elementData.length;        //int oldCapactiy=0;</span></span><br><span class="line"><span class="comment">	        </span></span><br><span class="line"><span class="comment">	        int newCapacity = oldCapacity + (oldCapacity &gt;&gt; 1);   //int newCapacity=0+0&gt;&gt;1  结果为0</span></span><br><span class="line"><span class="comment">	      </span></span><br><span class="line"><span class="comment">	        if (newCapacity - minCapacity &lt; 0)       // 0-10&lt;0    true</span></span><br><span class="line"><span class="comment">	        </span></span><br><span class="line"><span class="comment">	            newCapacity = minCapacity;           //newCapacity=10;</span></span><br><span class="line"><span class="comment">	            </span></span><br><span class="line"><span class="comment">	      </span></span><br><span class="line"><span class="comment">	        elementData = Arrays.copyOf(elementData, newCapacity); //数组拷贝 elementData的长度就是 10</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">	 * */</span></span><br><span class="line">       </span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ArrayList list=<span class="keyword">new</span> ArrayList();</span><br><span class="line">		<span class="comment">//第一次调用添加方法时，完成Object类型数组的初始化容量 ，10</span></span><br><span class="line">		list.add(<span class="string">"hello"</span>);</span><br><span class="line">		list.add(<span class="string">"world"</span>);</span><br><span class="line">		list.add(<span class="string">"hello"</span>);</span><br><span class="line">		list.add(<span class="string">"world"</span>);</span><br><span class="line">		list.add(<span class="string">"hello"</span>);</span><br><span class="line">		list.add(<span class="string">"world"</span>);</span><br><span class="line">		list.add(<span class="string">"hello"</span>);</span><br><span class="line">		list.add(<span class="string">"world"</span>);</span><br><span class="line">		list.add(<span class="string">"hello"</span>);</span><br><span class="line">		list.add(<span class="string">"world"</span>);<span class="comment">//10个元素对象</span></span><br><span class="line">		<span class="comment">/**当添加第11个元素时，所需容量为11，而数组的长度为10，已经无法容纳元素了，这个时候需要扩容，</span></span><br><span class="line"><span class="comment">		 * 原始容量+原始容量&gt;&gt;1   得到新容量</span></span><br><span class="line"><span class="comment">		 * 10+10&gt;&gt;1           15*/</span></span><br><span class="line">		</span><br><span class="line">		list.add(<span class="string">"hello"</span>);<span class="comment">//当添加第11个元素对象时 怎么办？</span></span><br><span class="line">		</span><br><span class="line">		Object [] obj=&#123;&#125;;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3-2-源码分析2"><a href="#3-2-源码分析2" class="headerlink" title="3.2 源码分析2"></a>3.2 源码分析2</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.arraylist.source;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestArrayList</span> </span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * ArrayList源码分析_2</span></span><br><span class="line"><span class="comment">	 * (1)add(int index,Object obj)</span></span><br><span class="line"><span class="comment">	 *  public void add(int index, E element) &#123;</span></span><br><span class="line"><span class="comment">	       </span></span><br><span class="line"><span class="comment">	                        //源数组              ,源数组开始位置  ,新数组            ,新数组开始位置</span></span><br><span class="line"><span class="comment">	        System.arraycopy(elementData, index,  elementData, index + 1,</span></span><br><span class="line"><span class="comment">	                         size - index);  //size-index ，拷贝的元素的个数</span></span><br><span class="line"><span class="comment">	                         </span></span><br><span class="line"><span class="comment">	        elementData[index] = element;//将元素添加到索引为 index的位置上</span></span><br><span class="line"><span class="comment">	        size++;            //元素的个数+1</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">     (2)get(int index)根据索引获取元素对象</span></span><br><span class="line"><span class="comment">        public E get(int index) &#123;</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">            return elementData(index);  //调用了elementData()的方法</span></span><br><span class="line"><span class="comment">       &#125;</span></span><br><span class="line"><span class="comment">         //elementData方法的定义</span></span><br><span class="line"><span class="comment">        E elementData(int index) &#123;</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        return (E) elementData[index];   //在Object类型的数组中根据索引取出元素对象</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    (3)size()</span></span><br><span class="line"><span class="comment">       public int size() &#123;</span></span><br><span class="line"><span class="comment">        return size;   //用于记录集合中元素的个数</span></span><br><span class="line"><span class="comment">      &#125;</span></span><br><span class="line"><span class="comment">    (4)isEmpty()</span></span><br><span class="line"><span class="comment">       public boolean isEmpty() &#123;</span></span><br><span class="line"><span class="comment">        return size == 0;  //集合中一个元素都没有的时候，集合就是空的</span></span><br><span class="line"><span class="comment">       &#125;</span></span><br><span class="line"><span class="comment">    (5)set(int index, Object obj)</span></span><br><span class="line"><span class="comment">	    public E set(int index, E element) &#123;</span></span><br><span class="line"><span class="comment">	        </span></span><br><span class="line"><span class="comment">	        E oldValue = elementData(index);   //根据索引在数组中获取元素</span></span><br><span class="line"><span class="comment">	        </span></span><br><span class="line"><span class="comment">	        elementData[index] = element;  //将新元素设置到数组中索引为index的位置上</span></span><br><span class="line"><span class="comment">	        </span></span><br><span class="line"><span class="comment">	        return oldValue;        //返回原始元素对象</span></span><br><span class="line"><span class="comment">	    &#125;</span></span><br><span class="line"><span class="comment">	  (6)remove(int index)</span></span><br><span class="line"><span class="comment">	  </span></span><br><span class="line"><span class="comment">		  public E remove(int index) &#123;</span></span><br><span class="line"><span class="comment">	         </span></span><br><span class="line"><span class="comment">	        E oldValue = elementData(index);//根据索引获取原始元素对象</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	        int numMoved = size - index - 1;   //拷贝的元素的个数</span></span><br><span class="line"><span class="comment">	        </span></span><br><span class="line"><span class="comment">	        if (numMoved &gt; 0)</span></span><br><span class="line"><span class="comment">	            System.arraycopy(elementData, index+1, elementData, index,</span></span><br><span class="line"><span class="comment">	                             numMoved);</span></span><br><span class="line"><span class="comment">	                             </span></span><br><span class="line"><span class="comment">	        elementData[--size] = null; //   将最后一个位置设置为null</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	        return oldValue;        //返回原始元素对象</span></span><br><span class="line"><span class="comment">     &#125;</span></span><br><span class="line"><span class="comment">      (7)clear()</span></span><br><span class="line"><span class="comment">        public void clear() &#123;</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        // clear to let GC do its work</span></span><br><span class="line"><span class="comment">        for (int i = 0; i &lt; size; i++)</span></span><br><span class="line"><span class="comment">            elementData[i] = null;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        size = 0;</span></span><br><span class="line"><span class="comment">     &#125;</span></span><br><span class="line"><span class="comment">      (8)iterator()</span></span><br><span class="line"><span class="comment">	 * */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//创建ArrayList集合对象</span></span><br><span class="line">		ArrayList list=<span class="keyword">new</span> ArrayList();</span><br><span class="line">		list.add(<span class="string">"hello"</span>);</span><br><span class="line">		list.add(<span class="string">"world"</span>);</span><br><span class="line">		list.add(<span class="number">0</span>, <span class="string">"java"</span>);<span class="comment">//在索引为0的位置上添加"java"</span></span><br><span class="line">		System.out.println(list);</span><br><span class="line">		System.out.println(list.get(<span class="number">1</span>));</span><br><span class="line">		System.out.println(list.size());</span><br><span class="line">		System.out.println(list.isEmpty());</span><br><span class="line">		System.out.println(list.set(<span class="number">2</span>, <span class="string">"sql"</span>));</span><br><span class="line">		System.out.println(list);</span><br><span class="line">		list.remove(<span class="number">1</span>);</span><br><span class="line">		list.clear();</span><br><span class="line">		Iterator ite= list.iterator();</span><br><span class="line">		<span class="keyword">while</span>(ite.hasNext())&#123;</span><br><span class="line">			Object obj=ite.next();</span><br><span class="line">			System.out.println(obj);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-LinkedList的特点-链表-JDK源码分析"><a href="#4-LinkedList的特点-链表-JDK源码分析" class="headerlink" title="4 LinkedList的特点_链表_JDK源码分析"></a>4 <code>LinkedList</code>的特点_链表_JDK源码分析</h4><h5 id="4-1LinkedList概念"><a href="#4-1LinkedList概念" class="headerlink" title="4.1LinkedList概念"></a>4.1<code>LinkedList</code>概念</h5><p><img src="http://www.zwer.xyz/ListedList.png" alt="1541416351640"></p>
<p>​        </p>
<h5 id="4-2-JDK源码分析"><a href="#4-2-JDK源码分析" class="headerlink" title="4.2 JDK源码分析"></a>4.2 JDK源码分析</h5><p><code>LinkedList</code>底层数据结构是链表,删除和添加元素的效率比较高，数据结构复杂<br><code>ArrayList</code> 底层数据结构是数组， 删除和添加元素效率比较低</p>
<ol>
<li><code>add(Object obj)</code></li>
<li><code>addFirst()</code></li>
<li><code>removeFirst()</code></li>
<li><code>removeLast()</code></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.linkedlist;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestLinkedList</span> </span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * LinkedList底层数据结构是链表,删除和添加元素的效率比较高，数据结构复杂</span></span><br><span class="line"><span class="comment">	 * ArrayList底层数据结构是数组， 删除和添加元素效率比较低</span></span><br><span class="line"><span class="comment">	 * LinkedList底层源码分析</span></span><br><span class="line"><span class="comment">	 * (1)构造方法</span></span><br><span class="line"><span class="comment">	 * public LinkedList() &#123;</span></span><br><span class="line"><span class="comment">       &#125;</span></span><br><span class="line"><span class="comment">       (2)添加方法</span></span><br><span class="line"><span class="comment">      public boolean add(E e) &#123;</span></span><br><span class="line"><span class="comment">        linkLast(e);</span></span><br><span class="line"><span class="comment">        return true;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">      </span></span><br><span class="line"><span class="comment">	 * */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		LinkedList list=<span class="keyword">new</span> LinkedList();</span><br><span class="line">		<span class="comment">//添加元素</span></span><br><span class="line">		list.add(<span class="string">"hello"</span>);</span><br><span class="line">		list.addFirst(<span class="string">"java"</span>);</span><br><span class="line">		list.addLast(<span class="string">"world"</span>);</span><br><span class="line">		<span class="comment">//删头，删尾</span></span><br><span class="line">		<span class="comment">//list.removeLast();</span></span><br><span class="line">		<span class="comment">//list.removeFirst();</span></span><br><span class="line">		System.out.println(list);</span><br><span class="line">		<span class="comment">//遍历</span></span><br><span class="line">		<span class="keyword">for</span>(Object obj:list)&#123;</span><br><span class="line">			System.out.println(obj);</span><br><span class="line">		&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="4-3-作业"><a href="#4-3-作业" class="headerlink" title="4.3  作业"></a>4.3  作业</h5><p><strong>项目目标</strong></p>
<p>手写 LinkedList，并实现 add 、remove 、get 方法</p>
<p><strong>项目代码</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.AbstractSequentialList;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Deque;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 手写 LinkList，并实现 add 、remove 、get方法</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestLinkedList</span>&lt;<span class="title">E</span>&gt; </span>&#123;	</span><br><span class="line">	 <span class="keyword">int</span> size = <span class="number">0</span>;  <span class="comment">//节点的个数</span></span><br><span class="line">	 Node&lt;E&gt; first; <span class="comment">//前驱</span></span><br><span class="line">	 Node&lt;E&gt; last;  <span class="comment">//后继</span></span><br><span class="line">	  </span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">TestLinkedList</span><span class="params">()</span> </span>&#123;<span class="comment">//无参构造方法</span></span><br><span class="line">		</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;<span class="comment">//添加元素</span></span><br><span class="line">        linkLast(e);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="function"><span class="keyword">void</span> <span class="title">linkLast</span><span class="params">(E e)</span> </span>&#123;<span class="comment">//在链尾添加新的元素</span></span><br><span class="line">        <span class="keyword">final</span> Node&lt;E&gt; l = last;       <span class="comment">//指向前面的指针 元素的值 指向后面的指针 </span></span><br><span class="line">        <span class="keyword">final</span> Node&lt;E&gt; newNode = <span class="keyword">new</span> Node&lt;&gt;(l, e, <span class="keyword">null</span>);<span class="comment">//新的节点对象</span></span><br><span class="line">        last = newNode;</span><br><span class="line">        <span class="keyword">if</span> (l == <span class="keyword">null</span>) &#123;<span class="comment">//最开始没有元素的情况下，即没有前继</span></span><br><span class="line">            first = newNode;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            l.next = newNode;</span><br><span class="line">        &#125;</span><br><span class="line">        size++;<span class="comment">//节点的个数加 1</span></span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">//根据 元素 移除 节点</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">remove</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="keyword">null</span>; x = x.next) &#123;</span><br><span class="line">                <span class="keyword">if</span> (x.item == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    unlink(x);</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="keyword">null</span>; x = x.next) &#123;</span><br><span class="line">                <span class="keyword">if</span> (o.equals(x.item)) &#123;</span><br><span class="line">                    unlink(x);</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="function">E <span class="title">unlink</span><span class="params">(Node&lt;E&gt; x)</span> </span>&#123; <span class="comment">//去除节点</span></span><br><span class="line">        <span class="keyword">final</span> E element = x.item; <span class="comment">// 保存被去除节点元素的值</span></span><br><span class="line">        <span class="keyword">final</span> Node&lt;E&gt; next = x.next;</span><br><span class="line">        <span class="keyword">final</span> Node&lt;E&gt; prev = x.prev;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (prev == <span class="keyword">null</span>) &#123;</span><br><span class="line">            first = next;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            prev.next = next;</span><br><span class="line">            x.prev = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (next == <span class="keyword">null</span>) &#123;</span><br><span class="line">            last = prev;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            next.prev = prev;</span><br><span class="line">            x.next = <span class="keyword">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        x.item = <span class="keyword">null</span>;</span><br><span class="line">        size--; <span class="comment">//节点的个数 减一</span></span><br><span class="line">        <span class="keyword">return</span> element; <span class="comment">// 返回被移除节点的值</span></span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">	 <span class="keyword">public</span> Object[] toArray() &#123;<span class="comment">//遍历双链表，返回节点的值</span></span><br><span class="line">	        Object[] result = <span class="keyword">new</span> Object[size];</span><br><span class="line">	        <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">	        <span class="comment">//将首指针 first 赋给节点 x ，用 x 遍历 双链表，从头到尾</span></span><br><span class="line">	        <span class="keyword">for</span> (Node&lt;E&gt; x = first; x != <span class="keyword">null</span>; x = x.next) &#123;</span><br><span class="line">	            result[i++] = x.item;</span><br><span class="line">	        	<span class="comment">//System.out.println("指针x："+x.item);</span></span><br><span class="line">	        &#125;</span><br><span class="line">	        <span class="keyword">return</span> result;</span><br><span class="line">	  &#125;</span><br><span class="line">	 <span class="comment">// 根据 索引 获的 元素</span></span><br><span class="line">	 <span class="function"><span class="keyword">public</span> E <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">	        checkElementIndex(index);<span class="comment">//检查元素是否越界</span></span><br><span class="line">	        <span class="keyword">return</span> node(index).item;</span><br><span class="line">	    &#125;</span><br><span class="line">	 <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">checkElementIndex</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">	        <span class="keyword">if</span> (!isElementIndex(index))</span><br><span class="line">	            <span class="keyword">throw</span> <span class="keyword">new</span> IndexOutOfBoundsException(outOfBoundsMsg(index));</span><br><span class="line">	    &#125;</span><br><span class="line">	 <span class="function"><span class="keyword">private</span> String <span class="title">outOfBoundsMsg</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">	        <span class="keyword">return</span> <span class="string">"Index: "</span>+index+<span class="string">", Size: "</span>+size;</span><br><span class="line">	    &#125;</span><br><span class="line">	 <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isElementIndex</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">	        <span class="keyword">return</span> index &gt;= <span class="number">0</span> &amp;&amp; index &lt; size;</span><br><span class="line">	    &#125;</span><br><span class="line">	 <span class="function">Node&lt;E&gt; <span class="title">node</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;<span class="comment">//根据索引获的对应的节点元素的值</span></span><br><span class="line">	        <span class="keyword">if</span> (index &lt; (size &gt;&gt; <span class="number">1</span>)) &#123;</span><br><span class="line">	            Node&lt;E&gt; x = first;</span><br><span class="line">	            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; index; i++)</span><br><span class="line">	                x = x.next;</span><br><span class="line">	            <span class="keyword">return</span> x;</span><br><span class="line">	        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	            Node&lt;E&gt; x = last;</span><br><span class="line">	            <span class="keyword">for</span> (<span class="keyword">int</span> i = size - <span class="number">1</span>; i &gt; index; i--)</span><br><span class="line">	                x = x.prev;</span><br><span class="line">	            <span class="keyword">return</span> x;</span><br><span class="line">	        &#125;</span><br><span class="line">	    &#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//静态内部类  节点类  双链表结构</span></span><br><span class="line">	 <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">	        E item; <span class="comment">// 元素的值</span></span><br><span class="line">	        Node&lt;E&gt; next;<span class="comment">//指向后一个节点 前驱</span></span><br><span class="line">	        Node&lt;E&gt; prev;<span class="comment">//指向前一个节点 后继</span></span><br><span class="line"></span><br><span class="line">	        Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;</span><br><span class="line">	            <span class="keyword">this</span>.item = element;</span><br><span class="line">	            <span class="keyword">this</span>.next = next;</span><br><span class="line">	            <span class="keyword">this</span>.prev = prev;</span><br><span class="line">	        &#125;</span><br><span class="line">	    &#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">			TestLinkedList&lt;String&gt; t = <span class="keyword">new</span> TestLinkedList&lt;String&gt;();</span><br><span class="line">			System.out.println(<span class="string">"1 通过 add 方法添加节点元素："</span>);</span><br><span class="line">			t.add(<span class="string">"HelloWorld"</span>);</span><br><span class="line">			t.add(<span class="string">"XML"</span>);</span><br><span class="line">			t.add(<span class="string">"Schema"</span>);</span><br><span class="line">			t.add(<span class="string">"Mysql"</span>);</span><br><span class="line">			t.add(<span class="string">"Struct of Data"</span>);</span><br><span class="line">			System.out.println(Arrays.toString(t.toArray())+<span class="string">"\n"</span>);</span><br><span class="line">			</span><br><span class="line">			System.out.println(<span class="string">"2 通过 remove 方法删除节点元素 XML ："</span>);</span><br><span class="line">			System.out.println(Arrays.toString(t.toArray())+<span class="string">"\n"</span>);</span><br><span class="line">			</span><br><span class="line">			System.out.println(<span class="string">"3 通过 get方法 获取元素 HelloWorld"</span>);</span><br><span class="line">			System.out.println(<span class="string">"调用 get方法 获的: "</span>+t.get(<span class="number">0</span>)+<span class="string">"\n"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>项目运行结果</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span> 通过 add 方法添加节点元素：</span><br><span class="line">[HelloWorld, XML, Schema, Mysql, Struct of Data]</span><br><span class="line"></span><br><span class="line"><span class="number">2</span> 通过 remove 方法删除节点元素 XML ：</span><br><span class="line">[HelloWorld, XML, Schema, Mysql, Struct of Data]</span><br><span class="line"></span><br><span class="line"><span class="number">3</span> 通过 get方法 获取元素 HelloWorld</span><br><span class="line">调用 get方法 获的: HelloWorld</span><br></pre></td></tr></table></figure>

<p><strong>项目心得</strong></p>
<p>  首先明确 Java 中的 LinkedList 的底层数据结构是链表，而且是双链表结构，也就是<br><br>  每个双链表中的节点都有一个前驱和一个后继，并且可以正向遍历，也可以反向遍历。</p>
<ul>
<li>1 add 方法编写，先判断是否存在节点，若不存在节点，则第一个放入的元素当做首节点，<br>  若存在节点，则将最后的节点指向新节点的前驱，并将新节点的后继设为 null，最后<pre><code>节点的个数加 1.</code></pre></li>
<li>2 remove 方法编写，先将整个双链表遍历，找到与要移除值相等的节点，然后将其移除，<br>  最后节点的个数减 1。</li>
<li>3 get方法的编写，是根据索引获的对应位置的节点中的值。先将双链表遍历，找到索引元素所在的<br>  位置，然后将其取出并返回。</li>
</ul>
<h4 id="5-Vector-用法和ArrayList区别"><a href="#5-Vector-用法和ArrayList区别" class="headerlink" title="5 Vector 用法和ArrayList区别"></a>5 Vector 用法和<code>ArrayList</code>区别</h4><h5 id="5-1-Vector-用法"><a href="#5-1-Vector-用法" class="headerlink" title="5.1 Vector 用法"></a>5.1 Vector 用法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.collection.vector;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Vector;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestVector</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Vector vector = <span class="keyword">new</span> Vector();</span><br><span class="line">		System.out.println(<span class="string">"vector初始容量"</span>+vector.capacity()+<span class="string">"\tvector中元素的个数"</span>+vector.size());</span><br><span class="line">		vector.add(<span class="string">"Hello"</span>);</span><br><span class="line">		vector.addElement(<span class="string">"World!"</span>);</span><br><span class="line">		vector.add(<span class="string">"真好"</span>);</span><br><span class="line">		vector.add(<span class="string">"Hello"</span>);</span><br><span class="line">		vector.addElement(<span class="string">"World!"</span>);</span><br><span class="line">		vector.add(<span class="string">"真好"</span>);</span><br><span class="line">		vector.add(<span class="string">"Hello"</span>);</span><br><span class="line">		vector.addElement(<span class="string">"World!"</span>);</span><br><span class="line">		vector.add(<span class="string">"真好"</span>);</span><br><span class="line">		vector.add(<span class="string">"Hello"</span>);</span><br><span class="line">		vector.addElement(<span class="string">"World!"</span>);</span><br><span class="line">		vector.add(<span class="string">"真好"</span>);</span><br><span class="line">		System.out.println(<span class="string">"vector初始容量"</span>+vector.capacity()+<span class="string">"\tvector中元素的个数"</span>+vector.size());</span><br><span class="line">		System.out.println(vector);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//vector.remove(1);</span></span><br><span class="line">		<span class="comment">//vector.remove("真好");</span></span><br><span class="line">		<span class="comment">//vector.clear();</span></span><br><span class="line">		<span class="comment">//vector.removeElement(1);</span></span><br><span class="line">		System.out.println(vector);</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">"使用增强for循环遍历"</span>);</span><br><span class="line">		<span class="keyword">for</span>(Object obj: vector)&#123;</span><br><span class="line">			System.out.println(obj);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">"使用迭代器遍历 推荐使用for循环，省内存空间，用完对象即消除"</span>);</span><br><span class="line">		<span class="keyword">for</span>(Iterator ite = vector.iterator();ite.hasNext();)&#123;</span><br><span class="line">				System.out.println(ite.next());</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(<span class="string">"使用while遍历"</span>);</span><br><span class="line">		Iterator ite = vector.iterator();</span><br><span class="line">		<span class="keyword">while</span>(ite.hasNext())&#123;</span><br><span class="line">			System.out.println(ite.next());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="5-2-Vector-与-ArrayList-的区别"><a href="#5-2-Vector-与-ArrayList-的区别" class="headerlink" title="5.2 Vector 与 ArrayList 的区别"></a>5.2 Vector 与 <code>ArrayList</code> 的区别</h5><p>相同：底层数据结构相同，都是Object类型的数组</p>
<p>区别：同步  扩容  初始化容量 安全 效率 </p>
<p>1 Vector的add()方法是<strong>同步</strong>方法，而<code>ArrayList</code>方法add()方法是非同步方法</p>
<p>2 Vector扩容每次扩充<strong>1倍</strong>，<code>ArrayList</code>扩容每次扩充<strong>0.5倍</strong></p>
<p>3 Vector 是在<strong>调用构造方法</strong>时，直接初始化容量为10，<code>ArrayList</code>是在第一次<strong>调用添加方法时</strong>，初始化容量为10     </p>
<p>4 Vector的版本是JDK1.0，而<code>ArraryList</code>的版本是JDK1.2</p>
<p>5 Vector 是线程同步的，安全性高，效率低</p>
<p>  <code>ArrayList</code>是线程非同步的，安全性低，效率高</p>
<h4 id="6-Map接口-HashMap-Hashtable"><a href="#6-Map接口-HashMap-Hashtable" class="headerlink" title="6 Map接口  HashMap _Hashtable"></a>6 Map接口  <code>HashMap</code> _<code>Hashtable</code></h4><h5 id="6-1-Map接口"><a href="#6-1-Map接口" class="headerlink" title="6.1 Map接口"></a>6.1 Map接口</h5><p>1 实现Map接口的类用来存储键(key)值(value)对</p>
<p>2 Map接口的实现类有 <code>HashMap</code>和<code>TreeMap</code>等</p>
<p>3 Map 类中存储的键-值对通过键来标识，所以<strong>键值不能重复</strong>,否则后者的值会覆盖前者</p>
<h5 id="6-2-Map用法"><a href="#6-2-Map用法" class="headerlink" title="6.2 Map用法"></a>6.2 Map用法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.collection.map;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestHashMap</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		HashMap  h   = <span class="keyword">new</span> HashMap();</span><br><span class="line">		<span class="comment">//放入</span></span><br><span class="line">		h.put(<span class="number">1</span>,<span class="string">"HelloWorld"</span>);</span><br><span class="line">		h.put(<span class="number">2</span>,<span class="string">"Java"</span>);</span><br><span class="line">		h.put(<span class="number">3</span>,<span class="string">"key3"</span>);</span><br><span class="line">		h.put(<span class="number">3</span>,<span class="string">"key4"</span>);</span><br><span class="line">		System.out.println(<span class="string">"集合中元素是否为空:"</span>+h.isEmpty());</span><br><span class="line">		System.out.println(<span class="string">"集合汇总元素的个数为:"</span>+h.size());</span><br><span class="line">		System.out.println(h);</span><br><span class="line">		<span class="comment">//移除</span></span><br><span class="line">		System.out.println(<span class="string">"移除键值为1的值："</span>+h.remove(<span class="number">1</span>));</span><br><span class="line">		System.out.println(h);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//判断</span></span><br><span class="line">		System.out.println(<span class="string">"判断键是否存在"</span>+h.containsKey(<span class="number">1</span>)+<span class="string">"\t"</span>+h.containsKey(<span class="string">"2"</span>));</span><br><span class="line">		System.out.println(<span class="string">"判断值是否存在"</span>+h.containsValue(<span class="string">"love"</span>) +<span class="string">"\t"</span>+h.containsValue(<span class="string">"Java"</span>));</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//获取</span></span><br><span class="line">		System.out.println(h.get(<span class="number">1</span>));</span><br><span class="line">		System.out.println(h.get(<span class="number">2</span>));</span><br><span class="line">		</span><br><span class="line">		Set keyset = h.keySet();</span><br><span class="line">		System.out.println(<span class="string">"获得所有的键:"</span>+keyset);</span><br><span class="line">		</span><br><span class="line">		Collection col = h.values();</span><br><span class="line">		System.out.println(<span class="string">"获得所有的值："</span>+col);</span><br><span class="line">		</span><br><span class="line">		Set entryset = h.entrySet();</span><br><span class="line">		System.out.println(<span class="string">"获得所有的键值对："</span>+entryset);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*结果：</span></span><br><span class="line"><span class="comment">    集合中元素是否为空:false</span></span><br><span class="line"><span class="comment">    集合汇总元素的个数为:3</span></span><br><span class="line"><span class="comment">    &#123;1=HelloWorld, 2=Java, 3=key4&#125;</span></span><br><span class="line"><span class="comment">    移除键值为1的值：HelloWorld</span></span><br><span class="line"><span class="comment">    &#123;2=Java, 3=key4&#125;</span></span><br><span class="line"><span class="comment">    判断键是否存在false	false</span></span><br><span class="line"><span class="comment">    判断值是否存在false	true</span></span><br><span class="line"><span class="comment">    null</span></span><br><span class="line"><span class="comment">    Java</span></span><br><span class="line"><span class="comment">    获得所有的键:[2, 3]</span></span><br><span class="line"><span class="comment">    获得所有的值：[Java, key4]</span></span><br><span class="line"><span class="comment">    获得所有的键值对：[2=Java, 3=key4]*/</span></span><br></pre></td></tr></table></figure>

<h5 id="6-3-HashMap与Hashtable区别"><a href="#6-3-HashMap与Hashtable区别" class="headerlink" title="6.3 HashMap与Hashtable区别"></a>6.3 <code>HashMap</code>与<code>Hashtable</code>区别</h5><p>区别：</p>
<p>1 版本不同<code>HashMap</code> JDK1.2      <code>Hashtable</code> JDK1.0</p>
<p>2 <code>Hashmap</code>继承了<code>AbstractMap</code> ，实现了Map接口，<code>Hashtable</code>继承了<code>Directionary</code>实现了Map接口</p>
<p>3 <code>HashMap</code>允许null值和null键，但是null作为key值允许一个，<code>Hashtable</code>非null键和值</p>
<p>4 <code>HashMap</code>是线程不同步的（效率高，安全性低）</p>
<p>   <code>Hashtable</code>是线程同步的（安全性高，效率低）</p>
<h4 id="7-HashMap-的底层原理"><a href="#7-HashMap-的底层原理" class="headerlink" title="7 HashMap 的底层原理"></a>7 HashMap 的底层原理</h4><p>7.1 </p>
<p>概念： Hashtable 也叫 散列表</p>
<p>特点： 炒鸡快</p>
<p>结构： 结构有多种  </p>
<p>最流行+最容易理解：<strong>顺序表+链表</strong></p>
<p>主结构：顺序表</p>
<p>每个顺序表的节点在单独引出一个链表</p>
<p><img src="http://www.zwer.xyz/%E5%8F%8C%E9%93%BE%E8%A1%A8.png" alt="双链表"></p>
<p><img src="http://www.zwer.xyz/HashMap.jpg" alt="HashMap的存储原理"></p>
<h4 id="8-二叉树与红黑树"><a href="#8-二叉树与红黑树" class="headerlink" title="8 二叉树与红黑树"></a>8 二叉树与红黑树</h4><h5 id="8-1-二叉树"><a href="#8-1-二叉树" class="headerlink" title="8.1 二叉树"></a>8.1 二叉树</h5><h5 id="8-2-二叉查询树"><a href="#8-2-二叉查询树" class="headerlink" title="8.2 二叉查询树"></a>8.2 二叉查询树</h5><h5 id="8-3-红黑树（二叉平衡树）"><a href="#8-3-红黑树（二叉平衡树）" class="headerlink" title="8.3 红黑树（二叉平衡树）"></a>8.3 红黑树（二叉平衡树）</h5><h5 id="9-TreeMap的使用和底层实现"><a href="#9-TreeMap的使用和底层实现" class="headerlink" title="9 TreeMap的使用和底层实现"></a>9 <code>TreeMap</code>的使用和底层实现</h5><h5 id="9-1-TreeMap-的用法"><a href="#9-1-TreeMap-的用法" class="headerlink" title="9.1 TreeMap 的用法"></a>9.1 <code>TreeMap</code> 的用法</h5><p><code>TreeMap</code>中键是<strong>有序的**</strong>，而且是<strong>升序的**</strong></p>
<p>底层数据结构：<strong>红黑树</strong></p>
<p><code>HashMap</code>中键是无序的</p>
<h5 id="9-2-TreeMap的底层实现"><a href="#9-2-TreeMap的底层实现" class="headerlink" title="9.2 TreeMap的底层实现"></a>9.2 T<code>reeMap</code>的底层实现</h5><p>如果使用<code>TreeMap</code>存储自定义对象作为key时，要求必须</p>
<p>具备<strong>比较规则</strong>，否则运行报错。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.treemap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeMap;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestTreeMap</span> </span>&#123;</span><br><span class="line">	<span class="comment">/***</span></span><br><span class="line"><span class="comment">	 * TreeMap的底层实现</span></span><br><span class="line"><span class="comment">	 * </span></span><br><span class="line"><span class="comment">	 *  private final Comparator&lt;? super K&gt; comparator;  外部比较器，用于比较大小的</span></span><br><span class="line"><span class="comment">	 *  private transient Entry&lt;K,V&gt; root;   //代表的是树根</span></span><br><span class="line"><span class="comment">	 * public TreeMap() &#123;</span></span><br><span class="line"><span class="comment">        comparator = null;</span></span><br><span class="line"><span class="comment">       &#125;</span></span><br><span class="line"><span class="comment">       public V put(K key, V value) &#123;</span></span><br><span class="line"><span class="comment">        Entry&lt;K,V&gt; t = root;   //指向树根</span></span><br><span class="line"><span class="comment">        if (t == null) &#123;</span></span><br><span class="line"><span class="comment">              //比较大小</span></span><br><span class="line"><span class="comment">            compare(key, key); // type (and possibly null) check</span></span><br><span class="line"><span class="comment">            //创建一个根节点</span></span><br><span class="line"><span class="comment">            root = new Entry&lt;&gt;(key, value, null);</span></span><br><span class="line"><span class="comment">            </span></span><br><span class="line"><span class="comment">            size = 1;   //个数++</span></span><br><span class="line"><span class="comment">            modCount++;</span></span><br><span class="line"><span class="comment">            return null;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        int cmp;</span></span><br><span class="line"><span class="comment">        Entry&lt;K,V&gt; parent;   //父节点</span></span><br><span class="line"><span class="comment">        // split comparator and comparable paths</span></span><br><span class="line"><span class="comment">         * </span></span><br><span class="line"><span class="comment">        Comparator&lt;? super K&gt; cpr = comparator;   //null</span></span><br><span class="line"><span class="comment">         //如果外部比较器不等于null,说明外部比较器存在</span></span><br><span class="line"><span class="comment">        if (cpr != null) &#123;</span></span><br><span class="line"><span class="comment">            do &#123;</span></span><br><span class="line"><span class="comment">                parent = t;   //把root赋给父节点</span></span><br><span class="line"><span class="comment">                </span></span><br><span class="line"><span class="comment">                cmp = cpr.compare(key, t.key);  //调用外部比较器的比较方法开始比大小,结果是一个int类型的值</span></span><br><span class="line"><span class="comment">                </span></span><br><span class="line"><span class="comment">                if (cmp &lt; 0)</span></span><br><span class="line"><span class="comment">                    t = t.left;   //在左子树上查找</span></span><br><span class="line"><span class="comment">                else if (cmp &gt; 0)   //在右子树上查找</span></span><br><span class="line"><span class="comment">                    t = t.right;</span></span><br><span class="line"><span class="comment">                else</span></span><br><span class="line"><span class="comment">                    return t.setValue(value);   //找到了，值进行覆盖</span></span><br><span class="line"><span class="comment">            &#125; while (t != null);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        else &#123;  //外部比较器不存在，使用内部比较器进行比较</span></span><br><span class="line"><span class="comment">            if (key == null)</span></span><br><span class="line"><span class="comment">                throw new NullPointerException();</span></span><br><span class="line"><span class="comment">            <span class="doctag">@SuppressWarnings</span>("unchecked")</span></span><br><span class="line"><span class="comment">                Comparable&lt;? super K&gt; k = (Comparable&lt;? super K&gt;) key;</span></span><br><span class="line"><span class="comment">            do &#123;</span></span><br><span class="line"><span class="comment">                parent = t;    //root赋给父节点</span></span><br><span class="line"><span class="comment">                cmp = k.compareTo(t.key);  //调用内部比较器的比较大小的方法，比较结果为int类型</span></span><br><span class="line"><span class="comment">                if (cmp &lt; 0)   </span></span><br><span class="line"><span class="comment">                    t = t.left;     //在左子树上查找</span></span><br><span class="line"><span class="comment">                else if (cmp &gt; 0)   //在右子树上查找</span></span><br><span class="line"><span class="comment">                    t = t.right;</span></span><br><span class="line"><span class="comment">                else</span></span><br><span class="line"><span class="comment">                    return t.setValue(value);   找到了值的覆盖</span></span><br><span class="line"><span class="comment">            &#125; while (t != null);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">         //创建一个节点</span></span><br><span class="line"><span class="comment">        Entry&lt;K,V&gt; e = new Entry&lt;&gt;(key, value, parent);</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        if (cmp &lt; 0)</span></span><br><span class="line"><span class="comment">            parent.left = e;   //添加到左子树</span></span><br><span class="line"><span class="comment">        else</span></span><br><span class="line"><span class="comment">            parent.right = e;    //添加到右子树</span></span><br><span class="line"><span class="comment">        fixAfterInsertion(e);</span></span><br><span class="line"><span class="comment">        size++;      </span></span><br><span class="line"><span class="comment">        modCount++;</span></span><br><span class="line"><span class="comment">        return null;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//创建集合对象</span></span><br><span class="line">		<span class="comment">//TreeMap treeMap=new TreeMap();</span></span><br><span class="line">		<span class="comment">//创建外部比较器对象,定义比较规则</span></span><br><span class="line">		Comparator comLength=<span class="keyword">new</span> CompareLength();</span><br><span class="line">		TreeMap treeMap=<span class="keyword">new</span> TreeMap(comLength);</span><br><span class="line">		<span class="comment">//添加数据</span></span><br><span class="line">		treeMap.put(<span class="string">"hello"</span>, <span class="number">123</span>);</span><br><span class="line">		treeMap.put(<span class="string">"world1"</span>, <span class="number">456</span>);</span><br><span class="line">		treeMap.put(<span class="string">"hello11"</span>, <span class="number">789</span>);</span><br><span class="line">		treeMap.put(<span class="string">"java"</span>, <span class="number">1000</span>);</span><br><span class="line">		System.out.println(<span class="string">"集合中元素的个数:"</span>+treeMap.size());</span><br><span class="line">		System.out.println(treeMap);</span><br><span class="line">		System.out.println(treeMap.containsKey(<span class="string">"hello"</span>)+<span class="string">"\t"</span>+treeMap.containsKey(<span class="string">"sql"</span>));</span><br><span class="line">		System.out.println(treeMap.containsValue(<span class="number">789</span>)+<span class="string">"\t"</span>+treeMap.containsValue(<span class="number">1002</span>));</span><br><span class="line">		System.out.println(treeMap.get(<span class="string">"java"</span>));</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>编写一个外部比较器的实现类，用于实现根据英文字母的个数进行升序比较</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.treemap;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="comment">//编写一个外部比较器的实现类，用于实现根据英文字母的个数进行升序比较</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CompareLength</span> <span class="keyword">implements</span> <span class="title">Comparator</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//向下类型转换</span></span><br><span class="line">		String s1=(String)o1;</span><br><span class="line">		String s2=(String)o2;</span><br><span class="line">		<span class="keyword">return</span> s1.length()-s2.length();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="10-Set接口-HashSet的用法"><a href="#10-Set接口-HashSet的用法" class="headerlink" title="10 Set接口_HashSet的用法"></a>10 Set接口_<code>HashSet</code>的用法</h4><h4 id="10-1-Set接口"><a href="#10-1-Set接口" class="headerlink" title="10.1 Set接口"></a>10.1 Set接口</h4><p> Set接口的特点：唯一、无序</p>
<h5 id="10-2-HashSet用法"><a href="#10-2-HashSet用法" class="headerlink" title="10.2 HashSet用法"></a>10.2 <code>HashSet</code>用法</h5><p> //Student类 JavaBean</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.collection.set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line">	<span class="keyword">private</span> String name;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name, <span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">		<span class="keyword">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.name = name;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> age;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(<span class="keyword">int</span> age)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.age = age;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">hashCode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"hashCode()"</span>);</span><br><span class="line">		<span class="keyword">final</span> <span class="keyword">int</span> prime = <span class="number">31</span>;</span><br><span class="line">		<span class="keyword">int</span> result = <span class="number">1</span>;</span><br><span class="line">		result = prime * result + age;</span><br><span class="line">		result = prime * result + ((name == <span class="keyword">null</span>) ? <span class="number">0</span> : name.hashCode());</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">equals</span><span class="params">(Object obj)</span> </span>&#123;</span><br><span class="line">		System.out.println(<span class="string">"equals()"</span>);</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">this</span> == obj)</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">		<span class="keyword">if</span> (obj == <span class="keyword">null</span>)</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		<span class="keyword">if</span> (getClass() != obj.getClass())</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		Student other = (Student) obj;</span><br><span class="line">		<span class="keyword">if</span> (age != other.age)</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		<span class="keyword">if</span> (name == <span class="keyword">null</span>) &#123;</span><br><span class="line">			<span class="keyword">if</span> (other.name != <span class="keyword">null</span>)</span><br><span class="line">				<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (!name.equals(other.name))</span><br><span class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="string">"Student [name="</span> + name + <span class="string">", age="</span> + age + <span class="string">"]"</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>​    //测试类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.collection.set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestStudent</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		HashSet hs = <span class="keyword">new</span> HashSet();</span><br><span class="line">		</span><br><span class="line">		Student s1 = <span class="keyword">new</span> Student(<span class="string">"Jack"</span>,<span class="number">18</span>);</span><br><span class="line">		Student s2 = <span class="keyword">new</span> Student(<span class="string">"Tom"</span>,<span class="number">24</span>);</span><br><span class="line">		Student s3 = <span class="keyword">new</span> Student(<span class="string">"Jack"</span>,<span class="number">18</span>);</span><br><span class="line">		Student s4 = <span class="keyword">new</span> Student(<span class="string">"Marry"</span>,<span class="number">20</span>);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		hs.add(s1);</span><br><span class="line">		hs.add(s2);</span><br><span class="line">		hs.add(s3);</span><br><span class="line">		hs.add(s4);</span><br><span class="line">		</span><br><span class="line">		System.out.println(hs);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">	hashCode()</span></span><br><span class="line"><span class="comment">    hashCode()</span></span><br><span class="line"><span class="comment">    hashCode()</span></span><br><span class="line"><span class="comment">    equals()</span></span><br><span class="line"><span class="comment">    hashCode()</span></span><br><span class="line"><span class="comment">    [Student [name=Marry, age=20], Student [name=Tom, age=24], Student [name=Jack, age=18]]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h5 id="10-3-HashSet底层源码分析"><a href="#10-3-HashSet底层源码分析" class="headerlink" title="10.3 HashSet底层源码分析"></a>10.3 <code>HashSet</code>底层源码分析</h5><p><code>HashSet</code>底层数组结构使用的是hash表  ,主结构数组, +链表</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.hashset;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestHashSet</span> </span>&#123;</span><br><span class="line">	<span class="comment">/***</span></span><br><span class="line"><span class="comment">	 * HashSet底层源码分析</span></span><br><span class="line"><span class="comment">	 *  private transient HashMap&lt;E,Object&gt; map;</span></span><br><span class="line"><span class="comment">	 *   private static final Object PRESENT = new Object();</span></span><br><span class="line"><span class="comment">	 *  public HashSet() &#123;</span></span><br><span class="line"><span class="comment">             map = new HashMap&lt;&gt;();//创建HashSet时，底层创建的是一个HashMap对象</span></span><br><span class="line"><span class="comment">     &#125;</span></span><br><span class="line"><span class="comment">     public boolean add(E e) &#123;</span></span><br><span class="line"><span class="comment">                     key--&gt;e ,value--&gt;PRESENT ,是一个Object类型的对象</span></span><br><span class="line"><span class="comment">                     map集合中的所有value都是统一的Object类型对象</span></span><br><span class="line"><span class="comment">        return map.put(e, PRESENT)==null;</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">     &#125;</span></span><br><span class="line"><span class="comment">     public int size() &#123;</span></span><br><span class="line"><span class="comment">        return map.size();</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">     public boolean contains(Object o) &#123;</span></span><br><span class="line"><span class="comment">        return map.containsKey(o);  //在map集合中判断key是否存在</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    public Iterator&lt;E&gt; iterator() &#123;</span></span><br><span class="line"><span class="comment">          //获取map集合中所有的key的集合，再得到迭代器对象</span></span><br><span class="line"><span class="comment">        return map.keySet().iterator();</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    HashSet使用了HashMap的数据结构，</span></span><br><span class="line"><span class="comment">         底层都是哈希表 (顺序表+链表)</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//HashSet底层数组结构使用的是hash表  ,主结构数组, +链表</span></span><br><span class="line">		<span class="comment">//创建集合对象</span></span><br><span class="line">		HashSet hs=<span class="keyword">new</span> HashSet();</span><br><span class="line">		hs.add(<span class="string">"hello"</span>);</span><br><span class="line">		hs.add(<span class="string">"world"</span>);</span><br><span class="line">		hs.add(<span class="string">"java"</span>);</span><br><span class="line">		System.out.println(hs.add(<span class="string">"world"</span>));</span><br><span class="line">		System.out.println(<span class="string">"集合中元素的个数:"</span>+hs.size());</span><br><span class="line">		System.out.println(hs);</span><br><span class="line">		System.out.println(hs.contains(<span class="string">"java"</span>)+<span class="string">"\t"</span>+hs.contains(<span class="string">"sql"</span>));</span><br><span class="line">		<span class="comment">//使用迭代器遍历元素</span></span><br><span class="line">		Iterator ite=hs.iterator();</span><br><span class="line">		<span class="keyword">while</span>(ite.hasNext())&#123;</span><br><span class="line">			System.out.println(ite.next());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="11-TreeSet-用法和底层源码"><a href="#11-TreeSet-用法和底层源码" class="headerlink" title="11 TreeSet  用法和底层源码"></a>11 <code>TreeSet</code>  用法和底层源码</h4><h5 id="11-1-TreeMap-的使用和TreeMap的底层实现"><a href="#11-1-TreeMap-的使用和TreeMap的底层实现" class="headerlink" title="11.1 TreeMap 的使用和TreeMap的底层实现"></a>11.1 <code>TreeMap</code> 的使用和<code>TreeMap</code>的底层实现</h5><p>Key：唯一，有序，升序</p>
<p>如果使用<code>Treemap</code>存储自定义对象作为key时，要求必须具备比较规则，否则运行报错</p>
<h5 id="11-2-TreeSet-的使用和-TreeSet-的底层实现"><a href="#11-2-TreeSet-的使用和-TreeSet-的底层实现" class="headerlink" title="11.2 TreeSet 的使用和 TreeSet 的底层实现"></a>11.2 <code>TreeSet</code> 的使用和 <code>TreeSet</code> 的底层实现</h5><p>1  <code>TreeMap</code>  (key,唯一，而且有序，升序)，底层数据结构是红黑树，</p>
<p>而且 <code>TreeMap</code> 中可以实际上就是一个 <code>TreeSet</code>，如果使用自定义对象</p>
<p>作为 key，要求<strong>必须具备比较规则</strong></p>
<p>2 使用 <code>TreeMap</code>  要求使用内部比较器和外部比较器</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.treeset;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="keyword">import</span> java.util.NavigableMap;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeMap;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="comment">/** </span></span><br><span class="line"><span class="comment"> * TreeSet的底层所使用的是TreeMap   --&gt;红黑树</span></span><br><span class="line"><span class="comment"> * TreeSet JDK源码分析</span></span><br><span class="line"><span class="comment"> *  private transient NavigableMap&lt;E,Object&gt; m;  //一个接口,间接继承了Map</span></span><br><span class="line"><span class="comment"> *    private static final Object PRESENT = new Object();</span></span><br><span class="line"><span class="comment"> *  public TreeSet() &#123;</span></span><br><span class="line"><span class="comment">        this(new TreeMap&lt;E,Object&gt;());  //创建了一个TreeMap的对象</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    //调用的本类中的带参构造方法</span></span><br><span class="line"><span class="comment">    TreeSet(NavigableMap&lt;E,Object&gt; m) &#123;</span></span><br><span class="line"><span class="comment">        this.m = m;   //接口new 实现类</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">     public TreeSet(Comparator&lt;? super E&gt; comparator) &#123;</span></span><br><span class="line"><span class="comment">        this(new TreeMap&lt;&gt;(comparator));  //调用了本类中的带参构造方法</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    添加方法</span></span><br><span class="line"><span class="comment">     public boolean add(E e) &#123;</span></span><br><span class="line"><span class="comment">        return m.put(e, PRESENT)==null;  //传入的元素作为Map中的key，统一的值为Object类型的对象</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    public int size() &#123;</span></span><br><span class="line"><span class="comment">        return m.size();</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Administrator</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestTreeSet</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">		<span class="comment">//创建集合对象</span></span><br><span class="line">		<span class="comment">//TreeSet ts=new TreeSet();</span></span><br><span class="line">		<span class="comment">//Comparator comc=new ComCharactor();//创建外部比较器对象</span></span><br><span class="line">		Comparator com=<span class="keyword">new</span> ComCharactorAndAge();</span><br><span class="line">		TreeSet ts=<span class="keyword">new</span> TreeSet(com);</span><br><span class="line">		<span class="comment">//创建Person对象</span></span><br><span class="line">		Person p1=<span class="keyword">new</span> Person(<span class="string">"marry"</span>, <span class="number">20</span>);</span><br><span class="line">		Person p2=<span class="keyword">new</span> Person(<span class="string">"lili"</span>, <span class="number">19</span>);</span><br><span class="line">		Person p3=<span class="keyword">new</span> Person(<span class="string">"jack"</span>, <span class="number">20</span>);</span><br><span class="line">		Person p4=<span class="keyword">new</span> Person(<span class="string">"marry"</span>, <span class="number">18</span>);</span><br><span class="line">		<span class="comment">//添加到集合中</span></span><br><span class="line">		ts.add(p1);</span><br><span class="line">		ts.add(p2);</span><br><span class="line">		ts.add(p3);</span><br><span class="line">		ts.add(p4);</span><br><span class="line">		System.out.println(<span class="string">"集合中元素的个数:"</span>+ts.size());</span><br><span class="line">		System.out.println(ts);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">[Person [name=aMarry, age=7], Person [name=aMarry, age=10], Person [name=bTom, age=14], Person [name=cJack, age=20]]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">/*</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.collection.treeset;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 外部比较器，即先比较名字，当名字相同的时候，比较年龄</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ComparotAgeandName</span> <span class="keyword">implements</span> <span class="title">Comparator</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">		<span class="comment">// TODO 自动生成的方法存根</span></span><br><span class="line">		Person p1 = (Person)o1;</span><br><span class="line">		Person p2 = (Person)o2;</span><br><span class="line">		<span class="keyword">if</span>(p1.getName().compareTo(p2.getName())&gt;<span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span> <span class="keyword">if</span>(p1.getName().compareTo(p2.getName())&lt;<span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="keyword">return</span> p1.getAge()-p2.getAge();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.collection.treeset;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Comparator;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 外部比较器</span></span><br><span class="line"><span class="comment"> * 只比较年龄大小   实现Comparator接口</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CompartorAge</span> <span class="keyword">implements</span> <span class="title">Comparator</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Object o1, Object o2)</span> </span>&#123;</span><br><span class="line">		Person p1 = (Person)o1;</span><br><span class="line">		Person p2 = (Person)o2;</span><br><span class="line">		<span class="keyword">return</span>  p1.getAge()-p2.getAge();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="12-泛型"><a href="#12-泛型" class="headerlink" title="12 泛型"></a>12 泛型</h5><h5 id="12-1-泛型的概念"><a href="#12-1-泛型的概念" class="headerlink" title="12.1 泛型的概念"></a>12.1 泛型的概念</h5><p>提出 JDK1.5新特性</p>
<p>在创建集合对象时，明确集合中所存储的元素类型</p>
<p>  泛型：在定义集合的时候同时定义集合中对象的类型</p>
<p>好处：增强程序的可读性和安全性</p>
<h5 id="12-2-泛型的分类"><a href="#12-2-泛型的分类" class="headerlink" title="12.2 泛型的分类"></a>12.2 泛型的分类</h5><p>1 泛型类</p>
<p>2 泛型接口</p>
<p>3 泛型方法   </p>
<p>解决了参数个数相同的情况下的方法重载</p>
<p>​    可变参数的泛型方法，解决参数的个数不同，类型不同的方法重载</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.genenic;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">MyInter</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyIplem</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">MyInter</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyIplem2</span>&lt;<span class="title">Integer</span>&gt; <span class="keyword">implements</span> <span class="title">MyInter</span>&lt;<span class="title">Integer</span>&gt;</span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestGenenic</span>&lt;<span class="title">T</span>&gt;</span>&#123;</span><br><span class="line">	<span class="keyword">public</span> &lt;T&gt; <span class="function"><span class="keyword">void</span> <span class="title">show</span><span class="params">(T t)</span></span>&#123;<span class="comment">//创建TestGenenic对象是决定</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> &lt;Q&gt; <span class="function"><span class="keyword">void</span> <span class="title">method</span><span class="params">(Q q)</span></span>&#123;<span class="comment">//在调用method这个方法是明确</span></span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">public</span> &lt;K&gt; <span class="function"><span class="keyword">void</span> <span class="title">fun</span><span class="params">(K...k)</span></span>&#123;<span class="comment">//可变泛型方法</span></span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k.length; i++) &#123;</span><br><span class="line">			System.out.println(k[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Genenic</span></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		MyInter&lt;String&gt; mi = <span class="keyword">new</span> MyIplem&lt;String&gt;();</span><br><span class="line">		MyInter&lt;Integer&gt; mi2 = <span class="keyword">new</span> MyIplem2&lt;Integer&gt;();</span><br><span class="line">		</span><br><span class="line">		TestGenenic&lt;String &gt; tg = <span class="keyword">new</span> TestGenenic&lt;String&gt;();</span><br><span class="line">		tg.show(<span class="string">"adb"</span>);</span><br><span class="line">		tg.method(<span class="number">123</span>);</span><br><span class="line">		tg.method(<span class="string">"1232"</span>);</span><br><span class="line">		tg.method(<span class="string">"234"</span>);</span><br><span class="line">		</span><br><span class="line">		tg.fun(<span class="number">1312</span>);</span><br><span class="line">		tg.fun(<span class="number">123</span>,<span class="number">23324</span>,<span class="string">"324"</span>);</span><br><span class="line">				</span><br><span class="line"> 	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="13-泛型的高级使用和-容器中使用的泛型"><a href="#13-泛型的高级使用和-容器中使用的泛型" class="headerlink" title="13 泛型的高级使用和 容器中使用的泛型"></a>13 泛型的高级使用和 容器中使用的泛型</h4><h5 id="13-1-泛型的高级使用"><a href="#13-1-泛型的高级使用" class="headerlink" title="13.1 泛型的高级使用"></a>13.1 泛型的高级使用</h5><p><strong>目标：根据泛型的上限和下限，在API看懂方法参数</strong> </p>
<p>泛型的上限：使用关键字 <code>extends</code> 表示参数化类型可能是所指定的类型或者是此类型的<strong>子类</strong></p>
<p>泛型的下限：使用关键字 <code>supper</code>进行声明，表示参数化类型可能是所指定的类型或者是此类型的<strong>父类</strong>，直至 <code>Object</code>  类</p>
<h5 id="13-2-容器中使用的泛型"><a href="#13-2-容器中使用的泛型" class="headerlink" title="13.2 容器中使用的泛型"></a>13.2 容器中使用的泛型</h5><pre><code>注意：泛型只看编译期间起作用</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.genenic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeMap;</span><br><span class="line"><span class="keyword">import</span> java.util.TreeSet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ArrayList&lt;String&gt;  al = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		al.add(<span class="string">"HelloWorld"</span>);</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		LinkedList&lt;Integer&gt; ll = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">		ll.add(<span class="number">111</span>);<span class="comment">//自动装箱</span></span><br><span class="line">		</span><br><span class="line">		Person p1 = <span class="keyword">new</span> Person(<span class="string">"龟"</span>,<span class="number">123</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//存储自定义对象是，要求Person类重写hashcode方法和equals方法</span></span><br><span class="line">		HashSet&lt;Person&gt; hs = <span class="keyword">new</span> HashSet&lt;Person&gt;();</span><br><span class="line">		hs.add(p1);</span><br><span class="line">		System.out.println(hs);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//Person对象具备比较规则，要求有内部比较器或外部比较器</span></span><br><span class="line">		TreeSet&lt;Person&gt; ts = <span class="keyword">new</span> TreeSet&lt;Person&gt;();</span><br><span class="line">		ts.add(p1);</span><br><span class="line"></span><br><span class="line">		<span class="comment">//</span></span><br><span class="line">		HashMap&lt;Person, Integer&gt; hm = <span class="keyword">new</span> HashMap&lt;Person,Integer&gt;();</span><br><span class="line">		hm.put(p1,<span class="number">123</span>);<span class="comment">//123自动装箱</span></span><br><span class="line">		</span><br><span class="line">		TreeMap&lt;Person,Integer&gt; tm = <span class="keyword">new</span> TreeMap&lt;Person,Integer&gt;();</span><br><span class="line">		tm.put(p1,<span class="number">123</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//泛型只看编译期间起作用</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="14-迭代器"><a href="#14-迭代器" class="headerlink" title="14 迭代器"></a>14 迭代器</h4><h5 id="14-1-遍历-List-Set"><a href="#14-1-遍历-List-Set" class="headerlink" title="14.1  遍历 List Set"></a>14.1  遍历 List Set</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.ConcurrentModificationException;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.NoSuchElementException;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 遍历	</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> wzer</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestIterator</span> </span>&#123;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 *    public boolean hasNext() &#123;</span></span><br><span class="line"><span class="comment">            return cursor != size;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">        public E next() &#123;</span></span><br><span class="line"><span class="comment">            checkForComodification();</span></span><br><span class="line"><span class="comment">            int i = cursor;</span></span><br><span class="line"><span class="comment">            cursor = i + 1;</span></span><br><span class="line"><span class="comment">            return (E) elementData[lastRet = i];</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> args</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ArrayList&lt;Integer&gt; al = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">		al.add(<span class="number">123</span>);</span><br><span class="line">		al.add(<span class="number">456</span>);</span><br><span class="line">		al.add(<span class="number">789</span>);</span><br><span class="line">		<span class="comment">//遍历     1.判断？，2,返回</span></span><br><span class="line">		<span class="keyword">for</span>(Iterator ite = al.iterator();ite.hasNext();)&#123;</span><br><span class="line">			System.out.println(ite.next());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		HashSet&lt;String&gt; hs = <span class="keyword">new</span> HashSet&lt;String&gt;();</span><br><span class="line">		hs.add(<span class="string">"abc"</span>);</span><br><span class="line">		hs.add(<span class="string">"ytg"</span>);</span><br><span class="line">		hs.add(<span class="string">"AJ"</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//遍历</span></span><br><span class="line">		<span class="keyword">for</span>(Iterator ite = hs.iterator();ite.hasNext();)&#123;</span><br><span class="line">			System.out.println(ite.next());</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="http://www.zwer.xyz/Itetator.png" alt="1541675584800"></p>
<h5 id="14-2-遍历-Map"><a href="#14-2-遍历-Map" class="headerlink" title="14.2 遍历 Map"></a>14.2 遍历 Map</h5><p><code>ListIterator</code>是 Iterator 接口的扩展，用于解决并发遍历</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.ListIterator;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestListIterator</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		ArrayList&lt;String&gt; al = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		al.add(<span class="string">"Hello"</span>);</span><br><span class="line">		al.add(<span class="string">"world"</span>);</span><br><span class="line">		al.add(<span class="string">"Java"</span>);</span><br><span class="line">		</span><br><span class="line">		ListIterator&lt;String&gt; ite =   al.listIterator();</span><br><span class="line">		<span class="keyword">while</span>(ite.hasNext())&#123;</span><br><span class="line">			String str =ite.next();</span><br><span class="line">			<span class="keyword">if</span>(<span class="string">"world"</span>.equals(str))&#123;</span><br><span class="line">				ite.add(<span class="string">"you"</span>);<span class="comment">//添加使用ite</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println(al);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	[Hello, world, you, Java]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<p>测试 <code>HashMap</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.iterator;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map.Entry;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestListIterator3</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		HashMap&lt;String,Integer&gt;  hs = <span class="keyword">new</span> HashMap&lt;String,Integer&gt;();</span><br><span class="line">		hs.put(<span class="string">"Hello"</span>, <span class="number">123</span>);</span><br><span class="line">		hs.put(<span class="string">"World"</span>, <span class="number">567</span>);</span><br><span class="line">		hs.put(<span class="string">"Java"</span>,<span class="number">123</span>);</span><br><span class="line">		<span class="comment">//遍历</span></span><br><span class="line">		<span class="keyword">for</span>(String key:hs.keySet())&#123;</span><br><span class="line">			System.out.println(hs.get(key));</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="comment">//获取键和值</span></span><br><span class="line">		Set&lt;Entry&lt;String,Integer&gt;&gt; set = hs.entrySet();</span><br><span class="line">		<span class="keyword">for</span>(Entry&lt;String,Integer&gt; en:set)&#123;</span><br><span class="line">			System.out.println(en.getKey()+<span class="string">"\t"</span>+en.getValue());</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line"> 	&#125;</span><br><span class="line">&#125;	</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">123</span></span><br><span class="line"><span class="comment">123</span></span><br><span class="line"><span class="comment">567</span></span><br><span class="line"><span class="comment">Java	123</span></span><br><span class="line"><span class="comment">Hello	123</span></span><br><span class="line"><span class="comment">World	567</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>

<h4 id="15-容器总结"><a href="#15-容器总结" class="headerlink" title="15  容器总结"></a>15  容器总结</h4><p><img src="http://www.zwer.xyz/CollectionAndMap.png" alt="CollectionAndMap"></p>
<p><img src="http://www.zwer.xyz/CollectionAndMap%20of%20Summary.jpg" alt="19.集合体系框架总结"></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://zwer.xyz/2018/11/02/Java/20181102 异常/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zwer">
      <meta itemprop="description" content="记录学习的日常">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zwer 的博客空间">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/11/02/Java/20181102 异常/" class="post-title-link" itemprop="url">20181102 异常</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2018-11-02 00:00:00" itemprop="dateCreated datePublished" datetime="2018-11-02T00:00:00+08:00">2018-11-02</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-11-09 21:38:41" itemprop="dateModified" datetime="2018-11-09T21:38:41+08:00">2018-11-09</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="20181102异常"><a href="#20181102异常" class="headerlink" title="20181102异常"></a>20181102异常</h1><h4 id="1-异常的概念—分类"><a href="#1-异常的概念—分类" class="headerlink" title="1  异常的概念—分类"></a>1  异常的概念—分类</h4><h5 id="1-1-异常的概念"><a href="#1-1-异常的概念" class="headerlink" title="1.1 异常的概念"></a>1.1 异常的概念</h5><p><strong>异常</strong>（Exception）也叫例外，就是在程序运行过程中所发生的<strong>不正常的的事件</strong>，它会<strong>中断</strong>正在运行的程序</p>
<h5 id="1-2-异常的分类"><a href="#1-2-异常的分类" class="headerlink" title="1.2 异常的分类"></a>1.2 异常的分类</h5><p>检查时异常 –Checked异常: 程序必须处理的异常    </p>
<p><img src="http://www.zwer.xyz/images/%20disorder/1541123628534.png" alt="1541123628534"></p>
<h4 id="2-异常处理的方式之捕获异常"><a href="#2-异常处理的方式之捕获异常" class="headerlink" title="2 异常处理的方式之捕获异常"></a>2 异常处理的方式之捕获异常</h4><h5 id="2-1-try-catch-类型"><a href="#2-1-try-catch-类型" class="headerlink" title="2.1 try{}catch(){}类型"></a>2.1 try{}catch(){}类型</h5><p><img src="http://www.zwer.xyz/images/%20disorder/1541124143370.png" alt="1541124143370"></p>
<p>​                         c. 异常类型与捕获类型不相同</p>
<p><img src="http://www.zwer.xyz/images/%20disorder/1541124198856.png" alt="1541124198856"></p>
<h5 id="2-2-try-finally-类型"><a href="#2-2-try-finally-类型" class="headerlink" title="2.2 try{} finally{}类型"></a>2.2 try{} finally{}类型</h5><p>注意：退出Java虚拟机，不执行finally中的代码</p>
<h5 id="2-3-try-catch-和try-finally-类型"><a href="#2-3-try-catch-和try-finally-类型" class="headerlink" title="2.3  try{}catch{}和try{}finally{}类型"></a>2.3  try{}catch{}和try{}finally{}类型</h5><p><img src="http://www.zwer.xyz/images/%20disorder/1541124676607.png" alt="1541124676607"></p>
<h4 id="3-异常处理的方式之声明异常"><a href="#3-异常处理的方式之声明异常" class="headerlink" title="3 异常处理的方式之声明异常"></a>3 异常处理的方式之声明异常</h4><h5 id="3-1throws声明异常"><a href="#3-1throws声明异常" class="headerlink" title="3.1throws声明异常"></a>3.1<code>throws</code>声明异常</h5><p><strong>方法名的后面</strong>，用于声明该方法可能会产生一个异常如果方法声明的是 Exception 类型的异常或者是Checked <code>Exception</code>异常，要求方法的调用出必须做处理</p>
<ol>
<li><p>继续使用<code>throws</code>向上（方法的调用处）声明</p>
</li>
<li><p>使用<code>try-catch-finally</code>进行处理</p>
</li>
<li><p>父类的方法声明了Exception类型的异常，子类在重写方法时，可以声明也可以不声明。但是如果子类重写后的方法使用<strong>super关键字调用父类的方法</strong>，那么要求<strong>必须</strong>对异常进行处理</p>
</li>
<li><p>如果父类的方法中没有声明异常，那么子类的方法中如果一定有Exception或Checked异常，要求子类必须使用try-catch处理，或者给父类加上异常的声明</p>
</li>
</ol>
<p>3.如果父类的异常是<code>RuntimeException</code>,那么子类可处理也可不处理</p>
<h5 id="3-2throw-抛出异常对象"><a href="#3-2throw-抛出异常对象" class="headerlink" title="3.2throw 抛出异常对象"></a>3.2throw 抛出异常对象</h5><p><strong>方法体中</strong>  在捕获一个异常前，必须有一段代码先生成异常对象并把它抛出，这个过程我们以手工做的，也可以由JRE实现，但是它们调用的都是throw子句</p>
<h5 id="3-3throws和throw区别"><a href="#3-3throws和throw区别" class="headerlink" title="3.3throws和throw区别"></a>3.3throws和throw区别</h5><ol>
<li><p>throws用于声明方法可能会产生的异常的类型</p>
<p>throw 手动抛出异常对象</p>
</li>
<li><p>throws 写在方法名称后面</p>
<p>throw用于写在 方法里</p>
</li>
</ol>
<h4 id="4-常见异常处理"><a href="#4-常见异常处理" class="headerlink" title="4  常见异常处理"></a>4  常见异常处理</h4><h5 id="4-1运行时异常"><a href="#4-1运行时异常" class="headerlink" title="4.1运行时异常"></a>4.1运行时异常</h5><p>1 算术异常  <code>ArtemExcetion</code></p>
<p>2 空指针异常 <code>NullPointerException</code></p>
<p>3 类型转换异常 <code>ClassCastException</code></p>
<p>4 数据下标越界 <code>ArrayIndexOutOfBoundsException</code></p>
<p>5 期望的数据类型与输入的数据类型不相匹配<code>InputMisMatchException</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.exception;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CommonAbnormal</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//1. 算术异常   ArithmeticException</span></span><br><span class="line">		<span class="keyword">int</span> a = <span class="number">10</span>;</span><br><span class="line">		<span class="keyword">int</span> b =<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">if</span>(b ==<span class="number">0</span> )&#123;</span><br><span class="line">			System.out.println(<span class="string">"除数不能为0"</span>);</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="keyword">int</span> c = a/b;</span><br><span class="line">			System.out.println(<span class="string">"c="</span>+c);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//2. 空指针异常 </span></span><br><span class="line">		String s = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">if</span>(s==<span class="keyword">null</span>)&#123;</span><br><span class="line">			System.out.println(<span class="string">"空指针"</span>);</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			System.out.println(s.charAt(<span class="number">0</span>));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//3. 类型转换</span></span><br><span class="line">		Animal d = <span class="keyword">new</span> Dog();<span class="comment">//向山类型转换</span></span><br><span class="line">		<span class="keyword">if</span>(d <span class="keyword">instanceof</span> Cat)&#123;</span><br><span class="line">			Cat c = (Cat)d;<span class="comment">//向下类型转换，转换成真实的子类对象</span></span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			System.out.println(<span class="string">"类型不匹配"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//4.数组下标越界</span></span><br><span class="line">		<span class="keyword">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line">		<span class="keyword">int</span> index = <span class="number">4</span>;</span><br><span class="line">		<span class="keyword">if</span>(index &gt; arr.length-<span class="number">1</span>)&#123;</span><br><span class="line">			System.out.println(<span class="string">"数组下标越界"</span>);</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			System.out.println(arr[index]+<span class="string">" "</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//5。 期望输入数据类型与输入的数据类型不匹配</span></span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(input.hasNextInt())&#123;</span><br><span class="line">			<span class="keyword">int</span> num = input.nextInt();</span><br><span class="line">			</span><br><span class="line">			System.out.println(<span class="string">"匹配成功 "</span>+ num);</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			System.out.println(<span class="string">"期望输入数据类型与输入的数据类型不匹配"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;	</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span>  <span class="title">Animal</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dog</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span> <span class="keyword">extends</span> <span class="title">Animal</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p><img src="http://www.zwer.xyz/images/%20disorder/1541131822768.png" alt="1541131822768"></p>
<h5 id="4-2-检查时异常-Checked-Exception"><a href="#4-2-检查时异常-Checked-Exception" class="headerlink" title="4.2 检查时异常 Checked Exception"></a>4.2 检查时异常 Checked Exception</h5><p>检查时异常，N多个程序在编译期间<strong>必须</strong>处理的异常</p>
<p>a <code>SQLException</code></p>
<p>b <code>IOException</code></p>
<p>c <code>ParseException</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">TestFile</span><span class="params">()</span></span>&#123;</span><br><span class="line">		<span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">		<span class="comment">//super.TestFile();</span></span><br><span class="line">		File f = <span class="keyword">new</span> File(<span class="string">"D:\\1.txt"</span>);</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			f.createNewFile();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br></pre></td></tr></table></figure>

<p>要求必须做处理：</p>
<ol>
<li>throws 向上声明</li>
<li>try-catch-finally</li>
</ol>
<h4 id="5-自定义异常"><a href="#5-自定义异常" class="headerlink" title="5 自定义异常"></a>5 自定义异常</h4><p>步骤：</p>
<p>1 继承<code>Exception</code>或 <code>RunTimeException</code></p>
<p>2 定义构造方法</p>
<ol start="3">
<li><p>使用异常</p>
<p>//创建<code>SexEeception</code>异常类，并添加构造方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.exception.defineException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SexException</span> <span class="keyword">extends</span> <span class="title">Exception</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">SexException</span><span class="params">()</span> </span>&#123;<span class="comment">//无参构造方法</span></span><br><span class="line">		<span class="keyword">super</span>();</span><br><span class="line">		<span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">SexException</span><span class="params">(String message)</span> </span>&#123;<span class="comment">//有参构造方法</span></span><br><span class="line">		<span class="keyword">super</span>(message);</span><br><span class="line">		<span class="comment">// TODO Auto-generated constructor stub</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>//测试<code>SexException</code>异常类</p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> cn.szxy.exception.defineException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestSexException</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		Scanner input = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		System.out.print(<span class="string">"请输入性别："</span>);</span><br><span class="line">		String sex = input.nextLine();</span><br><span class="line">		<span class="keyword">if</span>(sex.equals(<span class="string">"男"</span>)||sex.equals(<span class="string">"女"</span>))&#123;</span><br><span class="line">			System.out.println(<span class="string">"性别录入正确"</span>);</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				<span class="keyword">throw</span> <span class="keyword">new</span> SexException(<span class="string">"请输入男或女"</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (SexException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				<span class="comment">//e.printStackTrace();</span></span><br><span class="line">				System.err.println(<span class="string">"输入有误"</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果：</p>
<p>​                     <img src="http://www.zwer.xyz/images/%20disorder/1541132034543.png" alt="1541132034543"></p>
<p><img src="http://www.zwer.xyz/images/%20disorder/1541131988844.png" alt="1541131988844"></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://zwer.xyz/2018/08/24/Others/上传代码到github及所出现的问题/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zwer">
      <meta itemprop="description" content="记录学习的日常">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zwer 的博客空间">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/08/24/Others/上传代码到github及所出现的问题/" class="post-title-link" itemprop="url">上传代码到github及所出现的问题</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2018-08-24 14:28:44" itemprop="dateCreated datePublished" datetime="2018-08-24T14:28:44+08:00">2018-08-24</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-09-29 19:46:19" itemprop="dateModified" datetime="2018-09-29T19:46:19+08:00">2018-09-29</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="上传github所发现的问题"><a href="#上传github所发现的问题" class="headerlink" title="上传github所发现的问题"></a>上传github所发现的问题</h2><p><strong>准备工作</strong></p>
<p>使用git bush 输入下面的命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.email &quot;you@example.com&quot;</span><br><span class="line">git config --global user.name &quot;Your Name&quot;</span><br></pre></td></tr></table></figure>

<p><strong>上传代码到github的步骤：</strong></p>
<p>参考<a href="https://www.jianshu.com/p/c70ca3a02087" target="_blank" rel="noopener">两种方法上传本地文件到github</a></p>
<ol>
<li>新建一个文件夹 ，放入需要上传的代码文件</li>
<li>使用 git 进入到该文件夹下</li>
<li>执行  <code>git init</code></li>
<li>执行 <code>git add .</code> </li>
<li>执行  <code>git commit -m &quot;upload&quot;</code></li>
<li>执行  <code>git remote  add origin  https://github.com/yourname/yourrepository</code></li>
<li>执行 <code>git push -u origin master</code></li>
</ol>
<p><strong>使用 git push -u origin master 出现的问题</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> ! [rejected]        master -&gt; master (non-fast-forward)</span><br><span class="line">error: failed to push some refs to &apos;git@github.com:zweros/DataStructure.git&apos;</span><br><span class="line">hint: Updates were rejected because the tip of your current branch is behind</span><br><span class="line">hint: its remote counterpart. Integrate the remote changes (e.g.</span><br><span class="line">hint: &apos;git pull ...&apos;) before pushing again.</span><br><span class="line">hint: See the &apos;Note about fast-forwards&apos; in &apos;git push --help&apos; for details.</span><br></pre></td></tr></table></figure>

<p>然后按照网上的文章说 git pull origin master</p>
<p><strong>使用 git pull origin master 发现的问题</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*branch master -&gt; FETCH_HEAD</span><br><span class="line"></span><br><span class="line">fatal: refusing to merge unrelated histories</span><br></pre></td></tr></table></figure>

<p><strong>解决方案</strong></p>
<p><a href="https://stackoverflow.com/questions/50111060/fatal-refusing-to-merge-unrelated-histories-after-adding-git-remote" target="_blank" rel="noopener">参考stackoverflow</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">You need to either `reset` or `commit` your changes first:</span><br><span class="line"></span><br><span class="line">    git reset --hard</span><br><span class="line"></span><br><span class="line">or:</span><br><span class="line"></span><br><span class="line">    git commit -m &quot;saving changes...&quot;</span><br><span class="line"></span><br><span class="line">Then you can do:</span><br><span class="line"></span><br><span class="line">    git pull origin master --allow-unrelated-histories</span><br></pre></td></tr></table></figure>

<p><strong>最后终于能上传成功了</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git push -u origin master</span></span><br><span class="line">Enumerating objects: 204, done.</span><br><span class="line">Counting objects: 100% (204/204), done.</span><br><span class="line">Delta compression using up to 4 threads.</span><br><span class="line">Compressing objects: 100% (91/91), done.</span><br><span class="line">Writing objects: 100% (203/203), 2.65 MiB | 21.00 KiB/s, done.</span><br><span class="line">Total 203 (delta 111), reused 202 (delta 111)</span><br><span class="line">remote: Resolving deltas: 100% (111/111), done.</span><br><span class="line">To github.com:zweros/DataStructure.git</span><br><span class="line">   7838db7..e4721c9  master -&gt; master</span><br><span class="line">Branch 'master' set up to track remote branch 'master' from 'origin'.</span><br></pre></td></tr></table></figure>
        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://zwer.xyz/2018/08/19/Others/python 1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zwer">
      <meta itemprop="description" content="记录学习的日常">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zwer 的博客空间">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/08/19/Others/python 1/" class="post-title-link" itemprop="url">python学习之路</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2018-08-19 17:45:31" itemprop="dateCreated datePublished" datetime="2018-08-19T17:45:31+08:00">2018-08-19</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2018-09-29 19:45:15" itemprop="dateModified" datetime="2018-09-29T19:45:15+08:00">2018-09-29</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="python学习"><a href="#python学习" class="headerlink" title="python学习"></a>python学习</h2><p><strong>缩进是python的灵魂</strong></p>
<p>具有相同缩进量==代码块</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">age = 20</span><br><span class="line">if age &gt;= 18:</span><br><span class="line">    print &apos;your age is&apos;, age</span><br><span class="line">    print &apos;adult&apos;</span><br><span class="line">print &apos;END&apos;</span><br></pre></td></tr></table></figure>

<p>注:这是在python2.7版版本的环境中</p>
<p><strong>注意1:</strong><br> Python代码的缩进规则。具有相同缩进的代码被视为代码块，上面的3，4行 print 语句就构成一个代码块（但不包括第5行的print）。如果 if 语句判断为 True，就会执行这个代码块。<br>缩进请严格按照Python的习惯写法：4个空格，不要使用Tab，更不要混合Tab和空格，否则很容易造成因为缩进引起的语法错误。<br><strong>注意2:</strong><br> if 语句后接表达式，然后用:表示代码块开始。如果你在Python交互环境下敲代码，还要特别留意缩进，并且退出缩进需要多敲一行回车：<br><strong>注意3</strong><br>ifesle语句后面加冒号:而不是用小括号()</p>
<p>变量 = print()<br>变量 = 数据类型()<br>BIF == Built-in functions   内置函数<br>dir(<em>bultins</em>)                    查找函数<br>help(函数名)                  查看函数的用法</p>
<p>转义字符<br>\            →       <br>&#39;             →      ‘</p>
<p>若需要多个转义字符，用print r’’’ ‘’’<br> eg：打印Let’s go!</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span><span class="string">"Let's go！"</span></span><br><span class="line"><span class="number">2.</span><span class="string">'Let\'s go!'</span></span><br></pre></td></tr></table></figure>
        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
        <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block home">
    <link itemprop="mainEntityOfPage" href="http://zwer.xyz/2018/08/19/Others/myblog/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zwer">
      <meta itemprop="description" content="记录学习的日常">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zwer 的博客空间">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
            
            <a href="/2018/08/19/Others/myblog/" class="post-title-link" itemprop="url">My hexo blog</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2018-08-19 17:25:20 / Modified: 18:51:34" itemprop="dateCreated datePublished" datetime="2018-08-19T17:25:20+08:00">2018-08-19</time>
            </span>
          
            

            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a href="http://qjzhixing.com/2015/08/26/" target="_blank" rel="noopener">参考资料-hexo的搭建</a></p>
<p><strong>下载git和node.js</strong><br><a href="https://git-scm.com/" target="_blank" rel="noopener">git下载地址</a><br><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js下载地址</a></p>
<p><strong>安装Hexo</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install  -g hexo</span><br></pre></td></tr></table></figure>

<p>然后到在任意盘符下，新建一个文件夹hexo，C:/hexo<br>到该文件夹下，点击鼠标右击打开git bash，输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure>

<p><strong>安装依赖库</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure>

<p><strong>本地预览hexo博客网页</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<p><strong>配置github账户</strong><br>新建repository<br>形式：yourname/yourname.github.io<br>把<a href="https://yourname.github.io.git加入到hexo的配置文件_config.yml中" target="_blank" rel="noopener">https://yourname.github.io.git加入到hexo的配置文件_config.yml中</a></p>
<p>出现的问题：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br><span class="line">ERROR  Deployer not found：github</span><br></pre></td></tr></table></figure>

<p>把配置文件中的type类型从github修改为git</p>
<p>Hexo常用命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">hexo generate ==  hexo g    生成</span><br><span class="line">hexo server ==  hexo s      本地测试</span><br><span class="line">hexo deploy   ==   hexo d    发布</span><br><span class="line"></span><br><span class="line">hexo clean</span><br><span class="line">hexo d -g</span><br></pre></td></tr></table></figure>

<p>更换本地预览端口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server -p 5000 #更改端口</span><br></pre></td></tr></table></figure>

<p><a href="http://qjzhixing.com/2015/08/26/" target="_blank" rel="noopener">参考资料-hexo的搭建</a></p>
<p><strong>下载git和node.js</strong><br><a href="https://git-scm.com/" target="_blank" rel="noopener">git下载地址</a><br><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js下载地址</a></p>
<p><strong>安装Hexo</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install  -g hexo</span><br></pre></td></tr></table></figure>

<p>然后到在任意盘符下，新建一个文件夹hexo，C:/hexo<br>到该文件夹下，点击鼠标右击打开git bash，输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure>

<p><strong>安装依赖库</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure>

<p><strong>本地预览hexo博客网页</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>

<p><strong>配置github账户</strong><br>新建repository<br>形式：yourname/yourname.github.io<br>把<a href="https://yourname.github.io.git加入到hexo的配置文件_config.yml中" target="_blank" rel="noopener">https://yourname.github.io.git加入到hexo的配置文件_config.yml中</a></p>
<p><strong>出现的问题</strong>：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br><span class="line">ERROR  Deployer not found：github</span><br></pre></td></tr></table></figure>

<p>把配置文件中的type类型从github修改为git</p>
<p>Hexo常用命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">hexo generate ==  hexo g    生成</span><br><span class="line">hexo server ==  hexo s      本地测试</span><br><span class="line">hexo deploy   ==   hexo d    发布</span><br><span class="line"></span><br><span class="line">hexo clean</span><br><span class="line">hexo d -g</span><br></pre></td></tr></table></figure>

<p>更换本地预览端口</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server -p 5000 #更改端口</span><br></pre></td></tr></table></figure>

<p><strong>其他问题</strong></p>
<p>标签：tags的使用</p>
<p>在E:\hexo的目录下的_config.yml文件下添加新的标签tags<br>然后再.md文件就可以使用自己新定义的标签了。</p>
<pre><code>tags: [tag1，tag2，tag3]</code></pre>
        
      
    </div>

    
    
    
      <footer class="post-footer">
          <div class="post-eof"></div>
        
      </footer>
  </div>
  
  
  
  </article>

    
  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/7/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span>
  </nav>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">zwer</p>
  <div class="site-description" itemprop="description">记录学习的日常</div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">77</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">categories</span>
        
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
        <span class="site-state-item-count">52</span>
        <span class="site-state-item-name">tags</span>
        
      </div>
    
  </nav>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zwer</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.4.0</div>

        












        
      </div>
    </footer>
  </div>

  


  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.0"></script><script src="/js/motion.js?v=7.4.0"></script>
<script src="/js/schemes/muse.js?v=7.4.0"></script>
<script src="/js/next-boot.js?v=7.4.0"></script>



  





















  

  

  

</body>
</html>
