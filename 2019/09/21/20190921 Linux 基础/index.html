<!DOCTYPE html>





<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.4.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.4.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="Linux  基础Linux 开始虚拟机 Linux 准备工作Linux 安装步骤 选择稍后安装    网络类型选择 NAT    修改最大磁盘大小（这里最大磁盘大小指给虚拟机分配的，但不真正使用不是这么多）   注意： Linux 版本根据自己的Linux 版本选择。列如：我这用的是 CentOS-6.5-x86_64-minimal.iso， 所以选择 Linux 版本时选择时 Centos">
<meta name="keywords" content="zwer">
<meta property="og:type" content="article">
<meta property="og:title" content="20190921 Linux 基础">
<meta property="og:url" content="http://zwer.xyz/2019/09/21/20190921 Linux 基础/index.html">
<meta property="og:site_name" content="zwer 的博客空间">
<meta property="og:description" content="Linux  基础Linux 开始虚拟机 Linux 准备工作Linux 安装步骤 选择稍后安装    网络类型选择 NAT    修改最大磁盘大小（这里最大磁盘大小指给虚拟机分配的，但不真正使用不是这么多）   注意： Linux 版本根据自己的Linux 版本选择。列如：我这用的是 CentOS-6.5-x86_64-minimal.iso， 所以选择 Linux 版本时选择时 Centos">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190921110238.png">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190921110512.png">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190921110550.png">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190921110728.png">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190921110819.png">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190921111022.png">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190921111435.png">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190921111512.png">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190921111635.png">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190921111735.png">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190921111806.png">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190921111959.png">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190921112133.png">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190921112737.png">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190921112755.png">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190921112814.png">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190921140910.png">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190921145435.png">
<meta property="og:image" content="http://img.zwer.xyz/blog/20190923144107.png">
<meta property="og:updated_time" content="2019-10-08T03:30:44.033Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="20190921 Linux 基础">
<meta name="twitter:description" content="Linux  基础Linux 开始虚拟机 Linux 准备工作Linux 安装步骤 选择稍后安装    网络类型选择 NAT    修改最大磁盘大小（这里最大磁盘大小指给虚拟机分配的，但不真正使用不是这么多）   注意： Linux 版本根据自己的Linux 版本选择。列如：我这用的是 CentOS-6.5-x86_64-minimal.iso， 所以选择 Linux 版本时选择时 Centos">
<meta name="twitter:image" content="http://img.zwer.xyz/blog/20190921110238.png">
  <link rel="canonical" href="http://zwer.xyz/2019/09/21/20190921 Linux 基础/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>20190921 Linux 基础 | zwer 的博客空间</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">zwer 的博客空间</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">上善若水 自强不息</p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>
  </ul>

    

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
      <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block post">
    <link itemprop="mainEntityOfPage" href="http://zwer.xyz/2019/09/21/20190921 Linux 基础/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zwer">
      <meta itemprop="description" content="记录学习的日常">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zwer 的博客空间">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">20190921 Linux 基础

          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2019-09-21 00:00:00" itemprop="dateCreated datePublished" datetime="2019-09-21T00:00:00+08:00">2019-09-21</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2019-10-08 11:30:44" itemprop="dateModified" datetime="2019-10-08T11:30:44+08:00">2019-10-08</time>
              </span>
            
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Linux-基础"><a href="#Linux-基础" class="headerlink" title="Linux  基础"></a>Linux  基础</h1><h2 id="Linux-开始"><a href="#Linux-开始" class="headerlink" title="Linux 开始"></a>Linux 开始</h2><h3 id="虚拟机-Linux-准备工作"><a href="#虚拟机-Linux-准备工作" class="headerlink" title="虚拟机 Linux 准备工作"></a>虚拟机 Linux 准备工作</h3><h4 id="Linux-安装步骤"><a href="#Linux-安装步骤" class="headerlink" title="Linux 安装步骤"></a>Linux 安装步骤</h4><ul>
<li>选择稍后安装</li>
</ul>
<p><img src="http://img.zwer.xyz/blog/20190921110238.png" alt></p>
<ul>
<li>网络类型选择 NAT</li>
</ul>
<p><img src="http://img.zwer.xyz/blog/20190921110512.png" alt></p>
<ul>
<li>修改最大磁盘大小（这里最大磁盘大小指给虚拟机分配的，但不真正使用不是这么多）</li>
</ul>
<p><img src="http://img.zwer.xyz/blog/20190921110550.png" alt></p>
<p>注意： Linux 版本根据自己的Linux 版本选择。列如：我这用的是 CentOS-6.5-x86_64-minimal.iso，</p>
<p>所以选择 Linux 版本时选择时 Centos 64位</p>
<ul>
<li>添加 ISO 镜像文件，之后开启虚拟机即可<ol>
<li>选择编辑虚拟机设置</li>
</ol>
</li>
</ul>
<p><img src="http://img.zwer.xyz/blog/20190921110728.png" alt></p>
<p>​    2. 挂载 iso 镜像文件</p>
<p><img src="http://img.zwer.xyz/blog/20190921110819.png" alt></p>
<ul>
<li><p>虚拟机安装配置（若特殊说明，则选择默认即可）</p>
<ul>
<li><p>跳过磁盘检查，否则磁盘检查时间会很长</p>
<p><img src="http://img.zwer.xyz/blog/20190921111022.png" alt></p>
<ul>
<li><p>语言、键盘都选择英文即可。</p>
</li>
<li><p>选择第一个</p>
<p><img src="http://img.zwer.xyz/blog/20190921111435.png" alt></p>
</li>
<li><p>选择 yes，discard any data</p>
<p><img src="http://img.zwer.xyz/blog/20190921111512.png" alt></p>
</li>
<li><p>自定义 Linux 虚拟机名称</p>
<p><img src="http://img.zwer.xyz/blog/20190921111635.png" alt></p>
</li>
<li><p>选择时区</p>
<p><img src="http://img.zwer.xyz/blog/20190921111735.png" alt></p>
</li>
<li><p>密码设置要简单、透明（大家都知道的，不属于个人重要密码）</p>
<p><img src="http://img.zwer.xyz/blog/20190921111806.png" alt></p>
</li>
<li><p><strong>自定义磁盘分区</strong></p>
<p><img src="http://img.zwer.xyz/blog/20190921111959.png" alt></p>
</li>
</ul>
</li>
<li><p><img src="http://img.zwer.xyz/blog/20190921112133.png" alt></p>
</li>
<li><p><img src="http://img.zwer.xyz/blog/20190921112737.png" alt></p>
</li>
<li><p><img src="http://img.zwer.xyz/blog/20190921112755.png" alt></p>
</li>
<li><p><img src="http://img.zwer.xyz/blog/20190921112814.png" alt></p>
</li>
</ul>
</li>
</ul>
<p>注意事项：</p>
<ol>
<li>VM 安装选择自定义安装，便于之后的自定义硬件配置（如：磁盘大小等）</li>
<li>语言、键盘都选择英文</li>
<li>时区选择亚洲/上海</li>
<li>密码设置要简单透明</li>
<li>磁盘需要手动分区  boot（200MB） swap(2G) /(剩余所有)</li>
</ol>
<h4 id="Linux-静态-IP-设置"><a href="#Linux-静态-IP-设置" class="headerlink" title="Linux 静态 IP 设置"></a>Linux 静态 IP 设置</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 设置静态 IP </span><br><span class="line"><span class="meta">#</span> 编辑   vi   /etc/sysconfig/network-scripts/ifcfg-eth0 </span><br><span class="line">[root@node01 network-scripts]# cd /etc/sysconfig/network-scripts/</span><br><span class="line">[root@node01 network-scripts]# vi ifcfg-eth0 </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> ifcfg-eth0 网卡配置，使用打开后编辑，</span><br><span class="line"><span class="meta">#</span> ONBOOT=on 开机自启 </span><br><span class="line"><span class="meta">#</span> BOOTPROTO=static 表示 IP 使用静态IP</span><br><span class="line">DEVICE=eth0</span><br><span class="line">TYPE=Ethernet</span><br><span class="line">ONBOOT=yes</span><br><span class="line">NM_CONTROLLED=yes</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">IPADDR=192.168.170.101</span><br><span class="line">NETMASK=255.255.255.0</span><br><span class="line">GATEWAY=192.168.170.2</span><br><span class="line">DNS1=144.144.144.144</span><br><span class="line">DNS2=8.8.8.8</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 删除 rm -f 70-persistent-net.rules </span><br><span class="line"><span class="meta">#</span> 70-persistent-net.rules  该文件的作用是将 IP 地址与 MAC 地址绑定</span><br><span class="line">[root@node01 etc]# cd /etc/udev/rules.d/</span><br><span class="line">[root@node01 rules.d]# ll</span><br><span class="line">total 16</span><br><span class="line">-rw-r--r--. 1 root root 316 Nov 22  2013 60-raw.rules</span><br><span class="line">-rw-r--r--. 1 root root 789 Sep 21 19:33 70-persistent-cd.rules</span><br><span class="line">-rw-r--r--. 1 root root 420 Sep 21 19:28 70-persistent-net.rules</span><br><span class="line">-rw-r--r--. 1 root root  54 Dec  8  2011 99-fuse.rules</span><br><span class="line">[root@node01 rules.d]# rm -f 70-persistent-net.rules </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 关机 </span><br><span class="line">poweroff </span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 修改主机名</span><br><span class="line">[root@node01 ~]# vi /etc/sysconfig/network</span><br><span class="line"><span class="meta">#</span> 编辑 network 文件</span><br><span class="line">NETWORKING=yes</span><br><span class="line">HOSTNAME=node01</span><br></pre></td></tr></table></figure>

<h5 id="Linux-网络配置文件位置"><a href="#Linux-网络配置文件位置" class="headerlink" title="Linux 网络配置文件位置"></a>Linux 网络配置文件位置</h5><table>
<thead>
<tr>
<th>文件位置</th>
<th>文件作用说明</th>
</tr>
</thead>
<tbody><tr>
<td>/etc/sysconfig/network-scripts/ifcfg-eth0</td>
<td>配置静态 IP 地址</td>
</tr>
<tr>
<td>/etc/udev/rules.d/70-persistent-net.rules</td>
<td>将 IP 地址与 MAC 地址绑定</td>
</tr>
<tr>
<td>/etc/sysconfig/network</td>
<td>配置主机名</td>
</tr>
</tbody></table>
<h4 id="使用-VM-软件-记录快照"><a href="#使用-VM-软件-记录快照" class="headerlink" title="使用 VM 软件 记录快照"></a>使用 VM 软件 记录快照</h4><p><img src="http://img.zwer.xyz/blog/20190921140910.png" alt></p>
<h4 id="Linux-关机和重启命令"><a href="#Linux-关机和重启命令" class="headerlink" title="Linux 关机和重启命令"></a>Linux 关机和重启命令</h4><table>
<thead>
<tr>
<th>关机</th>
<th>重启</th>
</tr>
</thead>
<tbody><tr>
<td>poweroff</td>
<td>reboot</td>
</tr>
<tr>
<td>init 0</td>
<td>init 6</td>
</tr>
</tbody></table>
<h3 id="Linux-常用命令"><a href="#Linux-常用命令" class="headerlink" title="Linux 常用命令"></a>Linux 常用命令</h3><table>
<thead>
<tr>
<th>命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>ls</td>
<td>显示目录内容  ll –i</td>
</tr>
<tr>
<td>pwd</td>
<td>显示当前目录的绝对路径</td>
</tr>
<tr>
<td>cd</td>
<td>切换目录</td>
</tr>
<tr>
<td>mkdir</td>
<td>文件夹 -p    {}</td>
</tr>
<tr>
<td>cp</td>
<td>复制  -r</td>
</tr>
<tr>
<td>mv</td>
<td>移动</td>
</tr>
<tr>
<td>touch</td>
<td>创建文件夹、文件</td>
</tr>
<tr>
<td>type 命令名</td>
<td>查看指定命令的文件的存放位置 外部命令 &amp; 内部命令</td>
</tr>
<tr>
<td>cat</td>
<td>查看文件内容</td>
</tr>
<tr>
<td>file</td>
<td>查看文件详细信息 (ELF 表示二进制文件)</td>
</tr>
<tr>
<td>echo</td>
<td>回声，打印标椎输出 <br><code>echo $PATH 查看环境变量路径</code><br><code>echo $$  当前shell的PID</code></td>
</tr>
<tr>
<td>help</td>
<td>查看内部命令</td>
</tr>
<tr>
<td>man</td>
<td>查看外部命令命令</td>
</tr>
<tr>
<td>whereis</td>
<td>定位命令位置</td>
</tr>
<tr>
<td>hash</td>
<td>查看 hash 表</td>
</tr>
<tr>
<td>ps -ef</td>
<td>查看当前进程信息</td>
</tr>
<tr>
<td>df -h</td>
<td>显示文件系统使用情况[甩锅]</td>
</tr>
<tr>
<td>du -h</td>
<td>查看某种文件使用状况[甩锅]</td>
</tr>
<tr>
<td>mount/unmout</td>
<td>挂载/卸载磁盘文件</td>
</tr>
<tr>
<td>#### ls 命令 ####</td>
<td></td>
</tr>
</tbody></table>
<p>文件类型：<br>    -：普通文件 (f)<br>    d: 目录文件</p>
<p>​    b: 块设备文件 (block)<br>​    c: 字符设备文件 (character)</p>
<p>​    l: 符号链接文件(symbolic link file)</p>
<p>​    p: 命令管道文件(pipe)<br>​    s: 套接字文件(socket)<br>文件权限：9位，每3位一组，3组 权限（U,G,O）每一组：rwx(读，写，执行), r–<br>文件硬链接的次数<br>文件的属主(owner)<br>文件的属组(group)<br>文件大小(size)，单位是字节<br>时间戳(timestamp)：最近一次被修改的时间<br>​    访问:access<br>​    修改:modify，文件内容发生了改变<br>​    改变:change，metadata，元数据</p>
<p><strong>使用  ls 同时展示多个目录</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 god]# ls ~  /usr/local</span><br><span class="line">/root:</span><br><span class="line">anaconda-ks.cfg  install.log  install.log.syslog</span><br><span class="line"></span><br><span class="line">/usr/local:</span><br><span class="line">bin  etc  games  include  lib  lib64  libexec  sbin  share  src</span><br></pre></td></tr></table></figure>

<p><strong>使用 mkdir 命令同时创建多个文件夹</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 c]# mkdir Hello/&#123;a,b,c&#125;A -p</span><br><span class="line">[root@node01 c]# ll</span><br><span class="line">total 4</span><br><span class="line">drwxr-xr-x. 5 root root 4096 Sep 22 00:45 Hello</span><br><span class="line">[root@node01 c]# cd Hello</span><br><span class="line">[root@node01 Hello]# ll</span><br><span class="line">total 12</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Sep 22 00:45 aA</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Sep 22 00:45 bA</span><br><span class="line">drwxr-xr-x. 2 root root 4096 Sep 22 00:45 cA</span><br></pre></td></tr></table></figure>

<p><strong>查看文件系统和文件使用情况</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 /]# du -h /etc/udev</span><br><span class="line">4.0K	/etc/udev/makedev.d</span><br><span class="line">20K	/etc/udev/rules.d</span><br><span class="line">32K	/etc/udev</span><br><span class="line">[root@node01 /]# df -h </span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/sda3        97G  842M   91G   1% /</span><br><span class="line">tmpfs           491M     0  491M   0% /dev/shm</span><br><span class="line">/dev/sda1       194M   28M  157M  15% /boot</span><br><span class="line">/dev/sr0        398M  398M     0 100% /mnt</span><br></pre></td></tr></table></figure>

<p><strong>使用硬链接和软链接</strong></p>
<ul>
<li>硬链接类似于拷贝，即使原文件被删除了，硬链接生成文件仍可使用</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln --l  原文件名 硬链接文件名</span><br></pre></td></tr></table></figure>

<ul>
<li>软链接，原文件删除了，软链接生成文件不可使用</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s 原文件名 软链接文件名</span><br></pre></td></tr></table></figure>

<p>  <strong>安装 man 命令</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install man man-pages</span><br></pre></td></tr></table></figure>

<h4 id="Linux命令执行流程"><a href="#Linux命令执行流程" class="headerlink" title="Linux命令执行流程"></a>Linux命令执行流程</h4><p>​        用户通过客户端命令行输入命令以及命令参数， bash 解释器会根据空白符切割，得到的第一个元素，作为命令 command。通过判断该 command 命令是外部命令还是内部命令，若内部命令，则由 bash 执行器直接执行。若是外部命令，则 根据 $PATH 中给定的目录中从左向右寻找该命令文件的可执行程序文件，然后由 bash 执行器执行。</p>
<p><img src="http://img.zwer.xyz/blog/20190921145435.png" alt></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 ~]# type ls</span><br><span class="line">ls is aliased to `ls --color=auto'</span><br><span class="line">[root@node01 ~]# type -a ls</span><br><span class="line">ls is aliased to `ls --color=auto'</span><br><span class="line">ls is /bin/ls</span><br><span class="line">[root@node01 ~]# type ifconfig</span><br><span class="line">ifconfig is /sbin/ifconfig</span><br><span class="line">[root@node01 ~]# file /sbin/ifconfig</span><br><span class="line">/sbin/ifconfig: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.18, stripped</span><br><span class="line">[root@node01 ~]# echo $PATH</span><br><span class="line">/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin:/root/bin</span><br><span class="line">[root@node01 ~]# type yum</span><br><span class="line">yum is hashed (/usr/bin/yum)</span><br><span class="line">[root@node01 ~]# file /usr/bin/yum</span><br><span class="line">/usr/bin/yum: a /usr/bin/python script text executable</span><br></pre></td></tr></table></figure>

<p>小技巧：使用 xshell 登录 Linux  ssh root:<a href="mailto:123456@192.168.170.101" target="_blank" rel="noopener">123456@192.168.170.101</a></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh 用户名:密码@IP地址</span><br></pre></td></tr></table></figure>

<h3 id="Linux-文件系统"><a href="#Linux-文件系统" class="headerlink" title="Linux 文件系统"></a>Linux 文件系统</h3><h4 id="boot-目录的挂载与卸载"><a href="#boot-目录的挂载与卸载" class="headerlink" title="boot 目录的挂载与卸载"></a>boot 目录的挂载与卸载</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 /]# umount /boot</span><br><span class="line">[root@node01 /]# df -h</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/sda3        97G  842M   91G   1% /</span><br><span class="line">tmpfs           491M     0  491M   0% /dev/shm</span><br><span class="line">[root@node01 /]# mount /dev/sda1 /boot</span><br><span class="line">[root@node01 /]# df -h</span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/sda3        97G  842M   91G   1% /</span><br><span class="line">tmpfs           491M     0  491M   0% /dev/shm</span><br><span class="line">/dev/sda1       194M   28M  157M  15% /boot</span><br></pre></td></tr></table></figure>

<h4 id="File-System-Hierarchy-Standard"><a href="#File-System-Hierarchy-Standard" class="headerlink" title="File System Hierarchy Standard"></a>File System Hierarchy Standard</h4><blockquote>
<p> 文件系统层次化标准</p>
</blockquote>
<table>
<thead>
<tr>
<th>目录</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>/boot</td>
<td>系统启动相关的文件，如内核、initrd，以及grub(bootloader)</td>
</tr>
<tr>
<td>/dev</td>
<td>设备文件</td>
</tr>
<tr>
<td>/etc</td>
<td>配置文件</td>
</tr>
<tr>
<td>/home</td>
<td>用户的家目录，每一个用户的家目录通常默认为/home/USERNAME</td>
</tr>
<tr>
<td>/root</td>
<td>管理员的家目录</td>
</tr>
<tr>
<td>/lib</td>
<td>库文件</td>
</tr>
<tr>
<td>/media</td>
<td>挂载点目录，移动设备</td>
</tr>
<tr>
<td>/mnt</td>
<td>挂载点目录，额外的临时文件系统</td>
</tr>
<tr>
<td>/opt</td>
<td>可选目录，第三方程序的安装目录</td>
</tr>
<tr>
<td>/proc</td>
<td>伪文件系统，跟硬件设备相关的属性映射文件</td>
</tr>
<tr>
<td>/sys</td>
<td>临时文件， /var/tmp</td>
</tr>
<tr>
<td>/tmp</td>
<td>可变化的文件</td>
</tr>
<tr>
<td>/bin</td>
<td>可执行文件， 用户命令</td>
</tr>
<tr>
<td>/sbin</td>
<td>管理命令</td>
</tr>
</tbody></table>
<p><strong>系统启动必须：</strong></p>
<ul>
<li><p><strong>/boot：</strong>存放的启动Linux 时使用的内核文件，包括连接文件以及镜像文件。</p>
</li>
<li><p><strong>/etc：</strong>存放<strong>所有</strong>的系统需要的<strong>配置文件</strong>和<strong>子目录列表，</strong>更改目录下的文件可能会导致系统不能启动。</p>
</li>
<li><p><strong>/lib</strong>：存放基本代码库（比如c++库），其作用类似于Windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。</p>
</li>
<li><p><strong>/sys</strong>： 这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统 sysfs 。sysfs文件系统集成了下面3种文件系统的信息：针对进程信息的proc文件系统、针对设备的devfs文件系统以及针对伪终端的devpts文件系统。该文件系统是内核设备树的一个直观反映。当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中</p>
</li>
</ul>
<p><strong>指令集合：</strong></p>
<ul>
<li><p><strong>/bin：</strong>存放着最常用的程序和指令</p>
</li>
<li><p><strong>/sbin：</strong>只有系统管理员能使用的程序和指令。</p>
</li>
</ul>
<p><strong>外部文件管理：</strong></p>
<ul>
<li><p><strong>/dev ：</strong>Device(设备)的缩写, 存放的是Linux的外部设备。<strong>注意：</strong>在Linux中访问设备和访问文件的方式是相同的。</p>
</li>
<li><p><strong>/media</strong>：类windows的<strong>其他设备，</strong>例如U盘、光驱等等，识别后linux会把设备放到这个目录下。</p>
</li>
<li><p><strong>/mnt</strong>：临时挂载别的文件系统的，我们可以将光驱挂载在/mnt/上，然后进入该目录就可以查看光驱里的内容了。</p>
</li>
</ul>
<p><strong>临时文件：</strong></p>
<ul>
<li><p><strong>/run</strong>：是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被删掉或清除。如果你的系统上有 /var/run 目录，应该让它指向 run。</p>
</li>
<li><p><strong>/lost+found</strong>：一般情况下为空的，系统非法关机后，这里就存放一些文件。</p>
</li>
<li><p><strong>/tmp</strong>：这个目录是用来存放一些临时文件的。</p>
</li>
</ul>
<p><strong>账户：</strong></p>
<ul>
<li><p><strong>/root</strong>：系统管理员的用户主目录。</p>
</li>
<li><p><strong>/home</strong>：用户的主目录，以用户的账号命名的。</p>
</li>
<li><p><strong>/usr</strong>：用户的很多应用程序和文件都放在这个目录下，类似于windows下的program files目录。</p>
</li>
<li><p><strong>/usr/bin：</strong>系统用户使用的应用程序与指令。</p>
</li>
<li><p><strong>/usr/sbin：</strong>超级用户使用的比较高级的管理程序和系统守护程序。</p>
</li>
<li><p><strong>/usr/src：</strong>内核源代码默认的放置目录。</p>
</li>
</ul>
<p><strong>运行过程中要用：</strong></p>
<ul>
<li><p><strong>/var</strong>：存放经常修改的数据，比如程序运行的日志文件（/var/log 目录下）。</p>
</li>
<li><p><strong>/proc</strong>：管理<strong>内存空间！</strong>虚拟的目录，是系统内存的映射，我们可以直接访问这个目录来，获取系统信息。这个目录的内容不在硬盘上而是在内存里，我们也可以直接修改里面的某些文件来做修改。</p>
</li>
</ul>
<p><strong>扩展用的：</strong></p>
<ul>
<li><p><strong>/opt</strong>：默认是空的，我们安装额外软件可以放在这个里面。</p>
</li>
<li><p><strong>/srv</strong>：存放服务启动后需要提取的数据<strong>（不用服务器就是空）</strong> </p>
</li>
</ul>
<p><strong>挂载 cdrom 到 /mnt 目录下</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/cdrom  /mnt</span><br></pre></td></tr></table></figure>

<h3 id="文本操作命令"><a href="#文本操作命令" class="headerlink" title="文本操作命令"></a>文本操作命令</h3><table>
<thead>
<tr>
<th>command</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>cat</td>
<td>显示全部文本文件内容</td>
</tr>
<tr>
<td>more</td>
<td>逐页显示文本文件内容</td>
</tr>
<tr>
<td>less</td>
<td>一次性读取全部文件内容，相比more，可以往回看</td>
</tr>
<tr>
<td>head</td>
<td>显示前 n 行的内容</td>
</tr>
<tr>
<td>tail</td>
<td>显示后 n 行的内容</td>
</tr>
<tr>
<td>|</td>
<td>管道</td>
</tr>
<tr>
<td>xargs</td>
<td></td>
</tr>
</tbody></table>
<p><strong>使用 head 和 tail 命令遍历每行</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 god]# cat profile | head -3 | tail -1</span><br><span class="line"># System wide environment and startup programs, for login setup</span><br></pre></td></tr></table></figure>

<p><strong>xargs 用法</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 god]# echo "/"  |xargs ls -l</span><br><span class="line">total 90</span><br><span class="line">dr-xr-xr-x.  2 root root  4096 Sep 21 19:29 bin</span><br><span class="line">dr-xr-xr-x.  5 root root  1024 Sep 21 19:29 boot</span><br><span class="line">drwxr-xr-x. 18 root root  3680 Sep 21 22:21 dev</span><br><span class="line"><span class="meta">#</span> ....</span><br></pre></td></tr></table></figure>

<h3 id="vi-全屏文本编辑器"><a href="#vi-全屏文本编辑器" class="headerlink" title="vi 全屏文本编辑器"></a>vi 全屏文本编辑器</h3><h4 id="打开方式"><a href="#打开方式" class="headerlink" title="打开方式"></a>打开方式</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim /path/to/somefile</span><br><span class="line">vim +# :打开文件，并定位于第#行 </span><br><span class="line">vim +：打开文件，定位至最后一行</span><br><span class="line">vim +/PATTERN : 打开文件，定位至第一次被PATTERN匹配到的行的行首</span><br></pre></td></tr></table></figure>

<h4 id="关闭文件"><a href="#关闭文件" class="headerlink" title="关闭文件"></a>关闭文件</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">末行模式：</span><br><span class="line">:q  退出  没有动过文件 </span><br><span class="line">:wq 保存并退出   动过了，不后悔</span><br><span class="line">:q! 不保存并退出  动过了，后悔了</span><br><span class="line">:w 保存</span><br><span class="line">:w! 强行保存</span><br><span class="line">:wq --&gt; :x</span><br><span class="line"></span><br><span class="line">ZZ: 保存并退出   不需要冒号，编辑模式   # 重点*</span><br></pre></td></tr></table></figure>

<h4 id="三种模式"><a href="#三种模式" class="headerlink" title="三种模式"></a>三种模式</h4><p>按键具有编辑文本功能：默认打开进入编辑模式<br>输入模式：按键本身意义<br>末行模式：接受用户命令输入</p>
<ul>
<li><p><strong>编辑模式</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>编辑--&gt;输入：</span><br><span class="line">	i: 在当前光标所在字符的前面，转为输入模式；*</span><br><span class="line">	a: 在当前光标所在字符的后面，转为输入模式；*</span><br><span class="line"></span><br><span class="line">	o: 在当前光标所在行的下方，新建一行，并转为输入模式；</span><br><span class="line">	O：在当前光标所在行的上方，新建一行，并转为输入模式；	</span><br><span class="line">	I：在当前光标所在行的行首，转换为输入模式</span><br><span class="line">	A：在当前光标所在行的行尾，转换为输入模式</span><br><span class="line">	输入--&gt;编辑：</span><br><span class="line">ESC</span><br><span class="line"><span class="meta">#</span>编辑--&gt;末行：</span><br><span class="line">：</span><br><span class="line"><span class="meta">#</span>末行--&gt;编辑：</span><br><span class="line">ESC, ESC</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>移动光标</span><br><span class="line">字符</span><br><span class="line">h: 左；j: 下；k: 上；l: 右</span><br><span class="line"><span class="meta">#</span> 单词</span><br><span class="line">w: 移至下一个单词的词首*</span><br><span class="line">e: 跳至当前或下一个单词的词尾</span><br><span class="line">b: 跳至当前或前一个单词的词首</span><br><span class="line"><span class="meta">#</span> 行内</span><br><span class="line">0: 绝对行首</span><br><span class="line">^: 行首的第一个非空白字符*</span><br><span class="line"><span class="meta">$</span>: 绝对行尾*</span><br><span class="line"><span class="meta">#</span> 行间</span><br><span class="line">G:文章末尾</span><br><span class="line">3G:第3行</span><br><span class="line">gg:文章开头</span><br><span class="line"><span class="meta">#</span> 翻屏</span><br><span class="line">ctrl：f，b</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 删除&amp;替换单个字符</span><br><span class="line">x:删除光标位置字符</span><br><span class="line">3x:删除光标开始3个字符</span><br><span class="line">r:替换光标位置字符</span><br><span class="line"><span class="meta">#</span> 删除命令 ： d </span><br><span class="line">dw，dd</span><br><span class="line"><span class="meta">#</span> 复制粘贴&amp;剪切	</span><br><span class="line">yw(复制一个词)，yy（复制一行）</span><br><span class="line">p（向下粘贴）</span><br><span class="line">P(向上粘贴)</span><br><span class="line"><span class="meta">#</span> 撤销&amp;重做</span><br><span class="line">u   撤销*</span><br><span class="line">ctrl+r  重做 撤销的操作*</span><br><span class="line"></span><br><span class="line">.  重复上一步的操作</span><br></pre></td></tr></table></figure>
</li>
<li><p>末行模式 （进入末行模式 shirt+: ）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">set：设置</span><br><span class="line">set nu  number</span><br><span class="line">set nonu nonumber</span><br><span class="line">set readonly</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/：查找</span><br><span class="line">/after</span><br><span class="line">n(向下查找)，N（向上查找）</span><br><span class="line">？向上查找</span><br><span class="line">！：执行命令</span><br><span class="line">:!ls -l /</span><br><span class="line"></span><br><span class="line">s查找并替换</span><br><span class="line">s/str1/str2/gi</span><br><span class="line">/：临近s命令的第一个字符为边界字符：/，@，#</span><br><span class="line">g：一行内全部替换（若没有选择，则替换当前行的第一个替换）</span><br><span class="line">i：忽略大小写</span><br><span class="line">范围</span><br><span class="line">n：行号</span><br><span class="line">.：当前光标行</span><br><span class="line">+n：偏移n行</span><br><span class="line"><span class="meta">$</span>：末尾行，$-3</span><br><span class="line"><span class="meta">%</span>：全文</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 替换查找从当前光标处，到文件末尾处</span><br><span class="line">eg: .,$s/str1/str2/gi</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="末行模式小技巧"><a href="#末行模式小技巧" class="headerlink" title="末行模式小技巧"></a>末行模式小技巧</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">编辑模式下 ：</span><br><span class="line">:Gd  清空内容</span><br><span class="line">:.,$d 删除从当前光标到末尾所有行</span><br><span class="line">:n,md 删除从第 n 行到 m 行的所有内容</span><br><span class="line">:n,my 复制从第 n 行到 m 行的所有内容</span><br></pre></td></tr></table></figure>

<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">grep：显示匹配行</span><br><span class="line">- v：反显示</span><br><span class="line">- e：使用扩展正则表达式</span><br><span class="line"></span><br><span class="line">匹配操作符</span><br><span class="line">\                  转义字符</span><br><span class="line">. 	                 匹配任意单个字符</span><br><span class="line">[1249a]，[^12],[a-k]  字符序列单字符占位</span><br><span class="line">^                 行首</span><br><span class="line">$                  行尾</span><br><span class="line">\&lt;,\&gt;：\&lt;abc           单词首尾边界*</span><br><span class="line">|                   连接操作符</span><br><span class="line">(,)              选择操作符</span><br><span class="line">\n    	     反向引用</span><br><span class="line"></span><br><span class="line">重复操作符：</span><br><span class="line">?      	匹配0到1次。</span><br><span class="line">*      	匹配0到多次。</span><br><span class="line">+     	匹配1到多次。</span><br><span class="line">&#123;n&#125;   	匹配n次。</span><br><span class="line">&#123;n,&#125;  	匹配n到多次。</span><br><span class="line">&#123;n,m&#125;      匹配n到m次。</span><br><span class="line">与扩展正则表达式的区别:grep basic</span><br><span class="line">\?, \+, \&#123;, \|, \(, and \)</span><br><span class="line">匹配任意字符</span><br><span class="line">.*</span><br></pre></td></tr></table></figure>

<p><strong>注意：在未扩展正则表达式时，若匹配规则中含有 ？,+,{,},|,(,) ,都需要通过 \ 转义，否则匹配不到</strong></p>
<p><strong>查询文章中包括4位整数的行</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -E  &quot;([^0-9][0-9]|^[0-9])([0-9]&#123;2&#125;)([0-9][^0-9]|[0-9]$)&quot;  grep.txt</span><br></pre></td></tr></table></figure>

<p><strong>查看指定单词</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep “\&lt;单词名\&gt;”  file</span><br></pre></td></tr></table></figure>

<p><strong>反向引用</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 god]# grep  -E ".*(god).*(good).*\2.*\1" test</span><br><span class="line">asgodssgoodsssagoodssgod</span><br><span class="line">[root@node01 god]# grep  -E ".*(god).*(good).*\1.*\2" test</span><br><span class="line">asgodssgoodsssagodssgood</span><br></pre></td></tr></table></figure>

<h2 id="文本处理"><a href="#文本处理" class="headerlink" title="文本处理"></a>文本处理</h2><h4 id="cut-命令"><a href="#cut-命令" class="headerlink" title="cut 命令"></a>cut 命令</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cut：显示切割的行数据</span><br><span class="line">f：选择显示的列</span><br><span class="line">s：不显示没有分隔符的行</span><br><span class="line">d：自定义分隔符</span><br></pre></td></tr></table></figure>

<p>测试</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 god]# cut -d' ' -s  -f1-3 grep.txt </span><br><span class="line">ooxx 12121212</span><br><span class="line">oox 12121212</span><br><span class="line">1212 ooxx 1212</span><br><span class="line">[root@node01 god]# cut -d' ' -f1,2,3 grep.txt </span><br><span class="line">ooxx12121212ooxx</span><br><span class="line">ooxx 12121212</span><br><span class="line">oox 12121212</span><br><span class="line">1212 ooxx 1212</span><br><span class="line">oo3xx</span><br><span class="line">oo4xx</span><br><span class="line">ooWxx</span><br><span class="line">oomxx</span><br><span class="line"><span class="meta">$</span>ooxx</span><br><span class="line">oo1234xx</span><br><span class="line">ooxyzxx</span><br></pre></td></tr></table></figure>

<h4 id="sort命令"><a href="#sort命令" class="headerlink" title="sort命令"></a>sort命令</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sort：排序文件的行</span><br><span class="line">n：按数值排序</span><br><span class="line">r：倒序</span><br><span class="line">t：自定义分隔符</span><br><span class="line">k：选择排序列</span><br><span class="line">u：合并相同行</span><br><span class="line">f：忽略大小写</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 god]# sort  -k2 -n -r  fruits.txt </span><br><span class="line">orange--27</span><br><span class="line">banana--15</span><br><span class="line">apple--20</span><br><span class="line">apple--20</span><br><span class="line">[root@node01 god]# sort  -k2 -n -r fruits.txt</span><br></pre></td></tr></table></figure>

<h4 id="wc-命令"><a href="#wc-命令" class="headerlink" title="wc 命令"></a>wc 命令</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wc 打印每个文件的换行数、单词数和字节数</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 god]# wc fruits.txt </span><br><span class="line"> 4  4 42 fruits.txt</span><br><span class="line">[root@node01 god]# cat fruits.txt | wc</span><br><span class="line">      4       4      42</span><br><span class="line">[root@node01 god]# cat fruits.txt | wc -l</span><br><span class="line">4</span><br></pre></td></tr></table></figure>

<p><strong>统计当前目录中文件的个数</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls ./ | wc</span><br></pre></td></tr></table></figure>

<h3 id="行编辑器"><a href="#行编辑器" class="headerlink" title="行编辑器"></a>行编辑器</h3><h4 id="sed-命令"><a href="#sed-命令" class="headerlink" title="sed 命令"></a>sed 命令</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">sed [options] 'AddressCommand' file ...</span><br><span class="line">	-n: 静默模式，不再默认显示模式空间中的内容</span><br><span class="line">	-i: 直接修改原文件*</span><br><span class="line">	-e SCRIPT -e SCRIPT:可以同时执行多个脚本</span><br><span class="line">	-f /PATH/TO/SED_SCRIPT</span><br><span class="line">	-r: 表示使用扩展正则表达式*</span><br><span class="line">	</span><br><span class="line">d: 删除符合条件的行；</span><br><span class="line">p: 显示符合条件的行；</span><br><span class="line">a \string: 在指定的行后面追加新行，内容为string*</span><br><span class="line">\n：可以用于换行</span><br><span class="line">i \string: 在指定的行前面添加新行，内容为string*</span><br><span class="line">r FILE: 将指定的文件的内容添加至符合条件的行处</span><br><span class="line">w FILE: 将地址指定的范围内的行另存至指定的文件中; </span><br><span class="line">s/pattern/string/修饰符: 查找并替换，默认只替换每行中第一次被模式匹配到的字符串*</span><br><span class="line">g: 行内全局替换</span><br><span class="line">i: 忽略字符大小写</span><br><span class="line">s///: s###, s@@@	</span><br><span class="line">	\(\), \1, \2   *</span><br><span class="line"></span><br><span class="line">sed：行编辑器Address</span><br><span class="line">可以没有 </span><br><span class="line">给定范围</span><br><span class="line">查找指定行/str/</span><br></pre></td></tr></table></figure>

<p><strong>模糊匹配指定行，并替换</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> id:9:initdefault:</span><br><span class="line"></span><br><span class="line">sed "s/\(id:\)[0-9]\(:initdefault:\)/\19\2/" inittab</span><br></pre></td></tr></table></figure>

<p><strong>模糊匹配 IP 地址，并替换最后的主机号</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sed <span class="string">"s/\(IPADDR=\(\([0-9]\|[1-9][0-9]\|1[0-9][0-9]\|2[0-4][0-9]\|25[0-5]\)\.\)\&#123;3\&#125;\).*/\1144/"</span> ifcfg-eth0</span><br><span class="line"></span><br><span class="line">[root@node01 god]<span class="comment"># num=100</span></span><br><span class="line">[root@node01 god]<span class="comment"># sed "s/\(IPADDR=\(\([0-9]\|[1-9][0-9]\|1[0-9][0-9]\|2[0-4][0-4]\|25[0-5]\)\.\)\&#123;3\&#125;\).*/\1$num/"  -i ifcfg-eth0</span></span><br></pre></td></tr></table></figure>

<p>注意： <code>\.</code> 表示真实的点，不作为正则匹配中任意字符</p>
<h4 id="awk-命令"><a href="#awk-命令" class="headerlink" title="awk 命令"></a>awk 命令</h4><blockquote>
<p>awk是一个强大的文本分析工具。<br>相对于grep的查找，sed的编辑，awk在其对数据分析并生成报告时，显得尤为强大。<br>简单来说awk就是把文件逐行的读入，（空格，制表符）为默认分隔符将每行切片，切开的部分再进行各种分析处理。</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">awk -F '&#123;pattern + action&#125;' &#123;filenames&#125;</span><br><span class="line">支持自定义分隔符</span><br><span class="line">支持正则表达式匹配</span><br><span class="line">支持自定义变量，数组  a[1]  a[tom]  map(key)</span><br><span class="line">支持内置变量</span><br><span class="line">ARGC               命令行参数个数</span><br><span class="line">ARGV               命令行参数排列</span><br><span class="line">ENVIRON            支持队列中系统环境变量的使用</span><br><span class="line">FILENAME           awk浏览的文件名</span><br><span class="line">FNR                浏览文件的记录数</span><br><span class="line">FS                 设置输入域分隔符，等价于命令行 -F选项</span><br><span class="line">NF                 浏览记录的域的个数*</span><br><span class="line">NR                 已读的记录数*</span><br><span class="line">OFS                输出域分隔符</span><br><span class="line">ORS                输出记录分隔符</span><br><span class="line">RS                 控制记录分隔符</span><br><span class="line">支持函数</span><br><span class="line">print、split、substr、sub、gsub</span><br><span class="line">支持流程控制语句，类C语言</span><br><span class="line">if、while、do/while、for、break、continue</span><br><span class="line"><span class="meta">#</span>--------------------------------------------------------------------------------#</span><br><span class="line">只是显示/etc/passwd的账户:CUT</span><br><span class="line">awk -F':' '&#123;print $1&#125;' passwd</span><br><span class="line">只是显示/etc/passwd的账户和账户对应的shell,而账户与shell之间以逗号分割,而且在所有行开始前添加列名name,shell,在最后一行添加"blue,/bin/nosh"（cut，sed）</span><br><span class="line">awk -F':' 'BEGIN&#123;print "name,shell"&#125; &#123;print $1 "," $7&#125; END&#123;print "blue,/bin/nosh"&#125;' passwd</span><br><span class="line">搜索/etc/passwd有root关键字的所有行</span><br><span class="line">awk  '/root/ &#123; print $0&#125;'   passwd</span><br></pre></td></tr></table></figure>

<p>注意：</p>
<ol>
<li><p><code>$0 表示一整行内容</code></p>
</li>
<li><p>代码块{} 外加单引号，不能是双引号，即 <code>&#39;{}&#39;</code></p>
</li>
<li><p>awk 默认以空白、TAB作为分隔符 delimiter，即若以空白、TAB为分隔号，不需要指定 <code>-F</code>参数</p>
</li>
</ol>
<p><strong>统计/etc/passwd文件中，每行的行号，每行的列数，对应的完整行内容</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">awk -F":" 'BEGIN&#123; print "NR\tNF\tContent" &#125; &#123;print NR "\t" NF "\t" $0 &#125;' passwd </span><br><span class="line"><span class="meta">#</span> 结果</span><br><span class="line">NR	NF	Content</span><br><span class="line">1	7	root:x:0:0:root:/root:/bin/bash</span><br><span class="line">2	7	bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">3	7	daemon:x:2:2:daemon:/sbin:/sbin/nologin</span><br><span class="line"><span class="meta">#</span> ....</span><br></pre></td></tr></table></figure>

<p><strong>打印报表功能</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> awk.txt</span><br><span class="line">Tom	     0   2012-12-11      car     3000</span><br><span class="line">John	 1   2013-01-13      bike    1000</span><br><span class="line">vivi	 1   2013-01-18      car     2800</span><br><span class="line">Tom	     0   2013-01-20      car     2500</span><br><span class="line">John	 1   2013-01-28      bike    3500</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> awk.sh</span><br><span class="line">&#123;</span><br><span class="line">        split($3,date,"-")</span><br><span class="line">        if(date[2] == "01")&#123;</span><br><span class="line">                name[$1] += $5  #把名字作为数组下标，对应的value为工资</span><br><span class="line">        &#125;</span><br><span class="line">        if($2 == "0")&#123;</span><br><span class="line">                role[$1] = "manager"</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">                role[$1] = "worker"</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">END&#123;</span><br><span class="line">        for (i in name)&#123;</span><br><span class="line">                print i "\t" role[i] "\t" name[i]</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>  使用</span><br><span class="line">[root@node01 god]# awk -f awk.sh awk.txt </span><br><span class="line">vivi	worker	2800</span><br><span class="line">Tom	manager	2500</span><br><span class="line">John	worker	4500</span><br></pre></td></tr></table></figure>

<h2 id="Linux-用户管理"><a href="#Linux-用户管理" class="headerlink" title="Linux 用户管理"></a>Linux 用户管理</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>id</td>
<td>打印输出有效用户的自身的ID 和 所在组的 ID</td>
</tr>
<tr>
<td>useradd</td>
<td>添加用户</td>
</tr>
<tr>
<td>userdel</td>
<td>删除用户</td>
</tr>
<tr>
<td>groupadd</td>
<td>添加组</td>
</tr>
<tr>
<td>groupdel</td>
<td>删除组</td>
</tr>
<tr>
<td>passwd</td>
<td>设置或修改密码</td>
</tr>
<tr>
<td>sudo *</td>
<td>提升权限</td>
</tr>
<tr>
<td>su</td>
<td>切换用户</td>
</tr>
</tbody></table>
<p><strong>删除用户</strong></p>
<p>若要删除用户，再创建同名用户，需要在创建前删除原 /home 目录和 /var/mail 目录下的内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 /]# userdel god</span><br><span class="line">[root@node01 /]# useradd god</span><br><span class="line">useradd: warning: the home directory already exists.</span><br><span class="line">Not copying any file from skel directory into it.</span><br><span class="line">Creating mailbox file: File exists</span><br><span class="line">[root@node01 /]# rm -rf /home/god/</span><br><span class="line">[root@node01 /]# useradd god</span><br><span class="line">useradd: user 'god' already exists</span><br><span class="line">[root@node01 /]# rm -fr /var/</span><br><span class="line">cache/    empty/    lib/      lock/     mail/     opt/      run/      tmp/      </span><br><span class="line">db/       games/    local/    log/      nis/      preserve/ spool/    yp/       </span><br><span class="line">[root@node01 /]# rm -fr /var/mail/god </span><br><span class="line">[root@node01 /]# useradd god</span><br></pre></td></tr></table></figure>

<h4 id="权限"><a href="#权限" class="headerlink" title="权限"></a>权限</h4><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>r</td>
<td>读权限 r=4</td>
</tr>
<tr>
<td>w</td>
<td>写权限 w=2</td>
</tr>
<tr>
<td>x</td>
<td>可执行权限 x=1</td>
</tr>
<tr>
<td>usermod</td>
<td>修改用户权限</td>
</tr>
<tr>
<td>chown</td>
<td>修改文件的属主和属组</td>
</tr>
<tr>
<td>chmod</td>
<td>修改文件操作权限 (RWX)  augo</td>
</tr>
</tbody></table>
<p>注意： </p>
<ol>
<li><p>一个文件只能有一个属主和一个属组</p>
</li>
<li><p><strong>文件夹的执行权限 x ，表示用户是否可以进入到该文件夹下</strong></p>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">useradd sxt01</span><br><span class="line">passwd sxt01</span><br><span class="line">useradd sxt02</span><br><span class="line">passwd sxt02</span><br><span class="line"></span><br><span class="line">mkdir /var/swapdata</span><br><span class="line">1,权限修正：</span><br><span class="line">chmod  770  swapdata   |  chmod  o-rwx g+rwx   swapdata</span><br><span class="line">2,修正属组</span><br><span class="line">groupadd sxtswap</span><br><span class="line">usermod -a -G sxtswap sxt01</span><br><span class="line">usermod -a -G sxtswap sxt02</span><br><span class="line">chown  root:sxtswap swapdata</span><br><span class="line">chown :sxtswap   ooxx.file</span><br><span class="line">chmod  770 ooxx.file</span><br><span class="line">id  username</span><br></pre></td></tr></table></figure>

<h2 id="Linux-编译安装"><a href="#Linux-编译安装" class="headerlink" title="Linux  编译安装"></a>Linux  编译安装</h2><table>
<thead>
<tr>
<th>执行顺</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>./configure</td>
<td>生成编译依赖关系</td>
</tr>
<tr>
<td>make</td>
<td>编译</td>
</tr>
<tr>
<td>make install</td>
<td>新建文件夹、拷贝文件</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">1，下载源码包</span><br><span class="line">2，解压缩：tar xf filename</span><br><span class="line">3，cd：vi README</span><br><span class="line">4，./configure</span><br><span class="line">检查操作系统</span><br><span class="line">检查编译环境</span><br><span class="line">yum install gcc</span><br><span class="line">pcre 依赖库</span><br><span class="line">yum search pcre</span><br><span class="line">yum install pcre-devel</span><br><span class="line">openssl</span><br><span class="line">yum install opssl-devel</span><br><span class="line">./configure --help</span><br><span class="line">./configure --prefix=/opt/sxt/nginx   #配置安装路径</span><br><span class="line">5，Makefile</span><br><span class="line">6，make</span><br><span class="line">7，make install</span><br><span class="line">8，cd /opt/sxt/nginx/sbin     ./nginx</span><br><span class="line">9，浏览器访问测试</span><br><span class="line">10，祝君好运~！</span><br></pre></td></tr></table></figure>

<h2 id="Linux-RPM-安装"><a href="#Linux-RPM-安装" class="headerlink" title="Linux RPM 安装"></a>Linux RPM 安装</h2><blockquote>
<p>Redhat提供了rpm管理体系<br>已经编译的软件包：针对不同的平台系统编译目标软件包<br>操作系统维护安装信息<br>软件包包含依赖检查，但还需人为解决</p>
</blockquote>
<p><strong>安装 rpm 软件</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh  xxxx.rpm</span><br></pre></td></tr></table></figure>

<p><strong>rpm 命令使用</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">rpm安装：</span><br><span class="line">-ivh  filename</span><br><span class="line">--prefix</span><br><span class="line">rpm升级：</span><br><span class="line">-Uvh</span><br><span class="line">-Fvh</span><br><span class="line">rpm卸载：</span><br><span class="line">-e PACKAGE_NAME</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> rpm查询</span><br><span class="line">rpm -qa : 查询已经安装的所有包</span><br><span class="line">rpm -q  PACKAGE_NAME: 查询指定的包是否已经安装</span><br><span class="line">rpm -qi PACKAGE_NAME: 查询指定包的说明信息</span><br><span class="line">rpm -ql PACKAGE_NAME: 查询指定包安装后生成的文件列表</span><br><span class="line">rpm -qc PACEAGE_NEME：查询指定包安装的配置文件</span><br><span class="line">rpm -qd PACKAGE_NAME: 查询指定包安装的帮助文件</span><br><span class="line">rpm -q --scripts PACKAGE_NAME: 查询指定包中包含的脚本	</span><br><span class="line">rpm -qf /path/to/somefile: 查询文件是由哪个rpm包安装生成的	</span><br><span class="line">如果某rpm包尚未安装，需查询其说明信息、安装以后会生成的文件</span><br><span class="line">rpm -qpi /PATH/TO/PACKAGE_FILE</span><br><span class="line">rpm -qpl</span><br></pre></td></tr></table></figure>

<h2 id="Linux-YUM-安装"><a href="#Linux-YUM-安装" class="headerlink" title="Linux YUM 安装"></a>Linux YUM 安装</h2><h3 id="yum-命令"><a href="#yum-命令" class="headerlink" title="yum 命令"></a>yum 命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">yum命令：</span><br><span class="line">yum repolist</span><br><span class="line">yum clean all</span><br><span class="line">yum makecache</span><br><span class="line">yum update</span><br><span class="line">查询：</span><br><span class="line">yum list</span><br><span class="line">yum search</span><br><span class="line">yum info</span><br><span class="line">安装&amp;卸载：</span><br><span class="line">yum install </span><br><span class="line">remove|erase</span><br><span class="line"></span><br><span class="line">yum命令：分组</span><br><span class="line">yum grouplist</span><br><span class="line">yum groupinfo</span><br><span class="line">yum groupinstall</span><br><span class="line">yum groupremove</span><br><span class="line">yum groupupdate</span><br></pre></td></tr></table></figure>

<h4 id="更换安装为阿里源"><a href="#更换安装为阿里源" class="headerlink" title="更换安装为阿里源"></a>更换安装为阿里源</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 备份</span><br><span class="line">mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 下载阿里 yum 源</span><br><span class="line">curl -o /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 更新缓存</span><br><span class="line">yum makecache</span><br></pre></td></tr></table></figure>

<h4 id="本地-yum-源"><a href="#本地-yum-源" class="headerlink" title="本地 yum 源"></a>本地 yum 源</h4><ol>
<li>为当前虚拟机挂载镜像文件</li>
</ol>
<p><img src="http://img.zwer.xyz/blog/20190923144107.png" alt></p>
<ol start="2">
<li>操作</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 挂载 cdrom </span><br><span class="line">mount /dev/cdrom /mnt</span><br><span class="line"></span><br><span class="line">repo：</span><br><span class="line">/etc/yum.repos.d/</span><br><span class="line">[repoID]</span><br><span class="line">baseurl=</span><br><span class="line">http://</span><br><span class="line">file://</span><br><span class="line">ftp://</span><br><span class="line"><span class="meta">#</span>gpgchkeck= 有1和0两个选择，分别代表是否是否进行gpg校验，如果没有这一项，默认是检查的。 </span><br><span class="line">gpgcheck=1/0</span><br><span class="line"><span class="meta">#</span>当某个软件仓库被配置成 enabled=0 时，yum 在安装或升级软件包时不会将该仓库做为软件包提供源。使用这个选项，可以启用或禁用软件仓库。  </span><br><span class="line">enable=0/1</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>[base]</span><br><span class="line">name=local</span><br><span class="line">failovermethod=priority</span><br><span class="line">baseurl=file:///mnt</span><br><span class="line">gpgcheck=1</span><br><span class="line">enable=1</span><br></pre></td></tr></table></figure>

<p>注意： <strong>若包名中间包括空格，一定使用双引号括起来</strong></p>
<h4 id="中文显示，查看中文文档"><a href="#中文显示，查看中文文档" class="headerlink" title="中文显示，查看中文文档"></a>中文显示，查看中文文档</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> yum 的 repo 变成aliyun  || 本地DVD</span><br><span class="line">yum grouplist</span><br><span class="line">yum groupinstall "Chinese Support"</span><br><span class="line">echo $LANG</span><br><span class="line">en_US.UTF-8</span><br><span class="line">LANG=zh_CN.UTF-8</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>增加epel的repo：</span><br><span class="line">http://mirrors.aliyun.com</span><br><span class="line"><span class="meta">epel&gt;</span>&gt;&gt;&gt;&gt;help</span><br><span class="line">wget centos6.......</span><br><span class="line"></span><br><span class="line">yum clean all</span><br><span class="line">yum makecache</span><br><span class="line">yum search man-pages</span><br><span class="line">yum install man man-pages man-pages-zh-CN</span><br><span class="line">【【【【 man bash 】】】】</span><br></pre></td></tr></table></figure>

<h2 id="文本流"><a href="#文本流" class="headerlink" title="文本流"></a>文本流</h2><blockquote>
<p>变量<br>引用&amp;命令替换<br>退出状态&amp;逻辑判断<br>表达式<br>流程控制</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">重定向：不是命令</span><br><span class="line">程序自身都有I/O</span><br><span class="line">0：标准输入</span><br><span class="line">1：标准输出</span><br><span class="line">2：错误输出</span><br><span class="line">控制程序I/O位置</span><br><span class="line">一切皆文件</span><br><span class="line">/proc/$$/fd</span><br><span class="line">程序是否处理I/O？</span><br><span class="line">绑定顺序：从左到右</span><br></pre></td></tr></table></figure>

<h4 id="输出重定向"><a href="#输出重定向" class="headerlink" title="输出重定向"></a>输出重定向</h4><table>
<thead>
<tr>
<th>输出重定向</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>1&gt;xxx</code></td>
<td>标准输出覆盖重定向</td>
</tr>
<tr>
<td><code>1&gt;&gt;xxx</code></td>
<td>标准输出追加重定向</td>
</tr>
<tr>
<td><code>2&gt;xxx</code></td>
<td>错误覆盖重定向</td>
</tr>
<tr>
<td><code>2&gt;&gt;xxx</code></td>
<td>错误追加重定向</td>
</tr>
<tr>
<td><code>&gt;&amp;</code>或者<code>&amp;&gt;</code>   xxx</td>
<td>向 xxx 文件添加错误和标准输出信息</td>
</tr>
</tbody></table>
<p>注意： 重定向符号左边都不能包括空格</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 god]# ls /yy 2&gt;error</span><br><span class="line">[root@node01 god]# ll</span><br><span class="line">total 8</span><br><span class="line">-rw-r--r--. 1 root root 140 Sep 22 22:39 a</span><br><span class="line">-rw-r--r--. 1 root root  49 Sep 22 22:40 error</span><br><span class="line">[root@node01 god]# cat error </span><br><span class="line">ls: cannot access /yy: No such file or directory</span><br><span class="line">[root@node01 god]# ls /123 2&gt;&gt;error</span><br><span class="line">[root@node01 god]# cat error</span><br><span class="line">ls: cannot access /yy: No such file or directory</span><br><span class="line">ls: cannot access /123: No such file or directory</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@node01 god]# ls / /suibian 1&gt;ls02.out 2&gt;&amp;1</span><br><span class="line">[root@node01 god]# cat ls02.out</span><br><span class="line">ls: cannot access /suibian: No such file or directory</span><br><span class="line">/:</span><br><span class="line">abc</span><br><span class="line">bin</span><br><span class="line"><span class="meta">#</span> ... 省略</span><br><span class="line">[root@node01 god]# ls / /suibian &gt;&amp; ls01.out</span><br><span class="line">[root@node01 god]# cat ls01.out </span><br><span class="line">ls: cannot access /suibian: No such file or directory</span><br><span class="line">/:</span><br><span class="line">abc</span><br><span class="line">bin</span><br><span class="line">boot</span><br><span class="line"><span class="meta">#</span> ... 省略</span><br></pre></td></tr></table></figure>

<p> 注意： 若一条命令中既包括错误输出，也包括正确输出，则先输出错误输出     </p>
<h4 id="输入重定向"><a href="#输入重定向" class="headerlink" title="输入重定向"></a>输入重定向</h4><table>
<thead>
<tr>
<th>输入重定向</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>&lt;&lt;&lt;</code></td>
<td>从字符串中读取输入</td>
</tr>
<tr>
<td><code>&lt;&lt;E</code></td>
<td>从键盘中读取输入,E表示结束符</td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td>从文件中读取输入</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 god]# read aaa &lt;&lt;&lt;"HelloWord"</span><br><span class="line">[root@node01 god]# echo $aaa</span><br><span class="line">HelloWord</span><br><span class="line">[root@node01 god]# read aaa&lt;&lt;GG</span><br><span class="line"><span class="meta">&gt;</span> ljasf</span><br><span class="line"><span class="meta">&gt;</span> ajlsdfj;la</span><br><span class="line"><span class="meta">&gt;</span> ;ajdfkl</span><br><span class="line"><span class="meta">&gt;</span> GG  #跟 GG 一样，表示输入退出</span><br><span class="line">[root@node01 god]# echo $aaa</span><br><span class="line">ljasf</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> input.sh 脚本</span><br><span class="line">cat &lt;&lt;AABB</span><br><span class="line">print error info</span><br><span class="line">AABB</span><br><span class="line">echo "you know me .."</span><br><span class="line"><span class="meta">#</span> 执行</span><br><span class="line">source input.sh</span><br><span class="line"></span><br><span class="line">[root@node01 god]# cat 0&lt; /etc/in</span><br><span class="line">init/    init.d/  inittab  inputrc  </span><br><span class="line">[root@node01 god]# cat 0&lt; /etc/inittab </span><br><span class="line"><span class="meta">#</span> inittab is only used by upstart for the default runlevel.</span><br><span class="line"><span class="meta">#</span></span><br><span class="line"><span class="meta">#</span> ADDING OTHER CONFIGURATION HERE WILL HAVE NO EFFECT ON YOUR SYSTEM.</span><br></pre></td></tr></table></figure>

<h4 id="全重定向"><a href="#全重定向" class="headerlink" title="全重定向"></a>全重定向</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">exec 8&lt;&gt; /dev/tcp/www.baidu.com/80</span><br><span class="line">echo -e "GET / HTTP/1.0\n" &gt;&amp; 8</span><br><span class="line">cat &lt;&amp; 8</span><br></pre></td></tr></table></figure>

<h2 id="Shell-编程"><a href="#Shell-编程" class="headerlink" title="Shell 编程"></a>Shell 编程</h2><h3 id="bash"><a href="#bash" class="headerlink" title="bash"></a>bash</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">shell  bash</span><br><span class="line">解释器，启动器</span><br><span class="line">解释器：</span><br><span class="line">用户交互输入</span><br><span class="line">文本文件输入*</span><br><span class="line">脚本本质：</span><br><span class="line"><span class="meta">#</span>! /bin/bash</span><br><span class="line"><span class="meta">#</span>! /usr/bin/python</span><br><span class="line">读取方式：</span><br><span class="line">当前shell：source/.</span><br><span class="line">新建子shell：/bin/bash  file   /   ./file.sh  《chmod +x file.sh》</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>执行方式</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>source  xxx.sh</td>
<td>在当前 bash 中执行脚本</td>
</tr>
<tr>
<td>./xxx.sh</td>
<td>开启一个子 bash 执行脚本</td>
</tr>
</tbody></table>
<p>注意：在不同 bash 中执行的结果有可能不相同，即要理清父子 bash 之间的关系</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 sh]# echo $$</span><br><span class="line">1132</span><br><span class="line">[root@node01 sh]# source sh01.sh </span><br><span class="line">abc  boot  etc   lib    lost+found  mnt  proc  sbin     share  sys  usr</span><br><span class="line">bin  dev   home  lib64  media       opt  root  selinux  srv    tmp  var</span><br><span class="line">Hello World</span><br><span class="line">1132</span><br><span class="line">init─┬─auditd───&#123;auditd&#125;</span><br><span class="line">     ├─crond</span><br><span class="line">     ├─dbus-daemon───&#123;dbus-daemon&#125;</span><br><span class="line">     ├─master─┬─pickup</span><br><span class="line">     │        └─qmgr</span><br><span class="line">     ├─6*[mingetty]</span><br><span class="line">     ├─rsyslogd───3*[&#123;rsyslogd&#125;]</span><br><span class="line">     ├─sshd───sshd───bash───pstree</span><br><span class="line">     └─udevd───2*[udevd]</span><br><span class="line">[root@node01 sh]# ./sh01.sh </span><br><span class="line">abc  boot  etc	 lib	lost+found  mnt  proc  sbin	share  sys  usr</span><br><span class="line">bin  dev   home  lib64	media	    opt  root  selinux	srv    tmp  var</span><br><span class="line">Hello World</span><br><span class="line">1296</span><br><span class="line">init─┬─auditd───&#123;auditd&#125;</span><br><span class="line">     ├─crond</span><br><span class="line">     ├─dbus-daemon───&#123;dbus-daemon&#125;</span><br><span class="line">     ├─master─┬─pickup</span><br><span class="line">     │        └─qmgr</span><br><span class="line">     ├─6*[mingetty]</span><br><span class="line">     ├─rsyslogd───3*[&#123;rsyslogd&#125;]</span><br><span class="line">     ├─sshd───sshd───bash───bash───pstree</span><br><span class="line">     └─udevd───2*[udevd]</span><br></pre></td></tr></table></figure>

<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><table>
<thead>
<tr>
<th>类型</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>本地变量</td>
<td>作用于当前 bash 中</td>
</tr>
<tr>
<td>局部变量</td>
<td>local，只作用于当前代码块</td>
</tr>
<tr>
<td>位置变量</td>
<td><code>$1</code>,<code>$2，</code>，从脚本文件后，读取参数</td>
</tr>
<tr>
<td>特殊变量</td>
<td><code>$#</code>: 位置参数个数<br><code>$*</code>: 参数列表，双引号引用为一个字符串<br><code>$@</code>: 参数列表，双引号引用为单独的字符串<br><code>$$</code>:当前 shell 的 PID：接收者<br><code>$BASHPID</code>:真实<br>管道 *<br>$?:上一个命令退出状态<br>    - 0 成功<br>    -other: 失败</td>
</tr>
<tr>
<td>环境变量</td>
<td>- export 定义变量<br>- 导出到子 shell<br>- fork()  Copy On Write  时间复杂度 O(1)<br>适用用于函数<br>unset: 取消变量<br>set: 查看shell 的变量</td>
</tr>
</tbody></table>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 sh]# num=1</span><br><span class="line">[root@node01 sh]# myfunc()&#123;</span><br><span class="line"><span class="meta">&gt;</span> echo $num</span><br><span class="line"><span class="meta">&gt;</span> echo HelloWorld</span><br><span class="line"><span class="meta">&gt;</span> &#125;</span><br><span class="line">[root@node01 sh]# myfunc</span><br><span class="line">1</span><br><span class="line">HelloWorld</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 本地变量 local</span><br><span class="line">[root@node01 sh]# myfunc()&#123;</span><br><span class="line"><span class="meta">&gt;</span> local fun=1</span><br><span class="line"><span class="meta">&gt;</span> echo $fun</span><br><span class="line"><span class="meta">&gt;</span> echo ok</span><br><span class="line"><span class="meta">&gt;</span> &#125;</span><br><span class="line">[root@node01 sh]# myfunc</span><br><span class="line">1</span><br><span class="line">ok</span><br><span class="line">[root@node01 sh]# echo $fun</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> -------------------------------</span><br><span class="line"><span class="meta">#</span> 位置参数</span><br><span class="line">[root@node01 sh]# cat sh02.sh</span><br><span class="line">echo $1</span><br><span class="line">echo $2</span><br><span class="line">[root@node01 sh]# vi sh02.sh</span><br><span class="line">[root@node01 sh]# source sh02.sh 1 2 </span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 特殊参数</span><br><span class="line">[root@node01 sh]# cat sh02.sh </span><br><span class="line">echo $1</span><br><span class="line">echo $2</span><br><span class="line">echo $&#123;11&#125;</span><br><span class="line">echo "---------"</span><br><span class="line">echo &#123;'position parameters:'&#125;$#</span><br><span class="line">echo $@</span><br><span class="line">[root@node01 sh]# source sh02.sh a b c d e f j h k m n o</span><br><span class="line">a</span><br><span class="line">b</span><br><span class="line">n</span><br><span class="line">---------</span><br><span class="line">&#123;position parameters:&#125;12</span><br><span class="line">a b c d e f j h k m n o</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>查看上一个命令的执行状态</span><br><span class="line">[root@node01 sh]# ls /</span><br><span class="line">abc  bin  boot  dev  etc  home  lib  lib64  lost+found  media  mnt  opt  proc  root  sbin  selinux  share  srv  sys  tmp  usr  var</span><br><span class="line">[root@node01 sh]# echo $?</span><br><span class="line">0</span><br><span class="line">[root@node01 sh]# ls /asf</span><br><span class="line">ls: cannot access /asf: No such file or directory</span><br><span class="line">[root@node01 sh]# echo $?</span><br><span class="line">2</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 数组使用</span><br><span class="line">[root@node01 sh]# arr=(1 2 3)</span><br><span class="line">[root@node01 sh]# echo $arr[1]</span><br><span class="line">1[1]</span><br><span class="line">[root@node01 sh]# echo $&#123;arr[1]&#125;</span><br><span class="line">2</span><br><span class="line">[root@node01 sh]# echo $&#123;arr[0]&#125;</span><br><span class="line">1</span><br><span class="line">[root@node01 sh]# echo $&#123;arr[2]&#125;</span><br><span class="line">3</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 变量与其他字符串的拼接，需要使用花括号 &#123;&#125;，标识为变量</span><br><span class="line">[root@node01 sh]# num=1</span><br><span class="line">[root@node01 sh]# echo $num1231</span><br><span class="line"></span><br><span class="line">[root@node01 sh]# echo $&#123;num&#125;111</span><br><span class="line">1111</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> 管道--管道两边分为在两个子 bash 中，  子 bash 可以使用父 bash 中的引用</span><br><span class="line">[root@node01 sh]# dd=1</span><br><span class="line">[root@node01 sh]# dd=10 | echo $dd</span><br><span class="line">1</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span> export 导入不共享</span><br><span class="line">[root@node01 sh]# cat sh04.sh </span><br><span class="line">echo $k</span><br><span class="line">echo "-------------"</span><br><span class="line">sleep 10</span><br><span class="line">echo $k</span><br><span class="line">[root@node01 sh]# export k=5</span><br><span class="line">[root@node01 sh]# ./sh04.sh &amp;  # $ 表示在后台运行</span><br><span class="line">[1] 1729</span><br><span class="line">[root@node01 sh]# 5</span><br><span class="line">-------------</span><br><span class="line">^C</span><br><span class="line">[root@node01 sh]# k=8</span><br><span class="line">[root@node01 sh]# 5</span><br><span class="line">^C</span><br><span class="line">[1]+  Done                    ./sh04.sh</span><br></pre></td></tr></table></figure>

<p>注意： </p>
<ol>
<li>数组元素之间通过空格分隔，使用逗号分号，bash 会把数组整体当做字符串使用</li>
<li>export 导出非共享<h3 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h3><blockquote>
<p>双引号：弱引用，参数扩展<br>单引号：强引用，不可嵌套<br>花括号扩展不能被引用<br>命令执行前删除引用</p>
</blockquote>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 sh]# kk=12</span><br><span class="line">[root@node01 sh]# echo "$kk"</span><br><span class="line">12</span><br><span class="line">[root@node01 sh]# echo '$kk'</span><br><span class="line"><span class="meta">$</span>kk</span><br><span class="line"><span class="meta">#</span> 花括号扩展不能被引用</span><br><span class="line">[root@node01 b]# cp  "/etc/&#123;passwd,inittab&#125;" ./</span><br><span class="line">cp: cannot stat `/etc/&#123;passwd,inittab&#125;': No such file or directory</span><br></pre></td></tr></table></figure>

</li>
</ol>
<h3 id="命令替换"><a href="#命令替换" class="headerlink" title="命令替换"></a>命令替换</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">反引号：`ls -l /`</span><br><span class="line"><span class="meta">$</span>(ls -l /)</span><br><span class="line">可以嵌套</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 sh]# echo "`echo 123`"</span><br><span class="line">123</span><br><span class="line"></span><br><span class="line">[root@node01 sh]# abc=$(echo $(echo "sxt"))</span><br><span class="line">[root@node01 sh]# echo $abc</span><br><span class="line">sxt</span><br><span class="line"></span><br><span class="line">[root@node01 sh]# abc=$(ls -l /)</span><br><span class="line">[root@node01 sh]# echo $abc</span><br><span class="line">total 98 drwxrw-r-x. 3 root root 4096 Sep 22 13:53 abc dr-xr-xr-x. 2 root root 4096 Sep 22 21:34 bin dr-xr-xr-x. 5 root root 1024 Sep 21 19:29 boot drwxr-xr-x. 18 root root 3680 Sep 22 21:45 dev drwxr-xr-x. 76 root root 4096 Sep 22 21:45 etc drwxr-xr-x. 4 root root 4096 Sep 22 13:04 home dr-xr-xr-x. 8 root root 4096 Sep 22 14:16 lib dr-xr-xr-x. 10 root root 12288 Sep 22 21:34 lib64 drwx------. 2 root root 16384 Sep 21 19:28 lost+found drwxr-xr-x. 2 root root 4096 Sep 23 2011 media drwxr-xr-x. 2 root root 4096 Sep 23 2011 mnt drwxr-xr-x. 2 root root 4096 Sep 23 2011 opt dr-xr-xr-x. 87 root root 0 Sep 22 21:45 proc dr-xr-x---. 5 root root 4096 Sep 23 03:26 root dr-xr-xr-x. 2 root root 12288 Sep 22 17:58 sbin drwxr-xr-x. 7 root root 0 Sep 22 21:45 selinux drwxrwx---. 2 root share 4096 Sep 22 13:51 share drwxr-xr-x. 2 root root 4096 Sep 23 2011 srv drwxr-xr-x. 13 root root 0 Sep 22 21:45 sys drwxrwxrwt. 3 root root 4096 Sep 23 02:02 tmp drwxr-xr-x. 14 root root 4096 Sep 22 17:50 usr drwxr-xr-x. 17 root root 4096 Sep 21 19:28 var</span><br></pre></td></tr></table></figure>

<h3 id="逻辑判断"><a href="#逻辑判断" class="headerlink" title="逻辑判断*"></a>逻辑判断*</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">退出状态</span><br><span class="line">echo $?</span><br><span class="line">逻辑判断</span><br><span class="line">command1 &amp;&amp; command2</span><br><span class="line">command1 || command2</span><br></pre></td></tr></table></figure>

<h3 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h3><h4 id="算术表达式"><a href="#算术表达式" class="headerlink" title="算术表达式"></a>算术表达式</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">let  算术运算表达式</span><br><span class="line">let  C=$A+$B</span><br><span class="line"><span class="meta">$</span>[算术表达式]</span><br><span class="line">C =$[$A+$B]</span><br><span class="line"><span class="meta">$</span>((算术表达式))</span><br><span class="line">C=$(($A+$B))</span><br><span class="line">expr  算术表达式  </span><br><span class="line">注意：表达式中各操作数及运算符之间要有空格。而且要使用命令引用</span><br><span class="line">C=`expr $A + $B`</span><br><span class="line">help let</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 sh]# a=1</span><br><span class="line">[root@node01 sh]# b=2</span><br><span class="line">[root@node01 sh]# let c=$a+$b</span><br><span class="line">[root@node01 sh]# echo $c</span><br><span class="line">3</span><br><span class="line">[root@node01 sh]# c=3</span><br><span class="line">[root@node01 sh]# d=4</span><br><span class="line">[root@node01 sh]# e=$(($c+$d))</span><br><span class="line">[root@node01 sh]# echo $e</span><br><span class="line">7</span><br><span class="line">[root@node01 sh]# j=1</span><br><span class="line">[root@node01 sh]# k=2</span><br><span class="line">[root@node01 sh]# c=$((j+k))</span><br><span class="line">[root@node01 sh]# echo $c</span><br><span class="line">3</span><br><span class="line"></span><br><span class="line">[root@node01 sh]# echo $a</span><br><span class="line">2</span><br><span class="line">[root@node01 sh]# ((a++))</span><br><span class="line">[root@node01 sh]# echo $a</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<h4 id="条件表达式"><a href="#条件表达式" class="headerlink" title="条件表达式"></a>条件表达式</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[  expression  ]</span><br><span class="line">test expression</span><br><span class="line">[[ expression ]]</span><br><span class="line">help test</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@node01 sh]# test -a /etc/adf</span><br><span class="line">[root@node01 sh]# echo $?</span><br><span class="line">1</span><br><span class="line">[root@node01 sh]# test -a /etc/password</span><br><span class="line">[root@node01 sh]# echo $?</span><br><span class="line">1</span><br><span class="line"></span><br><span class="line">[root@node01 sh]# [ $a -gt $b ]</span><br><span class="line">[root@node01 sh]# echo $?</span><br><span class="line">0</span><br><span class="line"></span><br><span class="line">[root@node01 sh]# [3 -gt 2]</span><br><span class="line">-bash: [3: command not found</span><br><span class="line">[root@node01 sh]# [ 3 -gt 2 ]</span><br><span class="line">[root@node01 sh]# echo $?</span><br><span class="line">0</span><br></pre></td></tr></table></figure>

<p><em>注意： 靠近 [] ，需要有空格间隔</em></p>
<h4 id="添加用户脚本"><a href="#添加用户脚本" class="headerlink" title="添加用户脚本"></a>添加用户脚本</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>添加用户</span><br><span class="line"><span class="meta">#</span>用户密码同用户名</span><br><span class="line"><span class="meta">#</span>静默运行脚本</span><br><span class="line"><span class="meta">#</span>避免捕获用户接口</span><br><span class="line"><span class="meta">#</span>程序自定义输出</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span>! /bin/bash</span><br><span class="line">[ ! $# -eq 1 ] &amp;&amp; echo "args error ! " &amp;&amp; exit 3</span><br><span class="line">id $1 &gt;&amp;/dev/null &amp;&amp; echo "user exits" &amp;&amp; exit 4</span><br><span class="line">useradd $1 &gt;&amp; /dev/null &amp;&amp; echo $1 | passwd --stdin $1 &gt;&amp; /dev/null &amp;&amp; echo "useradd user success!" &amp;&amp; exit 0</span><br><span class="line">echo "don't know, user add error!"</span><br></pre></td></tr></table></figure>

<h3 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h3><h4 id="if"><a href="#if" class="headerlink" title="if"></a>if</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[test06@node01 sh]$ if [ 3 -gt 1 ]; then echo ok; fi</span><br><span class="line">ok</span><br><span class="line">[test06@node01 sh]$ a=1</span><br><span class="line">[test06@node01 sh]$ b=2</span><br><span class="line">[test06@node01 sh]$ if [ $b -lt $a ];then echo ok;elif [ $b -gt $a ];then echo ojbk;fi</span><br><span class="line">ojbk</span><br><span class="line">[test06@node01 sh]$ if [ $b -lt $a ];then echo lt;else echo gt;fi</span><br><span class="line">gt</span><br></pre></td></tr></table></figure>

<h4 id="while"><a href="#while" class="headerlink" title="while"></a>while</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[test06@node01 sh]$ while ls /;do echo ok;break;done</span><br><span class="line">abc  boot  etc   lib    lost+found  mnt  proc  sbin     share  sys  usr</span><br><span class="line">bin  dev   home  lib64  media       opt  root  selinux  srv    tmp  var</span><br><span class="line">ok</span><br><span class="line">[test06@node01 sh]$ a=1</span><br><span class="line">[test06@node01 sh]$ while [ $a -le 5 ];do echo $a;((a++));done</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td></tr></table></figure>

<h4 id="for"><a href="#for" class="headerlink" title="for"></a>for</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[test06@node01 sh]$ for ((ab=1;ab&lt;5;ab++));do echo ab=$ab;done</span><br><span class="line">ab=1</span><br><span class="line">ab=2</span><br><span class="line">ab=3</span><br><span class="line">ab=4</span><br><span class="line">[test06@node01 sh]$ for i in 1 2 3 4 5;do echo $i;done</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span> 用户给定路径</span><br><span class="line"><span class="meta">#</span> 输出文件大小最大的文件</span><br><span class="line"><span class="meta">#</span> 递归子目录</span><br><span class="line"><span class="meta">#</span>! /bin/bash</span><br><span class="line">oldIFS=$IFS</span><br><span class="line">IFS=$'\n'</span><br><span class="line">for i in `du -a $1 | sort -nr`;do</span><br><span class="line">        filename=`echo $i | awk '&#123;print $2&#125;'`</span><br><span class="line">        if [ -f $filename ];then</span><br><span class="line">                echo $filename</span><br><span class="line">                break;</span><br><span class="line">        fi</span><br><span class="line">done</span><br><span class="line">IFS=$oldIFS</span><br></pre></td></tr></table></figure>

<p>注意: 变量的赋值等于号前面两边不能有空格，bash 对空格敏感</p>
<h4 id="循环遍历文件输出"><a href="#循环遍历文件输出" class="headerlink" title="循环遍历文件输出"></a>循环遍历文件输出</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span>! /bin/bash</span><br><span class="line">oldIFS=$IFS</span><br><span class="line">IFS=$'\n'</span><br><span class="line">num=0</span><br><span class="line">for i in `cat file.txt`;do</span><br><span class="line">        echo $i</span><br><span class="line">        ((num++));</span><br><span class="line">done</span><br><span class="line"><span class="meta">#</span>! /bin/bash</span><br><span class="line">oldIFS=$IFS</span><br><span class="line">IFS=$'\n'</span><br><span class="line">num=0</span><br><span class="line">for i in `cat file.txt`;do</span><br><span class="line">        echo $i</span><br><span class="line">        ((num++));</span><br><span class="line">done</span><br><span class="line">echo "num:$num"</span><br><span class="line">IFS=$oldIFS</span><br><span class="line">echo "---------------"</span><br><span class="line">lines=`cat file.txt | wc -l`</span><br><span class="line">for ((i=1;i&lt;=lines;i++));do</span><br><span class="line">        echo `head -$i file.txt | tail -1`</span><br><span class="line">        ((line++))</span><br><span class="line">done</span><br><span class="line">echo "line:$line"</span><br><span class="line">echo "---------------"</span><br><span class="line">num=0</span><br><span class="line">while  read line ;do</span><br><span class="line">        echo $line</span><br><span class="line">        ((num++ ))</span><br><span class="line">done &lt; file.txt</span><br><span class="line">echo "num:$num"</span><br><span class="line">echo "-----------------"</span><br><span class="line">num=0</span><br><span class="line">cat file.txt | while  read line;do</span><br><span class="line">        echo $line</span><br><span class="line">        ((num++))</span><br><span class="line">done</span><br><span class="line">echo "num:$num"</span><br></pre></td></tr></table></figure>


    </div>

    
    
    
        
      

      <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2019/09/02/20190902大数据入门/" rel="next" title="大数据入门">
                  <i class="fa fa-chevron-left"></i> 大数据入门
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/2019/09/24/20190924  TCP、keepalived、Nginx/" rel="prev" title="20190924 高并发">
                  20190924 高并发 <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Linux-基础"><span class="nav-number">1.</span> <span class="nav-text">Linux  基础</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux-开始"><span class="nav-number">1.1.</span> <span class="nav-text">Linux 开始</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#虚拟机-Linux-准备工作"><span class="nav-number">1.1.1.</span> <span class="nav-text">虚拟机 Linux 准备工作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Linux-安装步骤"><span class="nav-number">1.1.1.1.</span> <span class="nav-text">Linux 安装步骤</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Linux-静态-IP-设置"><span class="nav-number">1.1.1.2.</span> <span class="nav-text">Linux 静态 IP 设置</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Linux-网络配置文件位置"><span class="nav-number">1.1.1.2.1.</span> <span class="nav-text">Linux 网络配置文件位置</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#使用-VM-软件-记录快照"><span class="nav-number">1.1.1.3.</span> <span class="nav-text">使用 VM 软件 记录快照</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Linux-关机和重启命令"><span class="nav-number">1.1.1.4.</span> <span class="nav-text">Linux 关机和重启命令</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Linux-常用命令"><span class="nav-number">1.1.2.</span> <span class="nav-text">Linux 常用命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Linux命令执行流程"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">Linux命令执行流程</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Linux-文件系统"><span class="nav-number">1.1.3.</span> <span class="nav-text">Linux 文件系统</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#boot-目录的挂载与卸载"><span class="nav-number">1.1.3.1.</span> <span class="nav-text">boot 目录的挂载与卸载</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#File-System-Hierarchy-Standard"><span class="nav-number">1.1.3.2.</span> <span class="nav-text">File System Hierarchy Standard</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文本操作命令"><span class="nav-number">1.1.4.</span> <span class="nav-text">文本操作命令</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#vi-全屏文本编辑器"><span class="nav-number">1.1.5.</span> <span class="nav-text">vi 全屏文本编辑器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#打开方式"><span class="nav-number">1.1.5.1.</span> <span class="nav-text">打开方式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#关闭文件"><span class="nav-number">1.1.5.2.</span> <span class="nav-text">关闭文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#三种模式"><span class="nav-number">1.1.5.3.</span> <span class="nav-text">三种模式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#末行模式小技巧"><span class="nav-number">1.1.5.4.</span> <span class="nav-text">末行模式小技巧</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#正则表达式"><span class="nav-number">1.2.</span> <span class="nav-text">正则表达式</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文本处理"><span class="nav-number">1.3.</span> <span class="nav-text">文本处理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#cut-命令"><span class="nav-number">1.3.0.1.</span> <span class="nav-text">cut 命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sort命令"><span class="nav-number">1.3.0.2.</span> <span class="nav-text">sort命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#wc-命令"><span class="nav-number">1.3.0.3.</span> <span class="nav-text">wc 命令</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#行编辑器"><span class="nav-number">1.3.1.</span> <span class="nav-text">行编辑器</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#sed-命令"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">sed 命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#awk-命令"><span class="nav-number">1.3.1.2.</span> <span class="nav-text">awk 命令</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux-用户管理"><span class="nav-number">1.4.</span> <span class="nav-text">Linux 用户管理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#权限"><span class="nav-number">1.4.0.1.</span> <span class="nav-text">权限</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux-编译安装"><span class="nav-number">1.5.</span> <span class="nav-text">Linux  编译安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux-RPM-安装"><span class="nav-number">1.6.</span> <span class="nav-text">Linux RPM 安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Linux-YUM-安装"><span class="nav-number">1.7.</span> <span class="nav-text">Linux YUM 安装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#yum-命令"><span class="nav-number">1.7.1.</span> <span class="nav-text">yum 命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#更换安装为阿里源"><span class="nav-number">1.7.1.1.</span> <span class="nav-text">更换安装为阿里源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#本地-yum-源"><span class="nav-number">1.7.1.2.</span> <span class="nav-text">本地 yum 源</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#中文显示，查看中文文档"><span class="nav-number">1.7.1.3.</span> <span class="nav-text">中文显示，查看中文文档</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文本流"><span class="nav-number">1.8.</span> <span class="nav-text">文本流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#输出重定向"><span class="nav-number">1.8.0.1.</span> <span class="nav-text">输出重定向</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#输入重定向"><span class="nav-number">1.8.0.2.</span> <span class="nav-text">输入重定向</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#全重定向"><span class="nav-number">1.8.0.3.</span> <span class="nav-text">全重定向</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Shell-编程"><span class="nav-number">1.9.</span> <span class="nav-text">Shell 编程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#bash"><span class="nav-number">1.9.1.</span> <span class="nav-text">bash</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#变量"><span class="nav-number">1.9.2.</span> <span class="nav-text">变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#引用"><span class="nav-number">1.9.3.</span> <span class="nav-text">引用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#命令替换"><span class="nav-number">1.9.4.</span> <span class="nav-text">命令替换</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#逻辑判断"><span class="nav-number">1.9.5.</span> <span class="nav-text">逻辑判断*</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#表达式"><span class="nav-number">1.9.6.</span> <span class="nav-text">表达式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#算术表达式"><span class="nav-number">1.9.6.1.</span> <span class="nav-text">算术表达式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#条件表达式"><span class="nav-number">1.9.6.2.</span> <span class="nav-text">条件表达式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#添加用户脚本"><span class="nav-number">1.9.6.3.</span> <span class="nav-text">添加用户脚本</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#流程控制"><span class="nav-number">1.9.7.</span> <span class="nav-text">流程控制</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#if"><span class="nav-number">1.9.7.1.</span> <span class="nav-text">if</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#while"><span class="nav-number">1.9.7.2.</span> <span class="nav-text">while</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#for"><span class="nav-number">1.9.7.3.</span> <span class="nav-text">for</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#循环遍历文件输出"><span class="nav-number">1.9.7.4.</span> <span class="nav-text">循环遍历文件输出</span></a></li></ol></li></ol></li></ol></li></ol></div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">zwer</p>
  <div class="site-description" itemprop="description">记录学习的日常</div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">13</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
  </nav>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zwer</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.4.0</div>

        












        
      </div>
    </footer>
  </div>

  


  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.0"></script><script src="/js/motion.js?v=7.4.0"></script>
<script src="/js/schemes/muse.js?v=7.4.0"></script>
<script src="/js/next-boot.js?v=7.4.0"></script>



  





















  

  

  

</body>
</html>
